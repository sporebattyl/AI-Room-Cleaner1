{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.222128", "seconds": 2.222128}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 28536, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:51.482079-05:00", "timestamp": 1749991731.482079}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:02.499237", "seconds": 2.499237}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 28536, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:51.759188-05:00", "timestamp": 1749991731.759188}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.500079", "seconds": 2.500079}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 28536, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:51.760030-05:00", "timestamp": 1749991731.76003}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.500541", "seconds": 2.500541}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 28536, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:51.760492-05:00", "timestamp": 1749991731.760492}}}
{"text": "Initializing application state.\n", "record": {"elapsed": {"repr": "0:00:02.500908", "seconds": 2.500908}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 51, "message": "Initializing application state.", "module": "state", "name": "backend.core.state", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 28536, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:51.760859-05:00", "timestamp": 1749991731.760859}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.501227", "seconds": 2.501227}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 28536, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:51.761178-05:00", "timestamp": 1749991731.761178}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.501555", "seconds": 2.501555}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 28536, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:51.761506-05:00", "timestamp": 1749991731.761506}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.501863", "seconds": 2.501863}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 28536, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:51.761814-05:00", "timestamp": 1749991731.761814}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.502195", "seconds": 2.502195}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 28536, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:51.762146-05:00", "timestamp": 1749991731.762146}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.502494", "seconds": 2.502494}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 28536, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:51.762445-05:00", "timestamp": 1749991731.762445}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.502770", "seconds": 2.50277}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 28536, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:51.762721-05:00", "timestamp": 1749991731.762721}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.503081", "seconds": 2.503081}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 28536, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:51.763032-05:00", "timestamp": 1749991731.763032}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.503405", "seconds": 2.503405}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 28536, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:51.763356-05:00", "timestamp": 1749991731.763356}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.503725", "seconds": 2.503725}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 28536, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:51.763676-05:00", "timestamp": 1749991731.763676}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.504012", "seconds": 2.504012}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 28536, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:51.763963-05:00", "timestamp": 1749991731.763963}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.705312", "seconds": 2.705312}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 28536, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:51.965263-05:00", "timestamp": 1749991731.965263}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.706233", "seconds": 2.706233}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 28536, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:51.966184-05:00", "timestamp": 1749991731.966184}}}
{"text": "Received request for secure room analysis\n", "record": {"elapsed": {"repr": "0:00:02.715628", "seconds": 2.715628}, "exception": null, "extra": {"request_id": "e960bc5c-1350-47d0-a08c-0a5b5176cab3"}, "file": {"name": "router.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py"}, "function": "analyze_room_secure", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 84, "message": "Received request for secure room analysis", "module": "router", "name": "backend.api.router", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 28536, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:51.975579-05:00", "timestamp": 1749991731.975579}}}
{"text": "An unexpected error occurred\n  + Exception Group Traceback (most recent call last):\n  |\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 177, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x000002997482C2D0>\n  |                │     └ <function create_task_group at 0x000002996D5DF6A0>\n  |                └ <module 'anyio' from 'C:\\\\Users\\\\dmjtx\\\\AppData\\\\Local\\\\pypoetry\\\\Cache\\\\virtualenvs\\\\ai-room-cleaner-UUzRmTiU-py3.13\\\\Lib\\\\s...\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000029974824180>\n    |           │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000029974824040>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <backend.main.RequestSizeLimitMiddleware object at 0x00000299736EFA10>\n    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000299736EFB60>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x000002997042EE80>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'ai_service'\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x0000029973756190>\n    |     └ <contextlib._GeneratorContextManager object at 0x00000299747F24A0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000029974824360>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x00000299736463C0>\n    |                      │    └ <bound method RequestSizeLimitMiddleware.dispatch of <backend.main.RequestSizeLimitMiddleware object at 0x00000299736EFA10>>\n    |                      └ <backend.main.RequestSizeLimitMiddleware object at 0x00000299736EFA10>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py\", line 133, in dispatch\n    |     return await call_next(request)\n    |                  │         └ <starlette.middleware.base._CachedRequest object at 0x00000299736463C0>\n    |                  └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000029974824360>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ AttributeError(\"'State' object has no attribute 'ai_service'\")\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000029974824540>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000299748244A0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <backend.core.logging.LoggingMiddleware object at 0x00000299736EF8C0>\n    |           └ <backend.main.RequestSizeLimitMiddleware object at 0x00000299736EFA10>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x000002997042EE80>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'ai_service'\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x0000029974818AD0>\n    |     └ <contextlib._GeneratorContextManager object at 0x00000299747F2430>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000002997473B880>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x000002997482C410>\n    |                      │    └ <bound method LoggingMiddleware.dispatch of <backend.core.logging.LoggingMiddleware object at 0x00000299736EF8C0>>\n    |                      └ <backend.core.logging.LoggingMiddleware object at 0x00000299736EF8C0>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\logging.py\", line 37, in dispatch\n    |     response = await call_next(request)\n    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x000002997482C410>\n    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000002997473B880>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ AttributeError(\"'State' object has no attribute 'ai_service'\")\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000299748247C0>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974824720>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000299736EF4D0>\n    |           └ <backend.core.logging.LoggingMiddleware object at 0x00000299736EF8C0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000299748247C0>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974824720>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000299736ED6A0>\n    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x00000299736EF4D0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000299748247C0>\n    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974824720>\n    |           │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │                            │    │    └ <starlette.requests.Request object at 0x0000029974799FD0>\n    |           │                            │    └ <fastapi.routing.APIRouter object at 0x000002997366C7D0>\n    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000299736ED6A0>\n    |           └ <function wrap_app_handling_exceptions at 0x00000299704FF100>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029974824B80>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974824720>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           └ <fastapi.routing.APIRouter object at 0x000002997366C7D0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 714, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029974824B80>\n    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974824720>\n    |           │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002997366C7D0>>\n    |           └ <fastapi.routing.APIRouter object at 0x000002997366C7D0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 734, in app\n    |     await route.handle(scope, receive, send)\n    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029974824B80>\n    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974824720>\n    |           │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │     └ <function Route.handle at 0x000002997052C860>\n    |           └ APIRoute(path='/v1/analyze-room-secure', name='analyze_room_secure', methods=['POST'])\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029974824B80>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974824720>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <function request_response.<locals>.app at 0x00000299736753A0>\n    |           └ APIRoute(path='/v1/analyze-room-secure', name='analyze_room_secure', methods=['POST'])\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029974824B80>\n    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974824720>\n    |           │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │                            │    └ <starlette.requests.Request object at 0x000002997482C7D0>\n    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000029974824CC0>\n    |           └ <function wrap_app_handling_exceptions at 0x00000299704FF100>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029974824E00>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974824720>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           └ <function request_response.<locals>.app.<locals>.app at 0x0000029974824CC0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                      │ └ <starlette.requests.Request object at 0x000002997482C7D0>\n    |                      └ <function get_request_handler.<locals>.app at 0x0000029973675300>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                          └ <function run_endpoint_function at 0x00000299704FE8E0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 212, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |                  │         │      └ {'api_key': 'test-key', 'file': UploadFile(filename='test.jpg', size=15, headers=Headers({'content-disposition': 'form-data; ...\n    |                  │         └ <function analyze_room_secure at 0x000002997363B740>\n    |                  └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=File(Pydant...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\slowapi\\extension.py\", line 734, in async_wrapper\n    |     response = await func(*args, **kwargs)  # type: ignore\n    |                      │     │       └ {'api_key': 'test-key', 'file': UploadFile(filename='test.jpg', size=15, headers=Headers({'content-disposition': 'form-data; ...\n    |                      │     └ ()\n    |                      └ <function analyze_room_secure at 0x000002997363B560>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py\", line 85, in analyze_room_secure\n    |     ai_service: AIService = request.app.state.ai_service\n    |                             │       └ <property object at 0x00000299704792B0>\n    |                             └ <starlette.requests.Request object at 0x000002997482C7D0>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\datastructures.py\", line 671, in __getattr__\n    |     raise AttributeError(message.format(self.__class__.__name__, key))\n    |                          │       │      │    │         │         └ 'ai_service'\n    |                          │       │      │    │         └ <member '__name__' of 'getset_descriptor' objects>\n    |                          │       │      │    └ <attribute '__class__' of 'object' objects>\n    |                          │       │      └ <starlette.datastructures.State object at 0x0000029973645160>\n    |                          │       └ <method 'format' of 'str' objects>\n    |                          └ \"'{}' object has no attribute '{}'\"\n    |\n    | AttributeError: 'State' object has no attribute 'ai_service'\n    +------------------------------------\n\n\nDuring handling of the above exception, another exception occurred:\n\n\nTraceback (most recent call last):\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 1012, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x000002996CB111C0>\n    └ <Thread(Thread-2 (run_blocking_portal), started daemon 28536)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 1041, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x000002996CB10F40>\n    └ <Thread(Thread-2 (run_blocking_portal), started daemon 28536)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 992, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-2 (run_blocking_portal), started daemon 28536)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-2 (run_blocking_portal), started daemon 28536)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x000002997370B4C0>\n    └ <Thread(Thread-2 (run_blocking_portal), started daemon 28536)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x000002996D554360>\n    └ <module 'anyio._core._eventloop' from 'C:\\\\Users\\\\dmjtx\\\\AppData\\\\Local\\\\pypoetry\\\\Cache\\\\virtualenvs\\\\ai-room-cleaner-UUzRmT...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_core\\_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x000002997370B420>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x00000299747700E0>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x000002997363AA20>\n           │      └ <function Runner.run at 0x000002996EF6D3A0>\n           └ <asyncio.runners.Runner object at 0x00000299736474D0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002996EF6ADE0>\n           │    └ <ProactorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x00000299736474D0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x000002996EF6AD40>\n    └ <ProactorEventLoop running=True closed=False debug=False>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x000002996EF6CB80>\n    └ <ProactorEventLoop running=True closed=False debug=False>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x000002996EEC23E0>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\from_thread.py\", line 221, in _call_func\n    retval = await retval_or_awaitable\n                   └ <coroutine object FastAPI.__call__ at 0x000002997373DD50>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\applications.py\", line 1054, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x00000299748240E0>\n                           │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000029974824040>\n                           └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\applications.py\", line 112, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x00000299748240E0>\n          │    │                │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000029974824040>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000299736EFB60>\n          └ <fastapi.applications.FastAPI object at 0x0000029973644AD0>\n> File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000029974824180>\n          │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000029974824040>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <backend.main.RequestSizeLimitMiddleware object at 0x00000299736EFA10>\n          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000299736EFB60>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x000002997042EE80>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'ai_service'\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x0000029973756190>\n    └ <contextlib._GeneratorContextManager object at 0x00000299747F24A0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000029974824360>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x00000299736463C0>\n                     │    └ <bound method RequestSizeLimitMiddleware.dispatch of <backend.main.RequestSizeLimitMiddleware object at 0x00000299736EFA10>>\n                     └ <backend.main.RequestSizeLimitMiddleware object at 0x00000299736EFA10>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py\", line 133, in dispatch\n    return await call_next(request)\n                 │         └ <starlette.middleware.base._CachedRequest object at 0x00000299736463C0>\n                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000029974824360>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    raise app_exc\n          └ AttributeError(\"'State' object has no attribute 'ai_service'\")\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000029974824540>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000299748244A0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <backend.core.logging.LoggingMiddleware object at 0x00000299736EF8C0>\n          └ <backend.main.RequestSizeLimitMiddleware object at 0x00000299736EFA10>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x000002997042EE80>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'ai_service'\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x0000029974818AD0>\n    └ <contextlib._GeneratorContextManager object at 0x00000299747F2430>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000002997473B880>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x000002997482C410>\n                     │    └ <bound method LoggingMiddleware.dispatch of <backend.core.logging.LoggingMiddleware object at 0x00000299736EF8C0>>\n                     └ <backend.core.logging.LoggingMiddleware object at 0x00000299736EF8C0>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\logging.py\", line 37, in dispatch\n    response = await call_next(request)\n                     │         └ <starlette.middleware.base._CachedRequest object at 0x000002997482C410>\n                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000002997473B880>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    raise app_exc\n          └ AttributeError(\"'State' object has no attribute 'ai_service'\")\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000299748247C0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974824720>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000299736EF4D0>\n          └ <backend.core.logging.LoggingMiddleware object at 0x00000299736EF8C0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000299748247C0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974824720>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000299736ED6A0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000299736EF4D0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000299748247C0>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974824720>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │                            │    │    └ <starlette.requests.Request object at 0x0000029974799FD0>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x000002997366C7D0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000299736ED6A0>\n          └ <function wrap_app_handling_exceptions at 0x00000299704FF100>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029974824B80>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974824720>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          └ <fastapi.routing.APIRouter object at 0x000002997366C7D0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029974824B80>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974824720>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002997366C7D0>>\n          └ <fastapi.routing.APIRouter object at 0x000002997366C7D0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029974824B80>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974824720>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │     └ <function Route.handle at 0x000002997052C860>\n          └ APIRoute(path='/v1/analyze-room-secure', name='analyze_room_secure', methods=['POST'])\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029974824B80>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974824720>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <function request_response.<locals>.app at 0x00000299736753A0>\n          └ APIRoute(path='/v1/analyze-room-secure', name='analyze_room_secure', methods=['POST'])\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029974824B80>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974824720>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │                            │    └ <starlette.requests.Request object at 0x000002997482C7D0>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000029974824CC0>\n          └ <function wrap_app_handling_exceptions at 0x00000299704FF100>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029974824E00>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974824720>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          └ <function request_response.<locals>.app.<locals>.app at 0x0000029974824CC0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x000002997482C7D0>\n                     └ <function get_request_handler.<locals>.app at 0x0000029973675300>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x00000299704FE8E0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'api_key': 'test-key', 'file': UploadFile(filename='test.jpg', size=15, headers=Headers({'content-disposition': 'form-data; ...\n                 │         └ <function analyze_room_secure at 0x000002997363B740>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=File(Pydant...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\slowapi\\extension.py\", line 734, in async_wrapper\n    response = await func(*args, **kwargs)  # type: ignore\n                     │     │       └ {'api_key': 'test-key', 'file': UploadFile(filename='test.jpg', size=15, headers=Headers({'content-disposition': 'form-data; ...\n                     │     └ ()\n                     └ <function analyze_room_secure at 0x000002997363B560>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py\", line 85, in analyze_room_secure\n    ai_service: AIService = request.app.state.ai_service\n                            │       └ <property object at 0x00000299704792B0>\n                            └ <starlette.requests.Request object at 0x000002997482C7D0>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\datastructures.py\", line 671, in __getattr__\n    raise AttributeError(message.format(self.__class__.__name__, key))\n                         │       │      │    │         │         └ 'ai_service'\n                         │       │      │    │         └ <member '__name__' of 'getset_descriptor' objects>\n                         │       │      │    └ <attribute '__class__' of 'object' objects>\n                         │       │      └ <starlette.datastructures.State object at 0x0000029973645160>\n                         │       └ <method 'format' of 'str' objects>\n                         └ \"'{}' object has no attribute '{}'\"\n\nAttributeError: 'State' object has no attribute 'ai_service'\n", "record": {"elapsed": {"repr": "0:00:02.716701", "seconds": 2.716701}, "exception": {"type": "AttributeError", "value": "'State' object has no attribute 'ai_service'", "traceback": true}, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "generic_exception_handler", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 101, "message": "An unexpected error occurred", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 28536, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:51.976652-05:00", "timestamp": 1749991731.976652}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:03.721639", "seconds": 3.721639}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 28536, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:52.981590-05:00", "timestamp": 1749991732.98159}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:03.752191", "seconds": 3.752191}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 20220, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:53.012142-05:00", "timestamp": 1749991733.012142}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:03.948618", "seconds": 3.948618}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 20220, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:53.208569-05:00", "timestamp": 1749991733.208569}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.949562", "seconds": 3.949562}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 20220, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:53.209513-05:00", "timestamp": 1749991733.209513}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.949915", "seconds": 3.949915}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 20220, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:53.209866-05:00", "timestamp": 1749991733.209866}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:03.950235", "seconds": 3.950235}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 20220, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:53.210186-05:00", "timestamp": 1749991733.210186}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:03.950538", "seconds": 3.950538}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 20220, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:53.210489-05:00", "timestamp": 1749991733.210489}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:03.950896", "seconds": 3.950896}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 20220, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:53.210847-05:00", "timestamp": 1749991733.210847}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:03.951195", "seconds": 3.951195}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 20220, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:53.211146-05:00", "timestamp": 1749991733.211146}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:03.951481", "seconds": 3.951481}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 20220, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:53.211432-05:00", "timestamp": 1749991733.211432}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:03.951758", "seconds": 3.951758}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 20220, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:53.211709-05:00", "timestamp": 1749991733.211709}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:03.952030", "seconds": 3.95203}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 20220, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:53.211981-05:00", "timestamp": 1749991733.211981}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:03.952435", "seconds": 3.952435}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 20220, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:53.212386-05:00", "timestamp": 1749991733.212386}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:03.952759", "seconds": 3.952759}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 20220, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:53.212710-05:00", "timestamp": 1749991733.21271}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:03.953054", "seconds": 3.953054}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 20220, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:53.213005-05:00", "timestamp": 1749991733.213005}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:03.953349", "seconds": 3.953349}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 20220, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:53.213300-05:00", "timestamp": 1749991733.2133}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:04.152967", "seconds": 4.152967}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 20220, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:53.412918-05:00", "timestamp": 1749991733.412918}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:04.153536", "seconds": 4.153536}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 20220, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:53.413487-05:00", "timestamp": 1749991733.413487}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:04.163073", "seconds": 4.163073}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 20220, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:53.423024-05:00", "timestamp": 1749991733.423024}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:04.171790", "seconds": 4.17179}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 276, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:53.431741-05:00", "timestamp": 1749991733.431741}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:04.369312", "seconds": 4.369312}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 276, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:53.629263-05:00", "timestamp": 1749991733.629263}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:04.370254", "seconds": 4.370254}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 276, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:53.630205-05:00", "timestamp": 1749991733.630205}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:04.370588", "seconds": 4.370588}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 276, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:53.630539-05:00", "timestamp": 1749991733.630539}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:04.370924", "seconds": 4.370924}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 276, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:53.630875-05:00", "timestamp": 1749991733.630875}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:04.371251", "seconds": 4.371251}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 276, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:53.631202-05:00", "timestamp": 1749991733.631202}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:04.371612", "seconds": 4.371612}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 276, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:53.631563-05:00", "timestamp": 1749991733.631563}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:04.371941", "seconds": 4.371941}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 276, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:53.631892-05:00", "timestamp": 1749991733.631892}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:04.372241", "seconds": 4.372241}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 276, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:53.632192-05:00", "timestamp": 1749991733.632192}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:04.372551", "seconds": 4.372551}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 276, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:53.632502-05:00", "timestamp": 1749991733.632502}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:04.372875", "seconds": 4.372875}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 276, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:53.632826-05:00", "timestamp": 1749991733.632826}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:04.373216", "seconds": 4.373216}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 276, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:53.633167-05:00", "timestamp": 1749991733.633167}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:04.373525", "seconds": 4.373525}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 276, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:53.633476-05:00", "timestamp": 1749991733.633476}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:04.373823", "seconds": 4.373823}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 276, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:53.633774-05:00", "timestamp": 1749991733.633774}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:04.374099", "seconds": 4.374099}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 276, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:53.634050-05:00", "timestamp": 1749991733.63405}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:04.576096", "seconds": 4.576096}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 276, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:53.836047-05:00", "timestamp": 1749991733.836047}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:04.576845", "seconds": 4.576845}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 276, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:53.836796-05:00", "timestamp": 1749991733.836796}}}
{"text": "Received request for secure room analysis\n", "record": {"elapsed": {"repr": "0:00:04.583153", "seconds": 4.583153}, "exception": null, "extra": {"request_id": "a0d941f2-f140-4d05-9b3e-951b7a49fd01"}, "file": {"name": "router.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py"}, "function": "analyze_room_secure", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 84, "message": "Received request for secure room analysis", "module": "router", "name": "backend.api.router", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 276, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:53.843104-05:00", "timestamp": 1749991733.843104}}}
{"text": "An unexpected error occurred\n  + Exception Group Traceback (most recent call last):\n  |\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 177, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x0000029974F461A0>\n  |                │     └ <function create_task_group at 0x000002996D5DF6A0>\n  |                └ <module 'anyio' from 'C:\\\\Users\\\\dmjtx\\\\AppData\\\\Local\\\\pypoetry\\\\Cache\\\\virtualenvs\\\\ai-room-cleaner-UUzRmTiU-py3.13\\\\Lib\\\\s...\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000029974AF1260>\n    |           │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000029974AF0900>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <backend.main.RequestSizeLimitMiddleware object at 0x00000299736EFA10>\n    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000299736EFB60>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x000002997042EE80>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'ai_service'\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x0000029974F457D0>\n    |     └ <contextlib._GeneratorContextManager object at 0x0000029974B0FAF0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000029974AF11C0>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x00000299747FC8A0>\n    |                      │    └ <bound method RequestSizeLimitMiddleware.dispatch of <backend.main.RequestSizeLimitMiddleware object at 0x00000299736EFA10>>\n    |                      └ <backend.main.RequestSizeLimitMiddleware object at 0x00000299736EFA10>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py\", line 133, in dispatch\n    |     return await call_next(request)\n    |                  │         └ <starlette.middleware.base._CachedRequest object at 0x00000299747FC8A0>\n    |                  └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000029974AF11C0>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ AttributeError(\"'State' object has no attribute 'ai_service'\")\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000029974AF09A0>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974AF1D00>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <backend.core.logging.LoggingMiddleware object at 0x00000299736EF8C0>\n    |           └ <backend.main.RequestSizeLimitMiddleware object at 0x00000299736EFA10>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x000002997042EE80>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'ai_service'\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x0000029974F453C0>\n    |     └ <contextlib._GeneratorContextManager object at 0x0000029974B0FB60>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000029974AF16C0>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000029973711D90>\n    |                      │    └ <bound method LoggingMiddleware.dispatch of <backend.core.logging.LoggingMiddleware object at 0x00000299736EF8C0>>\n    |                      └ <backend.core.logging.LoggingMiddleware object at 0x00000299736EF8C0>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\logging.py\", line 37, in dispatch\n    |     response = await call_next(request)\n    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x0000029973711D90>\n    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000029974AF16C0>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ AttributeError(\"'State' object has no attribute 'ai_service'\")\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000029974AF1EE0>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974AF1E40>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000299736EF4D0>\n    |           └ <backend.core.logging.LoggingMiddleware object at 0x00000299736EF8C0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000029974AF1EE0>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974AF1E40>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000299736ED6A0>\n    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x00000299736EF4D0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000029974AF1EE0>\n    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974AF1E40>\n    |           │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │                            │    │    └ <starlette.requests.Request object at 0x0000029975A0DFD0>\n    |           │                            │    └ <fastapi.routing.APIRouter object at 0x000002997366C7D0>\n    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000299736ED6A0>\n    |           └ <function wrap_app_handling_exceptions at 0x00000299704FF100>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029974AF22A0>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974AF1E40>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           └ <fastapi.routing.APIRouter object at 0x000002997366C7D0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 714, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029974AF22A0>\n    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974AF1E40>\n    |           │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002997366C7D0>>\n    |           └ <fastapi.routing.APIRouter object at 0x000002997366C7D0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 734, in app\n    |     await route.handle(scope, receive, send)\n    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029974AF22A0>\n    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974AF1E40>\n    |           │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │     └ <function Route.handle at 0x000002997052C860>\n    |           └ APIRoute(path='/v1/analyze-room-secure', name='analyze_room_secure', methods=['POST'])\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029974AF22A0>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974AF1E40>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <function request_response.<locals>.app at 0x00000299736753A0>\n    |           └ APIRoute(path='/v1/analyze-room-secure', name='analyze_room_secure', methods=['POST'])\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029974AF22A0>\n    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974AF1E40>\n    |           │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │                            │    └ <starlette.requests.Request object at 0x0000029975A13020>\n    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000029974AF2340>\n    |           └ <function wrap_app_handling_exceptions at 0x00000299704FF100>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029974AF2480>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974AF1E40>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           └ <function request_response.<locals>.app.<locals>.app at 0x0000029974AF2340>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                      │ └ <starlette.requests.Request object at 0x0000029975A13020>\n    |                      └ <function get_request_handler.<locals>.app at 0x0000029973675300>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                          └ <function run_endpoint_function at 0x00000299704FE8E0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 212, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |                  │         │      └ {'api_key': 'test-key', 'file': UploadFile(filename='test.txt', size=14, headers=Headers({'content-disposition': 'form-data; ...\n    |                  │         └ <function analyze_room_secure at 0x000002997363B740>\n    |                  └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=File(Pydant...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\slowapi\\extension.py\", line 734, in async_wrapper\n    |     response = await func(*args, **kwargs)  # type: ignore\n    |                      │     │       └ {'api_key': 'test-key', 'file': UploadFile(filename='test.txt', size=14, headers=Headers({'content-disposition': 'form-data; ...\n    |                      │     └ ()\n    |                      └ <function analyze_room_secure at 0x000002997363B560>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py\", line 85, in analyze_room_secure\n    |     ai_service: AIService = request.app.state.ai_service\n    |                             │       └ <property object at 0x00000299704792B0>\n    |                             └ <starlette.requests.Request object at 0x0000029975A13020>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\datastructures.py\", line 671, in __getattr__\n    |     raise AttributeError(message.format(self.__class__.__name__, key))\n    |                          │       │      │    │         │         └ 'ai_service'\n    |                          │       │      │    │         └ <member '__name__' of 'getset_descriptor' objects>\n    |                          │       │      │    └ <attribute '__class__' of 'object' objects>\n    |                          │       │      └ <starlette.datastructures.State object at 0x0000029973645160>\n    |                          │       └ <method 'format' of 'str' objects>\n    |                          └ \"'{}' object has no attribute '{}'\"\n    |\n    | AttributeError: 'State' object has no attribute 'ai_service'\n    +------------------------------------\n\n\nDuring handling of the above exception, another exception occurred:\n\n\nTraceback (most recent call last):\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 1012, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x000002996CB111C0>\n    └ <Thread(Thread-5 (run_blocking_portal), started daemon 276)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 1041, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x000002996CB10F40>\n    └ <Thread(Thread-5 (run_blocking_portal), started daemon 276)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 992, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-5 (run_blocking_portal), started daemon 276)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-5 (run_blocking_portal), started daemon 276)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x0000029974AF07C0>\n    └ <Thread(Thread-5 (run_blocking_portal), started daemon 276)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x000002996D554360>\n    └ <module 'anyio._core._eventloop' from 'C:\\\\Users\\\\dmjtx\\\\AppData\\\\Local\\\\pypoetry\\\\Cache\\\\virtualenvs\\\\ai-room-cleaner-UUzRmT...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_core\\_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x0000029974AF0360>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x00000299747700E0>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x0000029974AF0040>\n           │      └ <function Runner.run at 0x000002996EF6D3A0>\n           └ <asyncio.runners.Runner object at 0x0000029974734F50>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002996EF6ADE0>\n           │    └ <ProactorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x0000029974734F50>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x000002996EF6AD40>\n    └ <ProactorEventLoop running=True closed=False debug=False>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x000002996EF6CB80>\n    └ <ProactorEventLoop running=True closed=False debug=False>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x000002996EEC23E0>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\from_thread.py\", line 221, in _call_func\n    retval = await retval_or_awaitable\n                   └ <coroutine object FastAPI.__call__ at 0x00000299750308B0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\applications.py\", line 1054, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x0000029974AF1C60>\n                           │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000029974AF0900>\n                           └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\applications.py\", line 112, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x0000029974AF1C60>\n          │    │                │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000029974AF0900>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000299736EFB60>\n          └ <fastapi.applications.FastAPI object at 0x0000029973644AD0>\n> File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000029974AF1260>\n          │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000029974AF0900>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <backend.main.RequestSizeLimitMiddleware object at 0x00000299736EFA10>\n          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000299736EFB60>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x000002997042EE80>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'ai_service'\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x0000029974F457D0>\n    └ <contextlib._GeneratorContextManager object at 0x0000029974B0FAF0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000029974AF11C0>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x00000299747FC8A0>\n                     │    └ <bound method RequestSizeLimitMiddleware.dispatch of <backend.main.RequestSizeLimitMiddleware object at 0x00000299736EFA10>>\n                     └ <backend.main.RequestSizeLimitMiddleware object at 0x00000299736EFA10>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py\", line 133, in dispatch\n    return await call_next(request)\n                 │         └ <starlette.middleware.base._CachedRequest object at 0x00000299747FC8A0>\n                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000029974AF11C0>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    raise app_exc\n          └ AttributeError(\"'State' object has no attribute 'ai_service'\")\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000029974AF09A0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974AF1D00>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <backend.core.logging.LoggingMiddleware object at 0x00000299736EF8C0>\n          └ <backend.main.RequestSizeLimitMiddleware object at 0x00000299736EFA10>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x000002997042EE80>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'ai_service'\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x0000029974F453C0>\n    └ <contextlib._GeneratorContextManager object at 0x0000029974B0FB60>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000029974AF16C0>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000029973711D90>\n                     │    └ <bound method LoggingMiddleware.dispatch of <backend.core.logging.LoggingMiddleware object at 0x00000299736EF8C0>>\n                     └ <backend.core.logging.LoggingMiddleware object at 0x00000299736EF8C0>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\logging.py\", line 37, in dispatch\n    response = await call_next(request)\n                     │         └ <starlette.middleware.base._CachedRequest object at 0x0000029973711D90>\n                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000029974AF16C0>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    raise app_exc\n          └ AttributeError(\"'State' object has no attribute 'ai_service'\")\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000029974AF1EE0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974AF1E40>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000299736EF4D0>\n          └ <backend.core.logging.LoggingMiddleware object at 0x00000299736EF8C0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000029974AF1EE0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974AF1E40>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000299736ED6A0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000299736EF4D0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000029974AF1EE0>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974AF1E40>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │                            │    │    └ <starlette.requests.Request object at 0x0000029975A0DFD0>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x000002997366C7D0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000299736ED6A0>\n          └ <function wrap_app_handling_exceptions at 0x00000299704FF100>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029974AF22A0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974AF1E40>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          └ <fastapi.routing.APIRouter object at 0x000002997366C7D0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029974AF22A0>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974AF1E40>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002997366C7D0>>\n          └ <fastapi.routing.APIRouter object at 0x000002997366C7D0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029974AF22A0>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974AF1E40>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │     └ <function Route.handle at 0x000002997052C860>\n          └ APIRoute(path='/v1/analyze-room-secure', name='analyze_room_secure', methods=['POST'])\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029974AF22A0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974AF1E40>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <function request_response.<locals>.app at 0x00000299736753A0>\n          └ APIRoute(path='/v1/analyze-room-secure', name='analyze_room_secure', methods=['POST'])\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029974AF22A0>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974AF1E40>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │                            │    └ <starlette.requests.Request object at 0x0000029975A13020>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000029974AF2340>\n          └ <function wrap_app_handling_exceptions at 0x00000299704FF100>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000029974AF2480>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000029974AF1E40>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          └ <function request_response.<locals>.app.<locals>.app at 0x0000029974AF2340>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x0000029975A13020>\n                     └ <function get_request_handler.<locals>.app at 0x0000029973675300>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x00000299704FE8E0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'api_key': 'test-key', 'file': UploadFile(filename='test.txt', size=14, headers=Headers({'content-disposition': 'form-data; ...\n                 │         └ <function analyze_room_secure at 0x000002997363B740>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=File(Pydant...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\slowapi\\extension.py\", line 734, in async_wrapper\n    response = await func(*args, **kwargs)  # type: ignore\n                     │     │       └ {'api_key': 'test-key', 'file': UploadFile(filename='test.txt', size=14, headers=Headers({'content-disposition': 'form-data; ...\n                     │     └ ()\n                     └ <function analyze_room_secure at 0x000002997363B560>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py\", line 85, in analyze_room_secure\n    ai_service: AIService = request.app.state.ai_service\n                            │       └ <property object at 0x00000299704792B0>\n                            └ <starlette.requests.Request object at 0x0000029975A13020>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\datastructures.py\", line 671, in __getattr__\n    raise AttributeError(message.format(self.__class__.__name__, key))\n                         │       │      │    │         │         └ 'ai_service'\n                         │       │      │    │         └ <member '__name__' of 'getset_descriptor' objects>\n                         │       │      │    └ <attribute '__class__' of 'object' objects>\n                         │       │      └ <starlette.datastructures.State object at 0x0000029973645160>\n                         │       └ <method 'format' of 'str' objects>\n                         └ \"'{}' object has no attribute '{}'\"\n\nAttributeError: 'State' object has no attribute 'ai_service'\n", "record": {"elapsed": {"repr": "0:00:04.583750", "seconds": 4.58375}, "exception": {"type": "AttributeError", "value": "'State' object has no attribute 'ai_service'", "traceback": true}, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "generic_exception_handler", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 101, "message": "An unexpected error occurred", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 276, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:53.843701-05:00", "timestamp": 1749991733.843701}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:05.111324", "seconds": 5.111324}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 276, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:54.371275-05:00", "timestamp": 1749991734.371275}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:05.120164", "seconds": 5.120164}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 19524, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:54.380115-05:00", "timestamp": 1749991734.380115}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:05.320834", "seconds": 5.320834}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 19524, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:54.580785-05:00", "timestamp": 1749991734.580785}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:05.321829", "seconds": 5.321829}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 19524, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:54.581780-05:00", "timestamp": 1749991734.58178}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:05.322191", "seconds": 5.322191}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 19524, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:54.582142-05:00", "timestamp": 1749991734.582142}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:05.322522", "seconds": 5.322522}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 19524, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:54.582473-05:00", "timestamp": 1749991734.582473}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:05.322820", "seconds": 5.32282}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 19524, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:54.582771-05:00", "timestamp": 1749991734.582771}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:05.323125", "seconds": 5.323125}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 19524, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:54.583076-05:00", "timestamp": 1749991734.583076}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:05.323433", "seconds": 5.323433}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 19524, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:54.583384-05:00", "timestamp": 1749991734.583384}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:05.323730", "seconds": 5.32373}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 19524, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:54.583681-05:00", "timestamp": 1749991734.583681}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:05.324020", "seconds": 5.32402}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 19524, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:54.583971-05:00", "timestamp": 1749991734.583971}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:05.324293", "seconds": 5.324293}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 19524, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:54.584244-05:00", "timestamp": 1749991734.584244}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:05.324622", "seconds": 5.324622}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 19524, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:54.584573-05:00", "timestamp": 1749991734.584573}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:05.324940", "seconds": 5.32494}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 19524, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:54.584891-05:00", "timestamp": 1749991734.584891}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:05.325309", "seconds": 5.325309}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 19524, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:54.585260-05:00", "timestamp": 1749991734.58526}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:05.325610", "seconds": 5.32561}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 19524, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:54.585561-05:00", "timestamp": 1749991734.585561}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:05.529522", "seconds": 5.529522}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 19524, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:54.789473-05:00", "timestamp": 1749991734.789473}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:05.530088", "seconds": 5.530088}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 19524, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:54.790039-05:00", "timestamp": 1749991734.790039}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:05.539129", "seconds": 5.539129}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 19524, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:54.799080-05:00", "timestamp": 1749991734.79908}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:05.548534", "seconds": 5.548534}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 6664, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:54.808485-05:00", "timestamp": 1749991734.808485}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:05.746667", "seconds": 5.746667}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 6664, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.006618-05:00", "timestamp": 1749991735.006618}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:05.747603", "seconds": 5.747603}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 6664, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.007554-05:00", "timestamp": 1749991735.007554}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:05.747940", "seconds": 5.74794}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 6664, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.007891-05:00", "timestamp": 1749991735.007891}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:05.748283", "seconds": 5.748283}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 6664, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.008234-05:00", "timestamp": 1749991735.008234}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:05.748663", "seconds": 5.748663}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 6664, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.008614-05:00", "timestamp": 1749991735.008614}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:05.749044", "seconds": 5.749044}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 6664, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.008995-05:00", "timestamp": 1749991735.008995}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:05.749361", "seconds": 5.749361}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 6664, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.009312-05:00", "timestamp": 1749991735.009312}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:05.749744", "seconds": 5.749744}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 6664, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.009695-05:00", "timestamp": 1749991735.009695}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:05.750053", "seconds": 5.750053}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 6664, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.010004-05:00", "timestamp": 1749991735.010004}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:05.750367", "seconds": 5.750367}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 6664, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.010318-05:00", "timestamp": 1749991735.010318}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:05.750728", "seconds": 5.750728}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 6664, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.010679-05:00", "timestamp": 1749991735.010679}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:05.751041", "seconds": 5.751041}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 6664, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.010992-05:00", "timestamp": 1749991735.010992}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:05.751351", "seconds": 5.751351}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 6664, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.011302-05:00", "timestamp": 1749991735.011302}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:05.751668", "seconds": 5.751668}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 6664, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.011619-05:00", "timestamp": 1749991735.011619}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:05.951289", "seconds": 5.951289}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 6664, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.211240-05:00", "timestamp": 1749991735.21124}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:05.952364", "seconds": 5.952364}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 6664, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.212315-05:00", "timestamp": 1749991735.212315}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:05.962270", "seconds": 5.96227}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 6664, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.222221-05:00", "timestamp": 1749991735.222221}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:05.972880", "seconds": 5.97288}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 21608, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.232831-05:00", "timestamp": 1749991735.232831}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:06.171023", "seconds": 6.171023}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 21608, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.430974-05:00", "timestamp": 1749991735.430974}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:06.171939", "seconds": 6.171939}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 21608, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.431890-05:00", "timestamp": 1749991735.43189}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:06.172300", "seconds": 6.1723}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 21608, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.432251-05:00", "timestamp": 1749991735.432251}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:06.172635", "seconds": 6.172635}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 21608, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.432586-05:00", "timestamp": 1749991735.432586}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:06.172981", "seconds": 6.172981}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 21608, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.432932-05:00", "timestamp": 1749991735.432932}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:06.173353", "seconds": 6.173353}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 21608, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.433304-05:00", "timestamp": 1749991735.433304}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:06.173677", "seconds": 6.173677}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 21608, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.433628-05:00", "timestamp": 1749991735.433628}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:06.173994", "seconds": 6.173994}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 21608, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.433945-05:00", "timestamp": 1749991735.433945}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:06.174284", "seconds": 6.174284}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 21608, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.434235-05:00", "timestamp": 1749991735.434235}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:06.174576", "seconds": 6.174576}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 21608, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.434527-05:00", "timestamp": 1749991735.434527}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:06.174935", "seconds": 6.174935}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 21608, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.434886-05:00", "timestamp": 1749991735.434886}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:06.175249", "seconds": 6.175249}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 21608, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.435200-05:00", "timestamp": 1749991735.4352}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:06.175558", "seconds": 6.175558}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 21608, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.435509-05:00", "timestamp": 1749991735.435509}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:06.175862", "seconds": 6.175862}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 21608, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.435813-05:00", "timestamp": 1749991735.435813}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:06.373141", "seconds": 6.373141}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 21608, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.633092-05:00", "timestamp": 1749991735.633092}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:06.373988", "seconds": 6.373988}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 21608, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.633939-05:00", "timestamp": 1749991735.633939}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:06.384200", "seconds": 6.3842}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 21608, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.644151-05:00", "timestamp": 1749991735.644151}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:06.392425", "seconds": 6.392425}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 2180, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.652376-05:00", "timestamp": 1749991735.652376}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:06.590811", "seconds": 6.590811}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 2180, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.850762-05:00", "timestamp": 1749991735.850762}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:06.591814", "seconds": 6.591814}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 2180, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.851765-05:00", "timestamp": 1749991735.851765}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:06.592282", "seconds": 6.592282}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 2180, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.852233-05:00", "timestamp": 1749991735.852233}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:06.592632", "seconds": 6.592632}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 2180, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.852583-05:00", "timestamp": 1749991735.852583}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:06.592928", "seconds": 6.592928}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 2180, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.852879-05:00", "timestamp": 1749991735.852879}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:06.593302", "seconds": 6.593302}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 2180, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.853253-05:00", "timestamp": 1749991735.853253}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:06.593603", "seconds": 6.593603}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 2180, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.853554-05:00", "timestamp": 1749991735.853554}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:06.593891", "seconds": 6.593891}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 2180, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.853842-05:00", "timestamp": 1749991735.853842}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:06.594175", "seconds": 6.594175}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 2180, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.854126-05:00", "timestamp": 1749991735.854126}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:06.594445", "seconds": 6.594445}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 2180, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.854396-05:00", "timestamp": 1749991735.854396}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:06.594784", "seconds": 6.594784}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 2180, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.854735-05:00", "timestamp": 1749991735.854735}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:06.595109", "seconds": 6.595109}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 2180, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.855060-05:00", "timestamp": 1749991735.85506}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:06.595410", "seconds": 6.59541}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 2180, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.855361-05:00", "timestamp": 1749991735.855361}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:06.595685", "seconds": 6.595685}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 2180, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:55.855636-05:00", "timestamp": 1749991735.855636}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:06.792893", "seconds": 6.792893}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 2180, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:56.052844-05:00", "timestamp": 1749991736.052844}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:06.793893", "seconds": 6.793893}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 2180, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:56.053844-05:00", "timestamp": 1749991736.053844}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:06.801905", "seconds": 6.801905}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 17592, "name": "MainProcess"}, "thread": {"id": 2180, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:48:56.061856-05:00", "timestamp": 1749991736.061856}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.464733", "seconds": 2.464733}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 4748, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:57.676603-05:00", "timestamp": 1749991857.676603}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:02.668076", "seconds": 2.668076}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 4748, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:57.879946-05:00", "timestamp": 1749991857.879946}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.669043", "seconds": 2.669043}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 4748, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:57.880913-05:00", "timestamp": 1749991857.880913}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.669419", "seconds": 2.669419}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 4748, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:57.881289-05:00", "timestamp": 1749991857.881289}}}
{"text": "Initializing application state.\n", "record": {"elapsed": {"repr": "0:00:02.669817", "seconds": 2.669817}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 51, "message": "Initializing application state.", "module": "state", "name": "backend.core.state", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 4748, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:57.881687-05:00", "timestamp": 1749991857.881687}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.670190", "seconds": 2.67019}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 4748, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:57.882060-05:00", "timestamp": 1749991857.88206}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.670519", "seconds": 2.670519}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 4748, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:57.882389-05:00", "timestamp": 1749991857.882389}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.670815", "seconds": 2.670815}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 4748, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:57.882685-05:00", "timestamp": 1749991857.882685}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.671148", "seconds": 2.671148}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 4748, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:57.883018-05:00", "timestamp": 1749991857.883018}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.671456", "seconds": 2.671456}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 4748, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:57.883326-05:00", "timestamp": 1749991857.883326}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.671744", "seconds": 2.671744}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 4748, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:57.883614-05:00", "timestamp": 1749991857.883614}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.672077", "seconds": 2.672077}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 4748, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:57.883947-05:00", "timestamp": 1749991857.883947}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.672424", "seconds": 2.672424}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 4748, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:57.884294-05:00", "timestamp": 1749991857.884294}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.672726", "seconds": 2.672726}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 4748, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:57.884596-05:00", "timestamp": 1749991857.884596}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.673003", "seconds": 2.673003}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 4748, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:57.884873-05:00", "timestamp": 1749991857.884873}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.873691", "seconds": 2.873691}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 4748, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:58.085561-05:00", "timestamp": 1749991858.085561}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.874592", "seconds": 2.874592}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 4748, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:58.086462-05:00", "timestamp": 1749991858.086462}}}
{"text": "Received request for secure room analysis\n", "record": {"elapsed": {"repr": "0:00:02.884564", "seconds": 2.884564}, "exception": null, "extra": {"request_id": "9c9a4341-aab7-4278-9790-530b63de0631"}, "file": {"name": "router.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py"}, "function": "analyze_room_secure", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 84, "message": "Received request for secure room analysis", "module": "router", "name": "backend.api.router", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 4748, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:58.096434-05:00", "timestamp": 1749991858.096434}}}
{"text": "An unexpected error occurred\n  + Exception Group Traceback (most recent call last):\n  |\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 177, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x000001FC71D55090>\n  |                │     └ <function create_task_group at 0x000001FC6BC7F6A0>\n  |                └ <module 'anyio' from 'C:\\\\Users\\\\dmjtx\\\\AppData\\\\Local\\\\pypoetry\\\\Cache\\\\virtualenvs\\\\ai-room-cleaner-UUzRmTiU-py3.13\\\\Lib\\\\s...\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001FC72EF0B80>\n    |           │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x000001FC72EF0E00>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>\n    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001FC71D16510>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x000001FC6EB5AFC0>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'ai_service'\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x000001FC72EAC790>\n    |     └ <contextlib._GeneratorContextManager object at 0x000001FC72EC6B30>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC72EF09A0>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x000001FC6E6DE7B0>\n    |                      │    └ <bound method RequestSizeLimitMiddleware.dispatch of <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>>\n    |                      └ <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py\", line 134, in dispatch\n    |     return await call_next(request)\n    |                  │         └ <starlette.middleware.base._CachedRequest object at 0x000001FC6E6DE7B0>\n    |                  └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC72EF09A0>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ AttributeError(\"'State' object has no attribute 'ai_service'\")\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC72EF0720>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC72EF07C0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>\n    |           └ <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x000001FC6EB5AFC0>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'ai_service'\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x000001FC72EAD7D0>\n    |     └ <contextlib._GeneratorContextManager object at 0x000001FC72EC6AC0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC72ED0360>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x000001FC71D551D0>\n    |                      │    └ <bound method LoggingMiddleware.dispatch of <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>>\n    |                      └ <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\logging.py\", line 37, in dispatch\n    |     response = await call_next(request)\n    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x000001FC71D551D0>\n    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC72ED0360>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ AttributeError(\"'State' object has no attribute 'ai_service'\")\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC72EF0C20>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC72EF04A0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001FC71D170E0>\n    |           └ <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC72EF0C20>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC72EF04A0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001FC71D174D0>\n    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x000001FC71D170E0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC72EF0C20>\n    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC72EF04A0>\n    |           │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │                            │    │    └ <starlette.requests.Request object at 0x000001FC72E9DE80>\n    |           │                            │    └ <fastapi.routing.APIRouter object at 0x000001FC71D30910>\n    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001FC71D174D0>\n    |           └ <function wrap_app_handling_exceptions at 0x000001FC6EC2F240>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC72EF1300>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC72EF04A0>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           └ <fastapi.routing.APIRouter object at 0x000001FC71D30910>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 714, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC72EF1300>\n    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC72EF04A0>\n    |           │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001FC71D30910>>\n    |           └ <fastapi.routing.APIRouter object at 0x000001FC71D30910>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 734, in app\n    |     await route.handle(scope, receive, send)\n    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC72EF1300>\n    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC72EF04A0>\n    |           │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │     └ <function Route.handle at 0x000001FC6FE209A0>\n    |           └ APIRoute(path='/v1/analyze-room-secure', name='analyze_room_secure', methods=['POST'])\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC72EF1300>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC72EF04A0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <function request_response.<locals>.app at 0x000001FC71D3D580>\n    |           └ APIRoute(path='/v1/analyze-room-secure', name='analyze_room_secure', methods=['POST'])\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC72EF1300>\n    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC72EF04A0>\n    |           │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │                            │    └ <starlette.requests.Request object at 0x000001FC71D55590>\n    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001FC72EF1440>\n    |           └ <function wrap_app_handling_exceptions at 0x000001FC6EC2F240>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC72EF1580>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC72EF04A0>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           └ <function request_response.<locals>.app.<locals>.app at 0x000001FC72EF1440>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                      │ └ <starlette.requests.Request object at 0x000001FC71D55590>\n    |                      └ <function get_request_handler.<locals>.app at 0x000001FC71D3D4E0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                          └ <function run_endpoint_function at 0x000001FC6EC2EA20>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 212, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |                  │         │      └ {'api_key': 'test-key', 'file': UploadFile(filename='test.jpg', size=15, headers=Headers({'content-disposition': 'form-data; ...\n    |                  │         └ <function analyze_room_secure at 0x000001FC71D0B920>\n    |                  └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=File(Pydant...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\slowapi\\extension.py\", line 734, in async_wrapper\n    |     response = await func(*args, **kwargs)  # type: ignore\n    |                      │     │       └ {'api_key': 'test-key', 'file': UploadFile(filename='test.jpg', size=15, headers=Headers({'content-disposition': 'form-data; ...\n    |                      │     └ ()\n    |                      └ <function analyze_room_secure at 0x000001FC71D0B740>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py\", line 85, in analyze_room_secure\n    |     ai_service: AIService = request.app.state.ai_service\n    |                             │       └ <property object at 0x000001FC6EBA93F0>\n    |                             └ <starlette.requests.Request object at 0x000001FC71D55590>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\datastructures.py\", line 671, in __getattr__\n    |     raise AttributeError(message.format(self.__class__.__name__, key))\n    |                          │       │      │    │         │         └ 'ai_service'\n    |                          │       │      │    │         └ <member '__name__' of 'getset_descriptor' objects>\n    |                          │       │      │    └ <attribute '__class__' of 'object' objects>\n    |                          │       │      └ <starlette.datastructures.State object at 0x000001FC71D15160>\n    |                          │       └ <method 'format' of 'str' objects>\n    |                          └ \"'{}' object has no attribute '{}'\"\n    |\n    | AttributeError: 'State' object has no attribute 'ai_service'\n    +------------------------------------\n\n\nDuring handling of the above exception, another exception occurred:\n\n\nTraceback (most recent call last):\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 1012, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x000001FC6B1511C0>\n    └ <Thread(Thread-2 (run_blocking_portal), started daemon 4748)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 1041, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x000001FC6B150F40>\n    └ <Thread(Thread-2 (run_blocking_portal), started daemon 4748)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 992, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-2 (run_blocking_portal), started daemon 4748)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-2 (run_blocking_portal), started daemon 4748)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x000001FC71DE3880>\n    └ <Thread(Thread-2 (run_blocking_portal), started daemon 4748)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x000001FC6BBF4360>\n    └ <module 'anyio._core._eventloop' from 'C:\\\\Users\\\\dmjtx\\\\AppData\\\\Local\\\\pypoetry\\\\Cache\\\\virtualenvs\\\\ai-room-cleaner-UUzRmT...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_core\\_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x000001FC71DE37E0>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x000001FC72EDCF40>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x000001FC71D0AC00>\n           │      └ <function Runner.run at 0x000001FC6D72D3A0>\n           └ <asyncio.runners.Runner object at 0x000001FC71DBE120>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001FC6D726DE0>\n           │    └ <ProactorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x000001FC71DBE120>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x000001FC6D726D40>\n    └ <ProactorEventLoop running=True closed=False debug=False>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x000001FC6D72CB80>\n    └ <ProactorEventLoop running=True closed=False debug=False>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x000001FC6D6823E0>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\from_thread.py\", line 221, in _call_func\n    retval = await retval_or_awaitable\n                   └ <coroutine object FastAPI.__call__ at 0x000001FC72EAA5C0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\applications.py\", line 1054, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x000001FC72EF0D60>\n                           │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x000001FC72EF0E00>\n                           └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\applications.py\", line 112, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x000001FC72EF0D60>\n          │    │                │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x000001FC72EF0E00>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001FC71D16510>\n          └ <fastapi.applications.FastAPI object at 0x000001FC71D14AD0>\n> File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001FC72EF0B80>\n          │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x000001FC72EF0E00>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>\n          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001FC71D16510>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x000001FC6EB5AFC0>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'ai_service'\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x000001FC72EAC790>\n    └ <contextlib._GeneratorContextManager object at 0x000001FC72EC6B30>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC72EF09A0>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x000001FC6E6DE7B0>\n                     │    └ <bound method RequestSizeLimitMiddleware.dispatch of <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>>\n                     └ <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py\", line 134, in dispatch\n    return await call_next(request)\n                 │         └ <starlette.middleware.base._CachedRequest object at 0x000001FC6E6DE7B0>\n                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC72EF09A0>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    raise app_exc\n          └ AttributeError(\"'State' object has no attribute 'ai_service'\")\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC72EF0720>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC72EF07C0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>\n          └ <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x000001FC6EB5AFC0>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'ai_service'\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x000001FC72EAD7D0>\n    └ <contextlib._GeneratorContextManager object at 0x000001FC72EC6AC0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC72ED0360>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x000001FC71D551D0>\n                     │    └ <bound method LoggingMiddleware.dispatch of <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>>\n                     └ <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\logging.py\", line 37, in dispatch\n    response = await call_next(request)\n                     │         └ <starlette.middleware.base._CachedRequest object at 0x000001FC71D551D0>\n                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC72ED0360>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    raise app_exc\n          └ AttributeError(\"'State' object has no attribute 'ai_service'\")\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC72EF0C20>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC72EF04A0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001FC71D170E0>\n          └ <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC72EF0C20>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC72EF04A0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001FC71D174D0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001FC71D170E0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC72EF0C20>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC72EF04A0>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │                            │    │    └ <starlette.requests.Request object at 0x000001FC72E9DE80>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x000001FC71D30910>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001FC71D174D0>\n          └ <function wrap_app_handling_exceptions at 0x000001FC6EC2F240>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC72EF1300>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC72EF04A0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          └ <fastapi.routing.APIRouter object at 0x000001FC71D30910>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC72EF1300>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC72EF04A0>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001FC71D30910>>\n          └ <fastapi.routing.APIRouter object at 0x000001FC71D30910>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC72EF1300>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC72EF04A0>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │     └ <function Route.handle at 0x000001FC6FE209A0>\n          └ APIRoute(path='/v1/analyze-room-secure', name='analyze_room_secure', methods=['POST'])\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC72EF1300>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC72EF04A0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <function request_response.<locals>.app at 0x000001FC71D3D580>\n          └ APIRoute(path='/v1/analyze-room-secure', name='analyze_room_secure', methods=['POST'])\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC72EF1300>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC72EF04A0>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │                            │    └ <starlette.requests.Request object at 0x000001FC71D55590>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001FC72EF1440>\n          └ <function wrap_app_handling_exceptions at 0x000001FC6EC2F240>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC72EF1580>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC72EF04A0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          └ <function request_response.<locals>.app.<locals>.app at 0x000001FC72EF1440>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x000001FC71D55590>\n                     └ <function get_request_handler.<locals>.app at 0x000001FC71D3D4E0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x000001FC6EC2EA20>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'api_key': 'test-key', 'file': UploadFile(filename='test.jpg', size=15, headers=Headers({'content-disposition': 'form-data; ...\n                 │         └ <function analyze_room_secure at 0x000001FC71D0B920>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=File(Pydant...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\slowapi\\extension.py\", line 734, in async_wrapper\n    response = await func(*args, **kwargs)  # type: ignore\n                     │     │       └ {'api_key': 'test-key', 'file': UploadFile(filename='test.jpg', size=15, headers=Headers({'content-disposition': 'form-data; ...\n                     │     └ ()\n                     └ <function analyze_room_secure at 0x000001FC71D0B740>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py\", line 85, in analyze_room_secure\n    ai_service: AIService = request.app.state.ai_service\n                            │       └ <property object at 0x000001FC6EBA93F0>\n                            └ <starlette.requests.Request object at 0x000001FC71D55590>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\datastructures.py\", line 671, in __getattr__\n    raise AttributeError(message.format(self.__class__.__name__, key))\n                         │       │      │    │         │         └ 'ai_service'\n                         │       │      │    │         └ <member '__name__' of 'getset_descriptor' objects>\n                         │       │      │    └ <attribute '__class__' of 'object' objects>\n                         │       │      └ <starlette.datastructures.State object at 0x000001FC71D15160>\n                         │       └ <method 'format' of 'str' objects>\n                         └ \"'{}' object has no attribute '{}'\"\n\nAttributeError: 'State' object has no attribute 'ai_service'\n", "record": {"elapsed": {"repr": "0:00:02.885469", "seconds": 2.885469}, "exception": {"type": "AttributeError", "value": "'State' object has no attribute 'ai_service'", "traceback": true}, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "generic_exception_handler", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 101, "message": "An unexpected error occurred", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 4748, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:58.097339-05:00", "timestamp": 1749991858.097339}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:03.597333", "seconds": 3.597333}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 4748, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:58.809203-05:00", "timestamp": 1749991858.809203}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:03.821088", "seconds": 3.821088}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 23780, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:50:59.032958-05:00", "timestamp": 1749991859.032958}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.822233", "seconds": 3.822233}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 23780, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:50:59.034103-05:00", "timestamp": 1749991859.034103}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.822936", "seconds": 3.822936}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 23780, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:50:59.034806-05:00", "timestamp": 1749991859.034806}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:03.829002", "seconds": 3.829002}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 2544, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:59.040872-05:00", "timestamp": 1749991859.040872}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:04.025447", "seconds": 4.025447}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 2544, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:59.237317-05:00", "timestamp": 1749991859.237317}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:04.026203", "seconds": 4.026203}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 2544, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:59.238073-05:00", "timestamp": 1749991859.238073}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:04.026648", "seconds": 4.026648}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 2544, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:59.238518-05:00", "timestamp": 1749991859.238518}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:04.026987", "seconds": 4.026987}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 2544, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:59.238857-05:00", "timestamp": 1749991859.238857}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:04.027304", "seconds": 4.027304}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 2544, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:59.239174-05:00", "timestamp": 1749991859.239174}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:04.027616", "seconds": 4.027616}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 2544, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:59.239486-05:00", "timestamp": 1749991859.239486}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:04.027924", "seconds": 4.027924}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 2544, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:59.239794-05:00", "timestamp": 1749991859.239794}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:04.028216", "seconds": 4.028216}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 2544, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:59.240086-05:00", "timestamp": 1749991859.240086}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:04.028537", "seconds": 4.028537}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 2544, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:59.240407-05:00", "timestamp": 1749991859.240407}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:04.028827", "seconds": 4.028827}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 2544, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:59.240697-05:00", "timestamp": 1749991859.240697}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:04.029167", "seconds": 4.029167}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 2544, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:59.241037-05:00", "timestamp": 1749991859.241037}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:04.029470", "seconds": 4.02947}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 2544, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:59.241340-05:00", "timestamp": 1749991859.24134}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:04.029777", "seconds": 4.029777}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 2544, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:59.241647-05:00", "timestamp": 1749991859.241647}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:04.030068", "seconds": 4.030068}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 2544, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:59.241938-05:00", "timestamp": 1749991859.241938}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:04.226260", "seconds": 4.22626}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 2544, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:59.438130-05:00", "timestamp": 1749991859.43813}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:04.226916", "seconds": 4.226916}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 2544, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:59.438786-05:00", "timestamp": 1749991859.438786}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:04.236816", "seconds": 4.236816}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 2544, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:59.448686-05:00", "timestamp": 1749991859.448686}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:04.439593", "seconds": 4.439593}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 23780, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:50:59.651463-05:00", "timestamp": 1749991859.651463}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:04.440389", "seconds": 4.440389}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 23780, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:50:59.652259-05:00", "timestamp": 1749991859.652259}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:04.440921", "seconds": 4.440921}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 23780, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:50:59.652791-05:00", "timestamp": 1749991859.652791}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:04.446154", "seconds": 4.446154}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 26064, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:59.658024-05:00", "timestamp": 1749991859.658024}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:04.644152", "seconds": 4.644152}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 26064, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:59.856022-05:00", "timestamp": 1749991859.856022}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:04.645103", "seconds": 4.645103}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 26064, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:59.856973-05:00", "timestamp": 1749991859.856973}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:04.645466", "seconds": 4.645466}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 26064, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:59.857336-05:00", "timestamp": 1749991859.857336}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:04.645785", "seconds": 4.645785}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 26064, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:59.857655-05:00", "timestamp": 1749991859.857655}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:04.646225", "seconds": 4.646225}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 26064, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:59.858095-05:00", "timestamp": 1749991859.858095}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:04.646541", "seconds": 4.646541}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 26064, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:59.858411-05:00", "timestamp": 1749991859.858411}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:04.646825", "seconds": 4.646825}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 26064, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:59.858695-05:00", "timestamp": 1749991859.858695}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:04.647116", "seconds": 4.647116}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 26064, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:59.858986-05:00", "timestamp": 1749991859.858986}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:04.647405", "seconds": 4.647405}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 26064, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:59.859275-05:00", "timestamp": 1749991859.859275}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:04.647678", "seconds": 4.647678}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 26064, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:59.859548-05:00", "timestamp": 1749991859.859548}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:04.648030", "seconds": 4.64803}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 26064, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:59.859900-05:00", "timestamp": 1749991859.8599}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:04.648341", "seconds": 4.648341}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 26064, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:59.860211-05:00", "timestamp": 1749991859.860211}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:04.648642", "seconds": 4.648642}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 26064, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:59.860512-05:00", "timestamp": 1749991859.860512}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:04.648921", "seconds": 4.648921}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 26064, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:50:59.860791-05:00", "timestamp": 1749991859.860791}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:04.846931", "seconds": 4.846931}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 26064, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:00.058801-05:00", "timestamp": 1749991860.058801}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:04.847850", "seconds": 4.84785}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 26064, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:00.059720-05:00", "timestamp": 1749991860.05972}}}
{"text": "Received request for secure room analysis\n", "record": {"elapsed": {"repr": "0:00:04.855424", "seconds": 4.855424}, "exception": null, "extra": {"request_id": "d906a998-905e-459b-bb13-a402e06de328"}, "file": {"name": "router.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py"}, "function": "analyze_room_secure", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 84, "message": "Received request for secure room analysis", "module": "router", "name": "backend.api.router", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 26064, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:00.067294-05:00", "timestamp": 1749991860.067294}}}
{"text": "An unexpected error occurred\n  + Exception Group Traceback (most recent call last):\n  |\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 177, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x000001FC7362B6C0>\n  |                │     └ <function create_task_group at 0x000001FC6BC7F6A0>\n  |                └ <module 'anyio' from 'C:\\\\Users\\\\dmjtx\\\\AppData\\\\Local\\\\pypoetry\\\\Cache\\\\virtualenvs\\\\ai-room-cleaner-UUzRmTiU-py3.13\\\\Lib\\\\s...\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001FC73205BC0>\n    |           │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x000001FC73206160>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>\n    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001FC71D16510>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x000001FC6EB5AFC0>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'ai_service'\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x000001FC7362ADC0>\n    |     └ <contextlib._GeneratorContextManager object at 0x000001FC731DEAC0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC73206660>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x000001FC72EEFCE0>\n    |                      │    └ <bound method RequestSizeLimitMiddleware.dispatch of <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>>\n    |                      └ <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py\", line 134, in dispatch\n    |     return await call_next(request)\n    |                  │         └ <starlette.middleware.base._CachedRequest object at 0x000001FC72EEFCE0>\n    |                  └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC73206660>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ AttributeError(\"'State' object has no attribute 'ai_service'\")\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC73205EE0>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC73205260>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>\n    |           └ <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x000001FC6EB5AFC0>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'ai_service'\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x000001FC7362AC20>\n    |     └ <contextlib._GeneratorContextManager object at 0x000001FC731DEB30>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC73206840>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x000001FC740ECDD0>\n    |                      │    └ <bound method LoggingMiddleware.dispatch of <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>>\n    |                      └ <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\logging.py\", line 37, in dispatch\n    |     response = await call_next(request)\n    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x000001FC740ECDD0>\n    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC73206840>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ AttributeError(\"'State' object has no attribute 'ai_service'\")\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC73206200>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC732067A0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001FC71D170E0>\n    |           └ <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC73206200>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC732067A0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001FC71D174D0>\n    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x000001FC71D170E0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC73206200>\n    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC732067A0>\n    |           │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │                            │    │    └ <starlette.requests.Request object at 0x000001FC6E2DA7B0>\n    |           │                            │    └ <fastapi.routing.APIRouter object at 0x000001FC71D30910>\n    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001FC71D174D0>\n    |           └ <function wrap_app_handling_exceptions at 0x000001FC6EC2F240>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC73189580>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC732067A0>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           └ <fastapi.routing.APIRouter object at 0x000001FC71D30910>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 714, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC73189580>\n    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC732067A0>\n    |           │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001FC71D30910>>\n    |           └ <fastapi.routing.APIRouter object at 0x000001FC71D30910>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 734, in app\n    |     await route.handle(scope, receive, send)\n    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC73189580>\n    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC732067A0>\n    |           │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │     └ <function Route.handle at 0x000001FC6FE209A0>\n    |           └ APIRoute(path='/v1/analyze-room-secure', name='analyze_room_secure', methods=['POST'])\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC73189580>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC732067A0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <function request_response.<locals>.app at 0x000001FC71D3D580>\n    |           └ APIRoute(path='/v1/analyze-room-secure', name='analyze_room_secure', methods=['POST'])\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC73189580>\n    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC732067A0>\n    |           │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │                            │    └ <starlette.requests.Request object at 0x000001FC740F1150>\n    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001FC731898A0>\n    |           └ <function wrap_app_handling_exceptions at 0x000001FC6EC2F240>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC732045E0>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC732067A0>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           └ <function request_response.<locals>.app.<locals>.app at 0x000001FC731898A0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                      │ └ <starlette.requests.Request object at 0x000001FC740F1150>\n    |                      └ <function get_request_handler.<locals>.app at 0x000001FC71D3D4E0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                          └ <function run_endpoint_function at 0x000001FC6EC2EA20>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 212, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |                  │         │      └ {'api_key': 'test-key', 'file': UploadFile(filename='test.txt', size=14, headers=Headers({'content-disposition': 'form-data; ...\n    |                  │         └ <function analyze_room_secure at 0x000001FC71D0B920>\n    |                  └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=File(Pydant...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\slowapi\\extension.py\", line 734, in async_wrapper\n    |     response = await func(*args, **kwargs)  # type: ignore\n    |                      │     │       └ {'api_key': 'test-key', 'file': UploadFile(filename='test.txt', size=14, headers=Headers({'content-disposition': 'form-data; ...\n    |                      │     └ ()\n    |                      └ <function analyze_room_secure at 0x000001FC71D0B740>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py\", line 85, in analyze_room_secure\n    |     ai_service: AIService = request.app.state.ai_service\n    |                             │       └ <property object at 0x000001FC6EBA93F0>\n    |                             └ <starlette.requests.Request object at 0x000001FC740F1150>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\datastructures.py\", line 671, in __getattr__\n    |     raise AttributeError(message.format(self.__class__.__name__, key))\n    |                          │       │      │    │         │         └ 'ai_service'\n    |                          │       │      │    │         └ <member '__name__' of 'getset_descriptor' objects>\n    |                          │       │      │    └ <attribute '__class__' of 'object' objects>\n    |                          │       │      └ <starlette.datastructures.State object at 0x000001FC71D15160>\n    |                          │       └ <method 'format' of 'str' objects>\n    |                          └ \"'{}' object has no attribute '{}'\"\n    |\n    | AttributeError: 'State' object has no attribute 'ai_service'\n    +------------------------------------\n\n\nDuring handling of the above exception, another exception occurred:\n\n\nTraceback (most recent call last):\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 1012, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x000001FC6B1511C0>\n    └ <Thread(Thread-5 (run_blocking_portal), started daemon 26064)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 1041, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x000001FC6B150F40>\n    └ <Thread(Thread-5 (run_blocking_portal), started daemon 26064)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 992, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-5 (run_blocking_portal), started daemon 26064)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-5 (run_blocking_portal), started daemon 26064)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x000001FC732054E0>\n    └ <Thread(Thread-5 (run_blocking_portal), started daemon 26064)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x000001FC6BBF4360>\n    └ <module 'anyio._core._eventloop' from 'C:\\\\Users\\\\dmjtx\\\\AppData\\\\Local\\\\pypoetry\\\\Cache\\\\virtualenvs\\\\ai-room-cleaner-UUzRmT...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_core\\_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x000001FC73205120>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x000001FC72EDCF40>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x000001FC732049A0>\n           │      └ <function Runner.run at 0x000001FC6D72D3A0>\n           └ <asyncio.runners.Runner object at 0x000001FC71E2A710>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001FC6D726DE0>\n           │    └ <ProactorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x000001FC71E2A710>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x000001FC6D726D40>\n    └ <ProactorEventLoop running=True closed=False debug=False>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x000001FC6D72CB80>\n    └ <ProactorEventLoop running=True closed=False debug=False>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x000001FC6D6823E0>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\from_thread.py\", line 221, in _call_func\n    retval = await retval_or_awaitable\n                   └ <coroutine object FastAPI.__call__ at 0x000001FC72EA96C0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\applications.py\", line 1054, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x000001FC73205C60>\n                           │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x000001FC73206160>\n                           └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\applications.py\", line 112, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x000001FC73205C60>\n          │    │                │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x000001FC73206160>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001FC71D16510>\n          └ <fastapi.applications.FastAPI object at 0x000001FC71D14AD0>\n> File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001FC73205BC0>\n          │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x000001FC73206160>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>\n          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001FC71D16510>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x000001FC6EB5AFC0>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'ai_service'\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x000001FC7362ADC0>\n    └ <contextlib._GeneratorContextManager object at 0x000001FC731DEAC0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC73206660>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x000001FC72EEFCE0>\n                     │    └ <bound method RequestSizeLimitMiddleware.dispatch of <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>>\n                     └ <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py\", line 134, in dispatch\n    return await call_next(request)\n                 │         └ <starlette.middleware.base._CachedRequest object at 0x000001FC72EEFCE0>\n                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC73206660>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    raise app_exc\n          └ AttributeError(\"'State' object has no attribute 'ai_service'\")\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC73205EE0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC73205260>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>\n          └ <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x000001FC6EB5AFC0>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'ai_service'\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x000001FC7362AC20>\n    └ <contextlib._GeneratorContextManager object at 0x000001FC731DEB30>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC73206840>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x000001FC740ECDD0>\n                     │    └ <bound method LoggingMiddleware.dispatch of <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>>\n                     └ <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\logging.py\", line 37, in dispatch\n    response = await call_next(request)\n                     │         └ <starlette.middleware.base._CachedRequest object at 0x000001FC740ECDD0>\n                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC73206840>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    raise app_exc\n          └ AttributeError(\"'State' object has no attribute 'ai_service'\")\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC73206200>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC732067A0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001FC71D170E0>\n          └ <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC73206200>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC732067A0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001FC71D174D0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001FC71D170E0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC73206200>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC732067A0>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │                            │    │    └ <starlette.requests.Request object at 0x000001FC6E2DA7B0>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x000001FC71D30910>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001FC71D174D0>\n          └ <function wrap_app_handling_exceptions at 0x000001FC6EC2F240>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC73189580>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC732067A0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          └ <fastapi.routing.APIRouter object at 0x000001FC71D30910>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC73189580>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC732067A0>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001FC71D30910>>\n          └ <fastapi.routing.APIRouter object at 0x000001FC71D30910>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC73189580>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC732067A0>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │     └ <function Route.handle at 0x000001FC6FE209A0>\n          └ APIRoute(path='/v1/analyze-room-secure', name='analyze_room_secure', methods=['POST'])\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC73189580>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC732067A0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <function request_response.<locals>.app at 0x000001FC71D3D580>\n          └ APIRoute(path='/v1/analyze-room-secure', name='analyze_room_secure', methods=['POST'])\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC73189580>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC732067A0>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │                            │    └ <starlette.requests.Request object at 0x000001FC740F1150>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001FC731898A0>\n          └ <function wrap_app_handling_exceptions at 0x000001FC6EC2F240>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC732045E0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC732067A0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          └ <function request_response.<locals>.app.<locals>.app at 0x000001FC731898A0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x000001FC740F1150>\n                     └ <function get_request_handler.<locals>.app at 0x000001FC71D3D4E0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x000001FC6EC2EA20>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'api_key': 'test-key', 'file': UploadFile(filename='test.txt', size=14, headers=Headers({'content-disposition': 'form-data; ...\n                 │         └ <function analyze_room_secure at 0x000001FC71D0B920>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=File(Pydant...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\slowapi\\extension.py\", line 734, in async_wrapper\n    response = await func(*args, **kwargs)  # type: ignore\n                     │     │       └ {'api_key': 'test-key', 'file': UploadFile(filename='test.txt', size=14, headers=Headers({'content-disposition': 'form-data; ...\n                     │     └ ()\n                     └ <function analyze_room_secure at 0x000001FC71D0B740>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py\", line 85, in analyze_room_secure\n    ai_service: AIService = request.app.state.ai_service\n                            │       └ <property object at 0x000001FC6EBA93F0>\n                            └ <starlette.requests.Request object at 0x000001FC740F1150>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\datastructures.py\", line 671, in __getattr__\n    raise AttributeError(message.format(self.__class__.__name__, key))\n                         │       │      │    │         │         └ 'ai_service'\n                         │       │      │    │         └ <member '__name__' of 'getset_descriptor' objects>\n                         │       │      │    └ <attribute '__class__' of 'object' objects>\n                         │       │      └ <starlette.datastructures.State object at 0x000001FC71D15160>\n                         │       └ <method 'format' of 'str' objects>\n                         └ \"'{}' object has no attribute '{}'\"\n\nAttributeError: 'State' object has no attribute 'ai_service'\n", "record": {"elapsed": {"repr": "0:00:04.856041", "seconds": 4.856041}, "exception": {"type": "AttributeError", "value": "'State' object has no attribute 'ai_service'", "traceback": true}, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "generic_exception_handler", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 101, "message": "An unexpected error occurred", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 26064, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:00.067911-05:00", "timestamp": 1749991860.067911}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:05.370568", "seconds": 5.370568}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 26064, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:00.582438-05:00", "timestamp": 1749991860.582438}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:05.570570", "seconds": 5.57057}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 23780, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:00.782440-05:00", "timestamp": 1749991860.78244}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:05.571603", "seconds": 5.571603}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 23780, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:00.783473-05:00", "timestamp": 1749991860.783473}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:05.572193", "seconds": 5.572193}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 23780, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:00.784063-05:00", "timestamp": 1749991860.784063}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:05.578235", "seconds": 5.578235}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 18952, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:00.790105-05:00", "timestamp": 1749991860.790105}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:05.774486", "seconds": 5.774486}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 18952, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:00.986356-05:00", "timestamp": 1749991860.986356}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:05.775141", "seconds": 5.775141}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 18952, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:00.987011-05:00", "timestamp": 1749991860.987011}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:05.775502", "seconds": 5.775502}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 18952, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:00.987372-05:00", "timestamp": 1749991860.987372}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:05.775821", "seconds": 5.775821}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 18952, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:00.987691-05:00", "timestamp": 1749991860.987691}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:05.776160", "seconds": 5.77616}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 18952, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:00.988030-05:00", "timestamp": 1749991860.98803}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:05.776457", "seconds": 5.776457}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 18952, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:00.988327-05:00", "timestamp": 1749991860.988327}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:05.776794", "seconds": 5.776794}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 18952, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:00.988664-05:00", "timestamp": 1749991860.988664}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:05.777102", "seconds": 5.777102}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 18952, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:00.988972-05:00", "timestamp": 1749991860.988972}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:05.777398", "seconds": 5.777398}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 18952, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:00.989268-05:00", "timestamp": 1749991860.989268}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:05.777699", "seconds": 5.777699}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 18952, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:00.989569-05:00", "timestamp": 1749991860.989569}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:05.778057", "seconds": 5.778057}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 18952, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:00.989927-05:00", "timestamp": 1749991860.989927}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:05.778405", "seconds": 5.778405}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 18952, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:00.990275-05:00", "timestamp": 1749991860.990275}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:05.778723", "seconds": 5.778723}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 18952, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:00.990593-05:00", "timestamp": 1749991860.990593}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:05.779000", "seconds": 5.779}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 18952, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:00.990870-05:00", "timestamp": 1749991860.99087}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:05.978895", "seconds": 5.978895}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 18952, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:01.190765-05:00", "timestamp": 1749991861.190765}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:05.979944", "seconds": 5.979944}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 18952, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:01.191814-05:00", "timestamp": 1749991861.191814}}}
{"text": "An unexpected error occurred\n  + Exception Group Traceback (most recent call last):\n  |\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 177, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x000001FC73206FD0>\n  |                │     └ <function create_task_group at 0x000001FC6BC7F6A0>\n  |                └ <module 'anyio' from 'C:\\\\Users\\\\dmjtx\\\\AppData\\\\Local\\\\pypoetry\\\\Cache\\\\virtualenvs\\\\ai-room-cleaner-UUzRmTiU-py3.13\\\\Lib\\\\s...\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001FC732062A0>\n    |           │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x000001FC73206520>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>\n    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001FC71D16510>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x000001FC6EB5AFC0>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'history_service'\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x000001FC7362B2A0>\n    |     └ <contextlib._GeneratorContextManager object at 0x000001FC731B7850>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC73205800>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x000001FC741B6360>\n    |                      │    └ <bound method RequestSizeLimitMiddleware.dispatch of <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>>\n    |                      └ <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py\", line 134, in dispatch\n    |     return await call_next(request)\n    |                  │         └ <starlette.middleware.base._CachedRequest object at 0x000001FC741B6360>\n    |                  └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC73205800>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ AttributeError(\"'State' object has no attribute 'history_service'\")\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC73206480>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC73204F40>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>\n    |           └ <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x000001FC6EB5AFC0>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'history_service'\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x000001FC73629700>\n    |     └ <contextlib._GeneratorContextManager object at 0x000001FC731B7770>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC73204CC0>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x000001FC741B6580>\n    |                      │    └ <bound method LoggingMiddleware.dispatch of <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>>\n    |                      └ <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\logging.py\", line 37, in dispatch\n    |     response = await call_next(request)\n    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x000001FC741B6580>\n    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC73204CC0>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ AttributeError(\"'State' object has no attribute 'history_service'\")\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC732051C0>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC732063E0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001FC71D170E0>\n    |           └ <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC732051C0>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC732063E0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001FC71D174D0>\n    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x000001FC71D170E0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC732051C0>\n    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC732063E0>\n    |           │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │                            │    │    └ <starlette.requests.Request object at 0x000001FC741B8950>\n    |           │                            │    └ <fastapi.routing.APIRouter object at 0x000001FC71D30910>\n    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001FC71D174D0>\n    |           └ <function wrap_app_handling_exceptions at 0x000001FC6EC2F240>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC73207880>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC732063E0>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           └ <fastapi.routing.APIRouter object at 0x000001FC71D30910>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 714, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC73207880>\n    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC732063E0>\n    |           │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001FC71D30910>>\n    |           └ <fastapi.routing.APIRouter object at 0x000001FC71D30910>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 734, in app\n    |     await route.handle(scope, receive, send)\n    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC73207880>\n    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC732063E0>\n    |           │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │     └ <function Route.handle at 0x000001FC6FE209A0>\n    |           └ APIRoute(path='/history', name='get_history', methods=['GET'])\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC73207880>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC732063E0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <function request_response.<locals>.app at 0x000001FC71D3D760>\n    |           └ APIRoute(path='/history', name='get_history', methods=['GET'])\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC73207880>\n    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC732063E0>\n    |           │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │                            │    └ <starlette.requests.Request object at 0x000001FC741B8D50>\n    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001FC732079C0>\n    |           └ <function wrap_app_handling_exceptions at 0x000001FC6EC2F240>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC73207B00>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC732063E0>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           └ <function request_response.<locals>.app.<locals>.app at 0x000001FC732079C0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                      │ └ <starlette.requests.Request object at 0x000001FC741B8D50>\n    |                      └ <function get_request_handler.<locals>.app at 0x000001FC71D3D620>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                          └ <function run_endpoint_function at 0x000001FC6EC2EA20>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 212, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |                  │         │      └ {'request': <starlette.requests.Request object at 0x000001FC741B8D50>}\n    |                  │         └ <function get_history at 0x000001FC71D0BCE0>\n    |                  └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[], dependencies=[], security_requ...\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py\", line 111, in get_history\n    |     history_service: HistoryService = request.app.state.history_service\n    |                                       │       └ <property object at 0x000001FC6EBA93F0>\n    |                                       └ <starlette.requests.Request object at 0x000001FC741B8D50>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\datastructures.py\", line 671, in __getattr__\n    |     raise AttributeError(message.format(self.__class__.__name__, key))\n    |                          │       │      │    │         │         └ 'history_service'\n    |                          │       │      │    │         └ <member '__name__' of 'getset_descriptor' objects>\n    |                          │       │      │    └ <attribute '__class__' of 'object' objects>\n    |                          │       │      └ <starlette.datastructures.State object at 0x000001FC71D15160>\n    |                          │       └ <method 'format' of 'str' objects>\n    |                          └ \"'{}' object has no attribute '{}'\"\n    |\n    | AttributeError: 'State' object has no attribute 'history_service'\n    +------------------------------------\n\n\nDuring handling of the above exception, another exception occurred:\n\n\nTraceback (most recent call last):\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 1012, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x000001FC6B1511C0>\n    └ <Thread(Thread-7 (run_blocking_portal), started daemon 18952)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 1041, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x000001FC6B150F40>\n    └ <Thread(Thread-7 (run_blocking_portal), started daemon 18952)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 992, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-7 (run_blocking_portal), started daemon 18952)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-7 (run_blocking_portal), started daemon 18952)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x000001FC73207100>\n    └ <Thread(Thread-7 (run_blocking_portal), started daemon 18952)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x000001FC6BBF4360>\n    └ <module 'anyio._core._eventloop' from 'C:\\\\Users\\\\dmjtx\\\\AppData\\\\Local\\\\pypoetry\\\\Cache\\\\virtualenvs\\\\ai-room-cleaner-UUzRmT...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_core\\_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x000001FC732047C0>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x000001FC72EDCF40>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x000001FC72E944A0>\n           │      └ <function Runner.run at 0x000001FC6D72D3A0>\n           └ <asyncio.runners.Runner object at 0x000001FC741002B0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001FC6D726DE0>\n           │    └ <ProactorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x000001FC741002B0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x000001FC6D726D40>\n    └ <ProactorEventLoop running=True closed=False debug=False>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x000001FC6D72CB80>\n    └ <ProactorEventLoop running=True closed=False debug=False>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x000001FC6D6823E0>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\from_thread.py\", line 221, in _call_func\n    retval = await retval_or_awaitable\n                   └ <coroutine object FastAPI.__call__ at 0x000001FC737122F0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\applications.py\", line 1054, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x000001FC73207420>\n                           │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x000001FC73206520>\n                           └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\applications.py\", line 112, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x000001FC73207420>\n          │    │                │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x000001FC73206520>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001FC71D16510>\n          └ <fastapi.applications.FastAPI object at 0x000001FC71D14AD0>\n> File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001FC732062A0>\n          │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x000001FC73206520>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>\n          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001FC71D16510>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x000001FC6EB5AFC0>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'history_service'\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x000001FC7362B2A0>\n    └ <contextlib._GeneratorContextManager object at 0x000001FC731B7850>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC73205800>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x000001FC741B6360>\n                     │    └ <bound method RequestSizeLimitMiddleware.dispatch of <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>>\n                     └ <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py\", line 134, in dispatch\n    return await call_next(request)\n                 │         └ <starlette.middleware.base._CachedRequest object at 0x000001FC741B6360>\n                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC73205800>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    raise app_exc\n          └ AttributeError(\"'State' object has no attribute 'history_service'\")\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC73206480>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC73204F40>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>\n          └ <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x000001FC6EB5AFC0>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'history_service'\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x000001FC73629700>\n    └ <contextlib._GeneratorContextManager object at 0x000001FC731B7770>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC73204CC0>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x000001FC741B6580>\n                     │    └ <bound method LoggingMiddleware.dispatch of <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>>\n                     └ <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\logging.py\", line 37, in dispatch\n    response = await call_next(request)\n                     │         └ <starlette.middleware.base._CachedRequest object at 0x000001FC741B6580>\n                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC73204CC0>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    raise app_exc\n          └ AttributeError(\"'State' object has no attribute 'history_service'\")\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC732051C0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC732063E0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001FC71D170E0>\n          └ <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC732051C0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC732063E0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001FC71D174D0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001FC71D170E0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC732051C0>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC732063E0>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │                            │    │    └ <starlette.requests.Request object at 0x000001FC741B8950>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x000001FC71D30910>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001FC71D174D0>\n          └ <function wrap_app_handling_exceptions at 0x000001FC6EC2F240>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC73207880>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC732063E0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          └ <fastapi.routing.APIRouter object at 0x000001FC71D30910>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC73207880>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC732063E0>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001FC71D30910>>\n          └ <fastapi.routing.APIRouter object at 0x000001FC71D30910>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC73207880>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC732063E0>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │     └ <function Route.handle at 0x000001FC6FE209A0>\n          └ APIRoute(path='/history', name='get_history', methods=['GET'])\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC73207880>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC732063E0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <function request_response.<locals>.app at 0x000001FC71D3D760>\n          └ APIRoute(path='/history', name='get_history', methods=['GET'])\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC73207880>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC732063E0>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │                            │    └ <starlette.requests.Request object at 0x000001FC741B8D50>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001FC732079C0>\n          └ <function wrap_app_handling_exceptions at 0x000001FC6EC2F240>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC73207B00>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC732063E0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          └ <function request_response.<locals>.app.<locals>.app at 0x000001FC732079C0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x000001FC741B8D50>\n                     └ <function get_request_handler.<locals>.app at 0x000001FC71D3D620>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x000001FC6EC2EA20>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'request': <starlette.requests.Request object at 0x000001FC741B8D50>}\n                 │         └ <function get_history at 0x000001FC71D0BCE0>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[], dependencies=[], security_requ...\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py\", line 111, in get_history\n    history_service: HistoryService = request.app.state.history_service\n                                      │       └ <property object at 0x000001FC6EBA93F0>\n                                      └ <starlette.requests.Request object at 0x000001FC741B8D50>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\datastructures.py\", line 671, in __getattr__\n    raise AttributeError(message.format(self.__class__.__name__, key))\n                         │       │      │    │         │         └ 'history_service'\n                         │       │      │    │         └ <member '__name__' of 'getset_descriptor' objects>\n                         │       │      │    └ <attribute '__class__' of 'object' objects>\n                         │       │      └ <starlette.datastructures.State object at 0x000001FC71D15160>\n                         │       └ <method 'format' of 'str' objects>\n                         └ \"'{}' object has no attribute '{}'\"\n\nAttributeError: 'State' object has no attribute 'history_service'\n", "record": {"elapsed": {"repr": "0:00:05.984714", "seconds": 5.984714}, "exception": {"type": "AttributeError", "value": "'State' object has no attribute 'history_service'", "traceback": true}, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "generic_exception_handler", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 101, "message": "An unexpected error occurred", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 18952, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:01.196584-05:00", "timestamp": 1749991861.196584}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:06.500808", "seconds": 6.500808}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 18952, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:01.712678-05:00", "timestamp": 1749991861.712678}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:06.701122", "seconds": 6.701122}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 23780, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:01.912992-05:00", "timestamp": 1749991861.912992}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:06.702664", "seconds": 6.702664}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 23780, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:01.914534-05:00", "timestamp": 1749991861.914534}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:06.703317", "seconds": 6.703317}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 23780, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:01.915187-05:00", "timestamp": 1749991861.915187}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:06.708682", "seconds": 6.708682}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 9628, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:01.920552-05:00", "timestamp": 1749991861.920552}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:06.904201", "seconds": 6.904201}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 9628, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:02.116071-05:00", "timestamp": 1749991862.116071}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:06.904887", "seconds": 6.904887}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 9628, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:02.116757-05:00", "timestamp": 1749991862.116757}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:06.905299", "seconds": 6.905299}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 9628, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:02.117169-05:00", "timestamp": 1749991862.117169}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:06.905637", "seconds": 6.905637}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 9628, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:02.117507-05:00", "timestamp": 1749991862.117507}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:06.905936", "seconds": 6.905936}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 9628, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:02.117806-05:00", "timestamp": 1749991862.117806}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:06.906219", "seconds": 6.906219}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 9628, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:02.118089-05:00", "timestamp": 1749991862.118089}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:06.906542", "seconds": 6.906542}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 9628, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:02.118412-05:00", "timestamp": 1749991862.118412}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:06.906833", "seconds": 6.906833}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 9628, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:02.118703-05:00", "timestamp": 1749991862.118703}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:06.907120", "seconds": 6.90712}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 9628, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:02.118990-05:00", "timestamp": 1749991862.11899}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:06.907421", "seconds": 6.907421}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 9628, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:02.119291-05:00", "timestamp": 1749991862.119291}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:06.907764", "seconds": 6.907764}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 9628, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:02.119634-05:00", "timestamp": 1749991862.119634}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:06.908072", "seconds": 6.908072}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 9628, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:02.119942-05:00", "timestamp": 1749991862.119942}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:06.908398", "seconds": 6.908398}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 9628, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:02.120268-05:00", "timestamp": 1749991862.120268}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:06.908681", "seconds": 6.908681}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 9628, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:02.120551-05:00", "timestamp": 1749991862.120551}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:07.104894", "seconds": 7.104894}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 9628, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:02.316764-05:00", "timestamp": 1749991862.316764}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:07.105764", "seconds": 7.105764}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 9628, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:02.317634-05:00", "timestamp": 1749991862.317634}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:07.114050", "seconds": 7.11405}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 9628, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:02.325920-05:00", "timestamp": 1749991862.32592}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:07.315462", "seconds": 7.315462}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 23780, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:02.527332-05:00", "timestamp": 1749991862.527332}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:07.316868", "seconds": 7.316868}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 23780, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:02.528738-05:00", "timestamp": 1749991862.528738}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:07.317622", "seconds": 7.317622}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 23780, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:02.529492-05:00", "timestamp": 1749991862.529492}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:07.322608", "seconds": 7.322608}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 9404, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:02.534478-05:00", "timestamp": 1749991862.534478}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:07.521940", "seconds": 7.52194}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 9404, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:02.733810-05:00", "timestamp": 1749991862.73381}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:07.522836", "seconds": 7.522836}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 9404, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:02.734706-05:00", "timestamp": 1749991862.734706}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:07.523232", "seconds": 7.523232}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 9404, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:02.735102-05:00", "timestamp": 1749991862.735102}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:07.523563", "seconds": 7.523563}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 9404, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:02.735433-05:00", "timestamp": 1749991862.735433}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:07.523894", "seconds": 7.523894}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 9404, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:02.735764-05:00", "timestamp": 1749991862.735764}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:07.524233", "seconds": 7.524233}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 9404, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:02.736103-05:00", "timestamp": 1749991862.736103}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:07.524537", "seconds": 7.524537}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 9404, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:02.736407-05:00", "timestamp": 1749991862.736407}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:07.524837", "seconds": 7.524837}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 9404, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:02.736707-05:00", "timestamp": 1749991862.736707}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:07.525193", "seconds": 7.525193}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 9404, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:02.737063-05:00", "timestamp": 1749991862.737063}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:07.525494", "seconds": 7.525494}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 9404, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:02.737364-05:00", "timestamp": 1749991862.737364}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:07.525844", "seconds": 7.525844}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 9404, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:02.737714-05:00", "timestamp": 1749991862.737714}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:07.526164", "seconds": 7.526164}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 9404, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:02.738034-05:00", "timestamp": 1749991862.738034}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:07.526484", "seconds": 7.526484}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 9404, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:02.738354-05:00", "timestamp": 1749991862.738354}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:07.526786", "seconds": 7.526786}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 9404, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:02.738656-05:00", "timestamp": 1749991862.738656}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:07.727596", "seconds": 7.727596}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 9404, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:02.939466-05:00", "timestamp": 1749991862.939466}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:07.728518", "seconds": 7.728518}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 9404, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:02.940388-05:00", "timestamp": 1749991862.940388}}}
{"text": "An unexpected error occurred\n  + Exception Group Traceback (most recent call last):\n  |\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 177, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x000001FC731B6190>\n  |                │     └ <function create_task_group at 0x000001FC6BC7F6A0>\n  |                └ <module 'anyio' from 'C:\\\\Users\\\\dmjtx\\\\AppData\\\\Local\\\\pypoetry\\\\Cache\\\\virtualenvs\\\\ai-room-cleaner-UUzRmTiU-py3.13\\\\Lib\\\\s...\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001FC731A4FE0>\n    |           │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x000001FC731A45E0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           │    └ <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>\n    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001FC71D16510>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x000001FC6EB5AFC0>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'history_service'\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x000001FC7314E9B0>\n    |     └ <contextlib._GeneratorContextManager object at 0x000001FC731B6970>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC731A5940>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x000001FC7335B3E0>\n    |                      │    └ <bound method RequestSizeLimitMiddleware.dispatch of <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>>\n    |                      └ <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py\", line 134, in dispatch\n    |     return await call_next(request)\n    |                  │         └ <starlette.middleware.base._CachedRequest object at 0x000001FC7335B3E0>\n    |                  └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC731A5940>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ AttributeError(\"'State' object has no attribute 'history_service'\")\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC731A4F40>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A4EA0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           │    └ <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>\n    |           └ <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x000001FC6EB5AFC0>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'history_service'\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x000001FC7314E0C0>\n    |     └ <contextlib._GeneratorContextManager object at 0x000001FC731B4910>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC73206CA0>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x000001FC7335B890>\n    |                      │    └ <bound method LoggingMiddleware.dispatch of <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>>\n    |                      └ <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\logging.py\", line 37, in dispatch\n    |     response = await call_next(request)\n    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x000001FC7335B890>\n    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC73206CA0>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ AttributeError(\"'State' object has no attribute 'history_service'\")\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC731A51C0>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A5760>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001FC71D170E0>\n    |           └ <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC731A51C0>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A5760>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001FC71D174D0>\n    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x000001FC71D170E0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC731A51C0>\n    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A5760>\n    |           │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           │                            │    │    └ <starlette.requests.Request object at 0x000001FC7375AB30>\n    |           │                            │    └ <fastapi.routing.APIRouter object at 0x000001FC71D30910>\n    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001FC71D174D0>\n    |           └ <function wrap_app_handling_exceptions at 0x000001FC6EC2F240>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC731A5440>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A5760>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           └ <fastapi.routing.APIRouter object at 0x000001FC71D30910>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 714, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC731A5440>\n    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A5760>\n    |           │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001FC71D30910>>\n    |           └ <fastapi.routing.APIRouter object at 0x000001FC71D30910>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 734, in app\n    |     await route.handle(scope, receive, send)\n    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC731A5440>\n    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A5760>\n    |           │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           │     └ <function Route.handle at 0x000001FC6FE209A0>\n    |           └ APIRoute(path='/history', name='clear_history', methods=['DELETE'])\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC731A5440>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A5760>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           │    └ <function request_response.<locals>.app at 0x000001FC71D3D940>\n    |           └ APIRoute(path='/history', name='clear_history', methods=['DELETE'])\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC731A5440>\n    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A5760>\n    |           │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           │                            │    └ <starlette.requests.Request object at 0x000001FC7314E410>\n    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001FC731A56C0>\n    |           └ <function wrap_app_handling_exceptions at 0x000001FC6EC2F240>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC731A54E0>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A5760>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           └ <function request_response.<locals>.app.<locals>.app at 0x000001FC731A56C0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                      │ └ <starlette.requests.Request object at 0x000001FC7314E410>\n    |                      └ <function get_request_handler.<locals>.app at 0x000001FC71D3D8A0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                          └ <function run_endpoint_function at 0x000001FC6EC2EA20>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 212, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |                  │         │      └ {'api_key': 'test-key', 'request': <starlette.requests.Request object at 0x000001FC7314E410>}\n    |                  │         └ <function clear_history at 0x000001FC71D0BF60>\n    |                  └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[], dependencies=[Dependant(path_p...\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py\", line 118, in clear_history\n    |     history_service: HistoryService = request.app.state.history_service\n    |                                       │       └ <property object at 0x000001FC6EBA93F0>\n    |                                       └ <starlette.requests.Request object at 0x000001FC7314E410>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\datastructures.py\", line 671, in __getattr__\n    |     raise AttributeError(message.format(self.__class__.__name__, key))\n    |                          │       │      │    │         │         └ 'history_service'\n    |                          │       │      │    │         └ <member '__name__' of 'getset_descriptor' objects>\n    |                          │       │      │    └ <attribute '__class__' of 'object' objects>\n    |                          │       │      └ <starlette.datastructures.State object at 0x000001FC71D15160>\n    |                          │       └ <method 'format' of 'str' objects>\n    |                          └ \"'{}' object has no attribute '{}'\"\n    |\n    | AttributeError: 'State' object has no attribute 'history_service'\n    +------------------------------------\n\n\nDuring handling of the above exception, another exception occurred:\n\n\nTraceback (most recent call last):\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 1012, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x000001FC6B1511C0>\n    └ <Thread(Thread-9 (run_blocking_portal), started daemon 9404)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 1041, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x000001FC6B150F40>\n    └ <Thread(Thread-9 (run_blocking_portal), started daemon 9404)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 992, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-9 (run_blocking_portal), started daemon 9404)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-9 (run_blocking_portal), started daemon 9404)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x000001FC732058A0>\n    └ <Thread(Thread-9 (run_blocking_portal), started daemon 9404)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x000001FC6BBF4360>\n    └ <module 'anyio._core._eventloop' from 'C:\\\\Users\\\\dmjtx\\\\AppData\\\\Local\\\\pypoetry\\\\Cache\\\\virtualenvs\\\\ai-room-cleaner-UUzRmT...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_core\\_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x000001FC73204B80>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x000001FC72EDCF40>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x000001FC73205760>\n           │      └ <function Runner.run at 0x000001FC6D72D3A0>\n           └ <asyncio.runners.Runner object at 0x000001FC740ED250>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001FC6D726DE0>\n           │    └ <ProactorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x000001FC740ED250>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x000001FC6D726D40>\n    └ <ProactorEventLoop running=True closed=False debug=False>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x000001FC6D72CB80>\n    └ <ProactorEventLoop running=True closed=False debug=False>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x000001FC6D6823E0>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\from_thread.py\", line 221, in _call_func\n    retval = await retval_or_awaitable\n                   └ <coroutine object FastAPI.__call__ at 0x000001FC73712890>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\applications.py\", line 1054, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x000001FC731A49A0>\n                           │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x000001FC731A45E0>\n                           └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\applications.py\", line 112, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x000001FC731A49A0>\n          │    │                │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x000001FC731A45E0>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001FC71D16510>\n          └ <fastapi.applications.FastAPI object at 0x000001FC71D14AD0>\n> File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001FC731A4FE0>\n          │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x000001FC731A45E0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │    └ <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>\n          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001FC71D16510>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x000001FC6EB5AFC0>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'history_service'\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x000001FC7314E9B0>\n    └ <contextlib._GeneratorContextManager object at 0x000001FC731B6970>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC731A5940>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x000001FC7335B3E0>\n                     │    └ <bound method RequestSizeLimitMiddleware.dispatch of <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>>\n                     └ <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py\", line 134, in dispatch\n    return await call_next(request)\n                 │         └ <starlette.middleware.base._CachedRequest object at 0x000001FC7335B3E0>\n                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC731A5940>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    raise app_exc\n          └ AttributeError(\"'State' object has no attribute 'history_service'\")\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC731A4F40>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A4EA0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │    └ <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>\n          └ <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x000001FC6EB5AFC0>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'history_service'\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x000001FC7314E0C0>\n    └ <contextlib._GeneratorContextManager object at 0x000001FC731B4910>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC73206CA0>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x000001FC7335B890>\n                     │    └ <bound method LoggingMiddleware.dispatch of <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>>\n                     └ <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\logging.py\", line 37, in dispatch\n    response = await call_next(request)\n                     │         └ <starlette.middleware.base._CachedRequest object at 0x000001FC7335B890>\n                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC73206CA0>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    raise app_exc\n          └ AttributeError(\"'State' object has no attribute 'history_service'\")\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC731A51C0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A5760>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001FC71D170E0>\n          └ <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC731A51C0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A5760>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001FC71D174D0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001FC71D170E0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC731A51C0>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A5760>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │                            │    │    └ <starlette.requests.Request object at 0x000001FC7375AB30>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x000001FC71D30910>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001FC71D174D0>\n          └ <function wrap_app_handling_exceptions at 0x000001FC6EC2F240>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC731A5440>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A5760>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          └ <fastapi.routing.APIRouter object at 0x000001FC71D30910>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC731A5440>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A5760>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001FC71D30910>>\n          └ <fastapi.routing.APIRouter object at 0x000001FC71D30910>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC731A5440>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A5760>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │     └ <function Route.handle at 0x000001FC6FE209A0>\n          └ APIRoute(path='/history', name='clear_history', methods=['DELETE'])\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC731A5440>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A5760>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │    └ <function request_response.<locals>.app at 0x000001FC71D3D940>\n          └ APIRoute(path='/history', name='clear_history', methods=['DELETE'])\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC731A5440>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A5760>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │                            │    └ <starlette.requests.Request object at 0x000001FC7314E410>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001FC731A56C0>\n          └ <function wrap_app_handling_exceptions at 0x000001FC6EC2F240>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC731A54E0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A5760>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          └ <function request_response.<locals>.app.<locals>.app at 0x000001FC731A56C0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x000001FC7314E410>\n                     └ <function get_request_handler.<locals>.app at 0x000001FC71D3D8A0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x000001FC6EC2EA20>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'api_key': 'test-key', 'request': <starlette.requests.Request object at 0x000001FC7314E410>}\n                 │         └ <function clear_history at 0x000001FC71D0BF60>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[], dependencies=[Dependant(path_p...\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py\", line 118, in clear_history\n    history_service: HistoryService = request.app.state.history_service\n                                      │       └ <property object at 0x000001FC6EBA93F0>\n                                      └ <starlette.requests.Request object at 0x000001FC7314E410>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\datastructures.py\", line 671, in __getattr__\n    raise AttributeError(message.format(self.__class__.__name__, key))\n                         │       │      │    │         │         └ 'history_service'\n                         │       │      │    │         └ <member '__name__' of 'getset_descriptor' objects>\n                         │       │      │    └ <attribute '__class__' of 'object' objects>\n                         │       │      └ <starlette.datastructures.State object at 0x000001FC71D15160>\n                         │       └ <method 'format' of 'str' objects>\n                         └ \"'{}' object has no attribute '{}'\"\n\nAttributeError: 'State' object has no attribute 'history_service'\n", "record": {"elapsed": {"repr": "0:00:07.734160", "seconds": 7.73416}, "exception": {"type": "AttributeError", "value": "'State' object has no attribute 'history_service'", "traceback": true}, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "generic_exception_handler", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 101, "message": "An unexpected error occurred", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 9404, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:02.946030-05:00", "timestamp": 1749991862.94603}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:08.252590", "seconds": 8.25259}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 9404, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:03.464460-05:00", "timestamp": 1749991863.46446}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:08.454667", "seconds": 8.454667}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 23780, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:03.666537-05:00", "timestamp": 1749991863.666537}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:08.456345", "seconds": 8.456345}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 23780, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:03.668215-05:00", "timestamp": 1749991863.668215}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:08.457170", "seconds": 8.45717}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 23780, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:03.669040-05:00", "timestamp": 1749991863.66904}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:08.462737", "seconds": 8.462737}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 21108, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:03.674607-05:00", "timestamp": 1749991863.674607}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:08.656701", "seconds": 8.656701}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 21108, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:03.868571-05:00", "timestamp": 1749991863.868571}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:08.657269", "seconds": 8.657269}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 21108, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:03.869139-05:00", "timestamp": 1749991863.869139}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:08.657650", "seconds": 8.65765}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 21108, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:03.869520-05:00", "timestamp": 1749991863.86952}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:08.657969", "seconds": 8.657969}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 21108, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:03.869839-05:00", "timestamp": 1749991863.869839}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:08.658276", "seconds": 8.658276}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 21108, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:03.870146-05:00", "timestamp": 1749991863.870146}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:08.658616", "seconds": 8.658616}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 21108, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:03.870486-05:00", "timestamp": 1749991863.870486}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:08.658918", "seconds": 8.658918}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 21108, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:03.870788-05:00", "timestamp": 1749991863.870788}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:08.659193", "seconds": 8.659193}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 21108, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:03.871063-05:00", "timestamp": 1749991863.871063}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:08.659522", "seconds": 8.659522}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 21108, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:03.871392-05:00", "timestamp": 1749991863.871392}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:08.659827", "seconds": 8.659827}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 21108, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:03.871697-05:00", "timestamp": 1749991863.871697}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:08.660153", "seconds": 8.660153}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 21108, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:03.872023-05:00", "timestamp": 1749991863.872023}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:08.660458", "seconds": 8.660458}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 21108, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:03.872328-05:00", "timestamp": 1749991863.872328}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:08.660755", "seconds": 8.660755}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 21108, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:03.872625-05:00", "timestamp": 1749991863.872625}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:08.661027", "seconds": 8.661027}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 21108, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:03.872897-05:00", "timestamp": 1749991863.872897}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:08.858333", "seconds": 8.858333}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 21108, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:04.070203-05:00", "timestamp": 1749991864.070203}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:08.859214", "seconds": 8.859214}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 21108, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:04.071084-05:00", "timestamp": 1749991864.071084}}}
{"text": "An unexpected error occurred\n  + Exception Group Traceback (most recent call last):\n  |\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 177, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x000001FC732F7E00>\n  |                │     └ <function create_task_group at 0x000001FC6BC7F6A0>\n  |                └ <module 'anyio' from 'C:\\\\Users\\\\dmjtx\\\\AppData\\\\Local\\\\pypoetry\\\\Cache\\\\virtualenvs\\\\ai-room-cleaner-UUzRmTiU-py3.13\\\\Lib\\\\s...\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001FC731A63E0>\n    |           │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x000001FC731A59E0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>\n    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001FC71D16510>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x000001FC6EB5AFC0>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'history_service'\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x000001FC7408A9B0>\n    |     └ <contextlib._GeneratorContextManager object at 0x000001FC732F7B60>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC731A6660>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x000001FC73C81A90>\n    |                      │    └ <bound method RequestSizeLimitMiddleware.dispatch of <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>>\n    |                      └ <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py\", line 134, in dispatch\n    |     return await call_next(request)\n    |                  │         └ <starlette.middleware.base._CachedRequest object at 0x000001FC73C81A90>\n    |                  └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC731A6660>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ AttributeError(\"'State' object has no attribute 'history_service'\")\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC731A6840>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A67A0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>\n    |           └ <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x000001FC6EB5AFC0>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'history_service'\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x000001FC74088110>\n    |     └ <contextlib._GeneratorContextManager object at 0x000001FC732F7EE0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC731A6980>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x000001FC73C82190>\n    |                      │    └ <bound method LoggingMiddleware.dispatch of <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>>\n    |                      └ <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\logging.py\", line 37, in dispatch\n    |     response = await call_next(request)\n    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x000001FC73C82190>\n    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC731A6980>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ AttributeError(\"'State' object has no attribute 'history_service'\")\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC731A6B60>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A6AC0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001FC71D170E0>\n    |           └ <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC731A6B60>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A6AC0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001FC71D174D0>\n    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x000001FC71D170E0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC731A6B60>\n    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A6AC0>\n    |           │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │                            │    │    └ <starlette.requests.Request object at 0x000001FC731553D0>\n    |           │                            │    └ <fastapi.routing.APIRouter object at 0x000001FC71D30910>\n    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001FC71D174D0>\n    |           └ <function wrap_app_handling_exceptions at 0x000001FC6EC2F240>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC731A6E80>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A6AC0>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           └ <fastapi.routing.APIRouter object at 0x000001FC71D30910>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 714, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC731A6E80>\n    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A6AC0>\n    |           │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001FC71D30910>>\n    |           └ <fastapi.routing.APIRouter object at 0x000001FC71D30910>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 734, in app\n    |     await route.handle(scope, receive, send)\n    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC731A6E80>\n    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A6AC0>\n    |           │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │     └ <function Route.handle at 0x000001FC6FE209A0>\n    |           └ APIRoute(path='/history', name='get_history', methods=['GET'])\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC731A6E80>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A6AC0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <function request_response.<locals>.app at 0x000001FC71D3D760>\n    |           └ APIRoute(path='/history', name='get_history', methods=['GET'])\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC731A6E80>\n    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A6AC0>\n    |           │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │                            │    └ <starlette.requests.Request object at 0x000001FC73B0F1D0>\n    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001FC731A7100>\n    |           └ <function wrap_app_handling_exceptions at 0x000001FC6EC2F240>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC731A6F20>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A6AC0>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           └ <function request_response.<locals>.app.<locals>.app at 0x000001FC731A7100>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                      │ └ <starlette.requests.Request object at 0x000001FC73B0F1D0>\n    |                      └ <function get_request_handler.<locals>.app at 0x000001FC71D3D620>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                          └ <function run_endpoint_function at 0x000001FC6EC2EA20>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 212, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |                  │         │      └ {'request': <starlette.requests.Request object at 0x000001FC73B0F1D0>}\n    |                  │         └ <function get_history at 0x000001FC71D0BCE0>\n    |                  └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[], dependencies=[], security_requ...\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py\", line 111, in get_history\n    |     history_service: HistoryService = request.app.state.history_service\n    |                                       │       └ <property object at 0x000001FC6EBA93F0>\n    |                                       └ <starlette.requests.Request object at 0x000001FC73B0F1D0>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\datastructures.py\", line 671, in __getattr__\n    |     raise AttributeError(message.format(self.__class__.__name__, key))\n    |                          │       │      │    │         │         └ 'history_service'\n    |                          │       │      │    │         └ <member '__name__' of 'getset_descriptor' objects>\n    |                          │       │      │    └ <attribute '__class__' of 'object' objects>\n    |                          │       │      └ <starlette.datastructures.State object at 0x000001FC71D15160>\n    |                          │       └ <method 'format' of 'str' objects>\n    |                          └ \"'{}' object has no attribute '{}'\"\n    |\n    | AttributeError: 'State' object has no attribute 'history_service'\n    +------------------------------------\n\n\nDuring handling of the above exception, another exception occurred:\n\n\nTraceback (most recent call last):\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 1012, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x000001FC6B1511C0>\n    └ <Thread(Thread-10 (run_blocking_portal), started daemon 21108)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 1041, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x000001FC6B150F40>\n    └ <Thread(Thread-10 (run_blocking_portal), started daemon 21108)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 992, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-10 (run_blocking_portal), started daemon 21108)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-10 (run_blocking_portal), started daemon 21108)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x000001FC73206E80>\n    └ <Thread(Thread-10 (run_blocking_portal), started daemon 21108)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x000001FC6BBF4360>\n    └ <module 'anyio._core._eventloop' from 'C:\\\\Users\\\\dmjtx\\\\AppData\\\\Local\\\\pypoetry\\\\Cache\\\\virtualenvs\\\\ai-room-cleaner-UUzRmT...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_core\\_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x000001FC73205300>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x000001FC72EDCF40>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x000001FC73207E20>\n           │      └ <function Runner.run at 0x000001FC6D72D3A0>\n           └ <asyncio.runners.Runner object at 0x000001FC73750F30>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001FC6D726DE0>\n           │    └ <ProactorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x000001FC73750F30>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x000001FC6D726D40>\n    └ <ProactorEventLoop running=True closed=False debug=False>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x000001FC6D72CB80>\n    └ <ProactorEventLoop running=True closed=False debug=False>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x000001FC6D6823E0>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\from_thread.py\", line 221, in _call_func\n    retval = await retval_or_awaitable\n                   └ <coroutine object FastAPI.__call__ at 0x000001FC73358D60>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\applications.py\", line 1054, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x000001FC731A5E40>\n                           │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x000001FC731A59E0>\n                           └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\applications.py\", line 112, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x000001FC731A5E40>\n          │    │                │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x000001FC731A59E0>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001FC71D16510>\n          └ <fastapi.applications.FastAPI object at 0x000001FC71D14AD0>\n> File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001FC731A63E0>\n          │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x000001FC731A59E0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>\n          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001FC71D16510>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x000001FC6EB5AFC0>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'history_service'\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x000001FC7408A9B0>\n    └ <contextlib._GeneratorContextManager object at 0x000001FC732F7B60>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC731A6660>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x000001FC73C81A90>\n                     │    └ <bound method RequestSizeLimitMiddleware.dispatch of <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>>\n                     └ <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py\", line 134, in dispatch\n    return await call_next(request)\n                 │         └ <starlette.middleware.base._CachedRequest object at 0x000001FC73C81A90>\n                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC731A6660>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    raise app_exc\n          └ AttributeError(\"'State' object has no attribute 'history_service'\")\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC731A6840>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A67A0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>\n          └ <backend.main.RequestSizeLimitMiddleware object at 0x000001FC71D17B60>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x000001FC6EB5AFC0>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'history_service'\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x000001FC74088110>\n    └ <contextlib._GeneratorContextManager object at 0x000001FC732F7EE0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC731A6980>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x000001FC73C82190>\n                     │    └ <bound method LoggingMiddleware.dispatch of <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>>\n                     └ <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\logging.py\", line 37, in dispatch\n    response = await call_next(request)\n                     │         └ <starlette.middleware.base._CachedRequest object at 0x000001FC73C82190>\n                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000001FC731A6980>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    raise app_exc\n          └ AttributeError(\"'State' object has no attribute 'history_service'\")\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC731A6B60>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A6AC0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001FC71D170E0>\n          └ <backend.core.logging.LoggingMiddleware object at 0x000001FC71D17770>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC731A6B60>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A6AC0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001FC71D174D0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001FC71D170E0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000001FC731A6B60>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A6AC0>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │                            │    │    └ <starlette.requests.Request object at 0x000001FC731553D0>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x000001FC71D30910>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001FC71D174D0>\n          └ <function wrap_app_handling_exceptions at 0x000001FC6EC2F240>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC731A6E80>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A6AC0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          └ <fastapi.routing.APIRouter object at 0x000001FC71D30910>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC731A6E80>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A6AC0>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001FC71D30910>>\n          └ <fastapi.routing.APIRouter object at 0x000001FC71D30910>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC731A6E80>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A6AC0>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │     └ <function Route.handle at 0x000001FC6FE209A0>\n          └ APIRoute(path='/history', name='get_history', methods=['GET'])\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC731A6E80>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A6AC0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <function request_response.<locals>.app at 0x000001FC71D3D760>\n          └ APIRoute(path='/history', name='get_history', methods=['GET'])\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC731A6E80>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A6AC0>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │                            │    └ <starlette.requests.Request object at 0x000001FC73B0F1D0>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000001FC731A7100>\n          └ <function wrap_app_handling_exceptions at 0x000001FC6EC2F240>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001FC731A6F20>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000001FC731A6AC0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          └ <function request_response.<locals>.app.<locals>.app at 0x000001FC731A7100>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x000001FC73B0F1D0>\n                     └ <function get_request_handler.<locals>.app at 0x000001FC71D3D620>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x000001FC6EC2EA20>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'request': <starlette.requests.Request object at 0x000001FC73B0F1D0>}\n                 │         └ <function get_history at 0x000001FC71D0BCE0>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[], dependencies=[], security_requ...\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py\", line 111, in get_history\n    history_service: HistoryService = request.app.state.history_service\n                                      │       └ <property object at 0x000001FC6EBA93F0>\n                                      └ <starlette.requests.Request object at 0x000001FC73B0F1D0>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\datastructures.py\", line 671, in __getattr__\n    raise AttributeError(message.format(self.__class__.__name__, key))\n                         │       │      │    │         │         └ 'history_service'\n                         │       │      │    │         └ <member '__name__' of 'getset_descriptor' objects>\n                         │       │      │    └ <attribute '__class__' of 'object' objects>\n                         │       │      └ <starlette.datastructures.State object at 0x000001FC71D15160>\n                         │       └ <method 'format' of 'str' objects>\n                         └ \"'{}' object has no attribute '{}'\"\n\nAttributeError: 'State' object has no attribute 'history_service'\n", "record": {"elapsed": {"repr": "0:00:08.863391", "seconds": 8.863391}, "exception": {"type": "AttributeError", "value": "'State' object has no attribute 'history_service'", "traceback": true}, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "generic_exception_handler", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 101, "message": "An unexpected error occurred", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 21108, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:04.075261-05:00", "timestamp": 1749991864.075261}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:09.379862", "seconds": 9.379862}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 20992, "name": "MainProcess"}, "thread": {"id": 21108, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:04.591732-05:00", "timestamp": 1749991864.591732}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.465526", "seconds": 2.465526}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:21.431564-05:00", "timestamp": 1749991881.431564}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:02.683721", "seconds": 2.683721}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:21.649759-05:00", "timestamp": 1749991881.649759}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.684355", "seconds": 2.684355}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:21.650393-05:00", "timestamp": 1749991881.650393}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.684689", "seconds": 2.684689}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:21.650727-05:00", "timestamp": 1749991881.650727}}}
{"text": "Initializing application state.\n", "record": {"elapsed": {"repr": "0:00:02.685052", "seconds": 2.685052}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 51, "message": "Initializing application state.", "module": "state", "name": "backend.core.state", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:21.651090-05:00", "timestamp": 1749991881.65109}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.685375", "seconds": 2.685375}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:21.651413-05:00", "timestamp": 1749991881.651413}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.685704", "seconds": 2.685704}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:21.651742-05:00", "timestamp": 1749991881.651742}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.685996", "seconds": 2.685996}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:21.652034-05:00", "timestamp": 1749991881.652034}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.686382", "seconds": 2.686382}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:21.652420-05:00", "timestamp": 1749991881.65242}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.686683", "seconds": 2.686683}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:21.652721-05:00", "timestamp": 1749991881.652721}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.686961", "seconds": 2.686961}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:21.652999-05:00", "timestamp": 1749991881.652999}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.687303", "seconds": 2.687303}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:21.653341-05:00", "timestamp": 1749991881.653341}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.687670", "seconds": 2.68767}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:21.653708-05:00", "timestamp": 1749991881.653708}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.687991", "seconds": 2.687991}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:21.654029-05:00", "timestamp": 1749991881.654029}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.688283", "seconds": 2.688283}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:21.654321-05:00", "timestamp": 1749991881.654321}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.893175", "seconds": 2.893175}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:21.859213-05:00", "timestamp": 1749991881.859213}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.894111", "seconds": 2.894111}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:21.860149-05:00", "timestamp": 1749991881.860149}}}
{"text": "Received request for secure room analysis\n", "record": {"elapsed": {"repr": "0:00:02.904841", "seconds": 2.904841}, "exception": null, "extra": {"request_id": "d7647425-e290-4ad3-922e-667437ca3e4d"}, "file": {"name": "router.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py"}, "function": "analyze_room_secure", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 84, "message": "Received request for secure room analysis", "module": "router", "name": "backend.api.router", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:21.870879-05:00", "timestamp": 1749991881.870879}}}
{"text": "An unexpected error occurred\n  + Exception Group Traceback (most recent call last):\n  |\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 177, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x0000021A9FA94F50>\n  |                │     └ <function create_task_group at 0x0000021A999DF6A0>\n  |                └ <module 'anyio' from 'C:\\\\Users\\\\dmjtx\\\\AppData\\\\Local\\\\pypoetry\\\\Cache\\\\virtualenvs\\\\ai-room-cleaner-UUzRmTiU-py3.13\\\\Lib\\\\s...\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000021AA0C39080>\n    |           │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000021AA0C38E00>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>\n    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000021A9FA57770>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x0000021A9C82B060>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'ai_service'\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x0000021AA0BEC790>\n    |     └ <contextlib._GeneratorContextManager object at 0x0000021AA0C0EB30>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0C38A40>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000021A9C3BE7B0>\n    |                      │    └ <bound method RequestSizeLimitMiddleware.dispatch of <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>>\n    |                      └ <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py\", line 134, in dispatch\n    |     return await call_next(request)\n    |                  │         └ <starlette.middleware.base._CachedRequest object at 0x0000021A9C3BE7B0>\n    |                  └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0C38A40>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ AttributeError(\"'State' object has no attribute 'ai_service'\")\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0C387C0>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0C38860>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>\n    |           └ <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x0000021A9C82B060>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'ai_service'\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x0000021AA0BED7D0>\n    |     └ <contextlib._GeneratorContextManager object at 0x0000021AA0C0EAC0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0C14400>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000021A9FA95090>\n    |                      │    └ <bound method LoggingMiddleware.dispatch of <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>>\n    |                      └ <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\logging.py\", line 37, in dispatch\n    |     response = await call_next(request)\n    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x0000021A9FA95090>\n    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0C14400>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ AttributeError(\"'State' object has no attribute 'ai_service'\")\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0C384A0>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0C38540>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021A9FAFC980>\n    |           └ <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0C384A0>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0C38540>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021A9FAFC590>\n    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021A9FAFC980>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0C384A0>\n    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0C38540>\n    |           │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │                            │    │    └ <starlette.requests.Request object at 0x0000021AA0BE1E80>\n    |           │                            │    └ <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>\n    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021A9FAFC590>\n    |           └ <function wrap_app_handling_exceptions at 0x0000021A9C90F2E0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0C393A0>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0C38540>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           └ <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 714, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0C393A0>\n    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0C38540>\n    |           │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>>\n    |           └ <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 734, in app\n    |     await route.handle(scope, receive, send)\n    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0C393A0>\n    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0C38540>\n    |           │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │     └ <function Route.handle at 0x0000021A9C93CA40>\n    |           └ APIRoute(path='/v1/analyze-room-secure', name='analyze_room_secure', methods=['POST'])\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0C393A0>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0C38540>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <function request_response.<locals>.app at 0x0000021A9FA81620>\n    |           └ APIRoute(path='/v1/analyze-room-secure', name='analyze_room_secure', methods=['POST'])\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0C393A0>\n    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0C38540>\n    |           │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │                            │    └ <starlette.requests.Request object at 0x0000021A9FA95450>\n    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000021AA0C394E0>\n    |           └ <function wrap_app_handling_exceptions at 0x0000021A9C90F2E0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0C39620>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0C38540>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           └ <function request_response.<locals>.app.<locals>.app at 0x0000021AA0C394E0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                      │ └ <starlette.requests.Request object at 0x0000021A9FA95450>\n    |                      └ <function get_request_handler.<locals>.app at 0x0000021A9FA81580>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                          └ <function run_endpoint_function at 0x0000021A9C90EAC0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 212, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |                  │         │      └ {'api_key': 'test-key', 'file': UploadFile(filename='test.jpg', size=15, headers=Headers({'content-disposition': 'form-data; ...\n    |                  │         └ <function analyze_room_secure at 0x0000021A9FA4B9C0>\n    |                  └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=File(Pydant...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\slowapi\\extension.py\", line 734, in async_wrapper\n    |     response = await func(*args, **kwargs)  # type: ignore\n    |                      │     │       └ {'api_key': 'test-key', 'file': UploadFile(filename='test.jpg', size=15, headers=Headers({'content-disposition': 'form-data; ...\n    |                      │     └ ()\n    |                      └ <function analyze_room_secure at 0x0000021A9FA4B7E0>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py\", line 85, in analyze_room_secure\n    |     ai_service: AIService = request.app.state.ai_service\n    |                             │       └ <property object at 0x0000021A9C8893A0>\n    |                             └ <starlette.requests.Request object at 0x0000021A9FA95450>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\datastructures.py\", line 671, in __getattr__\n    |     raise AttributeError(message.format(self.__class__.__name__, key))\n    |                          │       │      │    │         │         └ 'ai_service'\n    |                          │       │      │    │         └ <member '__name__' of 'getset_descriptor' objects>\n    |                          │       │      │    └ <attribute '__class__' of 'object' objects>\n    |                          │       │      └ <starlette.datastructures.State object at 0x0000021A9FA55160>\n    |                          │       └ <method 'format' of 'str' objects>\n    |                          └ \"'{}' object has no attribute '{}'\"\n    |\n    | AttributeError: 'State' object has no attribute 'ai_service'\n    +------------------------------------\n\n\nDuring handling of the above exception, another exception occurred:\n\n\nTraceback (most recent call last):\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 1012, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x0000021A98F111C0>\n    └ <Thread(Thread-2 (run_blocking_portal), started daemon 17444)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 1041, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x0000021A98F10F40>\n    └ <Thread(Thread-2 (run_blocking_portal), started daemon 17444)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 992, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-2 (run_blocking_portal), started daemon 17444)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-2 (run_blocking_portal), started daemon 17444)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x0000021A9FB23920>\n    └ <Thread(Thread-2 (run_blocking_portal), started daemon 17444)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x0000021A99950360>\n    └ <module 'anyio._core._eventloop' from 'C:\\\\Users\\\\dmjtx\\\\AppData\\\\Local\\\\pypoetry\\\\Cache\\\\virtualenvs\\\\ai-room-cleaner-UUzRmT...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_core\\_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x0000021A9FB23740>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x0000021AA0C18FE0>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x0000021A9FA4ACA0>\n           │      └ <function Runner.run at 0x0000021A9B37D3A0>\n           └ <asyncio.runners.Runner object at 0x0000021A9FAFDFD0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000021A9B37ADE0>\n           │    └ <ProactorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x0000021A9FAFDFD0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x0000021A9B37AD40>\n    └ <ProactorEventLoop running=True closed=False debug=False>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x0000021A9B37CB80>\n    └ <ProactorEventLoop running=True closed=False debug=False>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x0000021A9B2D23E0>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\from_thread.py\", line 221, in _call_func\n    retval = await retval_or_awaitable\n                   └ <coroutine object FastAPI.__call__ at 0x0000021AA0BEA4D0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\applications.py\", line 1054, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x0000021AA0C38D60>\n                           │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000021AA0C38E00>\n                           └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\applications.py\", line 112, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x0000021AA0C38D60>\n          │    │                │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000021AA0C38E00>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000021A9FA57770>\n          └ <fastapi.applications.FastAPI object at 0x0000021A9FA54AD0>\n> File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000021AA0C39080>\n          │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000021AA0C38E00>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>\n          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000021A9FA57770>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x0000021A9C82B060>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'ai_service'\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x0000021AA0BEC790>\n    └ <contextlib._GeneratorContextManager object at 0x0000021AA0C0EB30>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0C38A40>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000021A9C3BE7B0>\n                     │    └ <bound method RequestSizeLimitMiddleware.dispatch of <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>>\n                     └ <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py\", line 134, in dispatch\n    return await call_next(request)\n                 │         └ <starlette.middleware.base._CachedRequest object at 0x0000021A9C3BE7B0>\n                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0C38A40>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    raise app_exc\n          └ AttributeError(\"'State' object has no attribute 'ai_service'\")\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0C387C0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0C38860>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>\n          └ <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x0000021A9C82B060>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'ai_service'\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x0000021AA0BED7D0>\n    └ <contextlib._GeneratorContextManager object at 0x0000021AA0C0EAC0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0C14400>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000021A9FA95090>\n                     │    └ <bound method LoggingMiddleware.dispatch of <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>>\n                     └ <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\logging.py\", line 37, in dispatch\n    response = await call_next(request)\n                     │         └ <starlette.middleware.base._CachedRequest object at 0x0000021A9FA95090>\n                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0C14400>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    raise app_exc\n          └ AttributeError(\"'State' object has no attribute 'ai_service'\")\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0C384A0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0C38540>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021A9FAFC980>\n          └ <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0C384A0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0C38540>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021A9FAFC590>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021A9FAFC980>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0C384A0>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0C38540>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │                            │    │    └ <starlette.requests.Request object at 0x0000021AA0BE1E80>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021A9FAFC590>\n          └ <function wrap_app_handling_exceptions at 0x0000021A9C90F2E0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0C393A0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0C38540>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          └ <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0C393A0>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0C38540>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>>\n          └ <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0C393A0>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0C38540>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │     └ <function Route.handle at 0x0000021A9C93CA40>\n          └ APIRoute(path='/v1/analyze-room-secure', name='analyze_room_secure', methods=['POST'])\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0C393A0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0C38540>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <function request_response.<locals>.app at 0x0000021A9FA81620>\n          └ APIRoute(path='/v1/analyze-room-secure', name='analyze_room_secure', methods=['POST'])\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0C393A0>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0C38540>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │                            │    └ <starlette.requests.Request object at 0x0000021A9FA95450>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000021AA0C394E0>\n          └ <function wrap_app_handling_exceptions at 0x0000021A9C90F2E0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0C39620>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0C38540>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          └ <function request_response.<locals>.app.<locals>.app at 0x0000021AA0C394E0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x0000021A9FA95450>\n                     └ <function get_request_handler.<locals>.app at 0x0000021A9FA81580>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x0000021A9C90EAC0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'api_key': 'test-key', 'file': UploadFile(filename='test.jpg', size=15, headers=Headers({'content-disposition': 'form-data; ...\n                 │         └ <function analyze_room_secure at 0x0000021A9FA4B9C0>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=File(Pydant...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\slowapi\\extension.py\", line 734, in async_wrapper\n    response = await func(*args, **kwargs)  # type: ignore\n                     │     │       └ {'api_key': 'test-key', 'file': UploadFile(filename='test.jpg', size=15, headers=Headers({'content-disposition': 'form-data; ...\n                     │     └ ()\n                     └ <function analyze_room_secure at 0x0000021A9FA4B7E0>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py\", line 85, in analyze_room_secure\n    ai_service: AIService = request.app.state.ai_service\n                            │       └ <property object at 0x0000021A9C8893A0>\n                            └ <starlette.requests.Request object at 0x0000021A9FA95450>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\datastructures.py\", line 671, in __getattr__\n    raise AttributeError(message.format(self.__class__.__name__, key))\n                         │       │      │    │         │         └ 'ai_service'\n                         │       │      │    │         └ <member '__name__' of 'getset_descriptor' objects>\n                         │       │      │    └ <attribute '__class__' of 'object' objects>\n                         │       │      └ <starlette.datastructures.State object at 0x0000021A9FA55160>\n                         │       └ <method 'format' of 'str' objects>\n                         └ \"'{}' object has no attribute '{}'\"\n\nAttributeError: 'State' object has no attribute 'ai_service'\n", "record": {"elapsed": {"repr": "0:00:02.905721", "seconds": 2.905721}, "exception": {"type": "AttributeError", "value": "'State' object has no attribute 'ai_service'", "traceback": true}, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "generic_exception_handler", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 101, "message": "An unexpected error occurred", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:21.871759-05:00", "timestamp": 1749991881.871759}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:03.632549", "seconds": 3.632549}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:22.598587-05:00", "timestamp": 1749991882.598587}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:03.835659", "seconds": 3.835659}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 25820, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:22.801697-05:00", "timestamp": 1749991882.801697}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.836492", "seconds": 3.836492}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 25820, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:22.802530-05:00", "timestamp": 1749991882.80253}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.836970", "seconds": 3.83697}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 25820, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:22.803008-05:00", "timestamp": 1749991882.803008}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:03.842834", "seconds": 3.842834}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 2744, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:22.808872-05:00", "timestamp": 1749991882.808872}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:04.041489", "seconds": 4.041489}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 2744, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:23.007527-05:00", "timestamp": 1749991883.007527}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:04.042412", "seconds": 4.042412}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 2744, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:23.008450-05:00", "timestamp": 1749991883.00845}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:04.042831", "seconds": 4.042831}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 2744, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:23.008869-05:00", "timestamp": 1749991883.008869}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:04.043163", "seconds": 4.043163}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 2744, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:23.009201-05:00", "timestamp": 1749991883.009201}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:04.043485", "seconds": 4.043485}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 2744, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:23.009523-05:00", "timestamp": 1749991883.009523}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:04.043787", "seconds": 4.043787}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 2744, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:23.009825-05:00", "timestamp": 1749991883.009825}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:04.044075", "seconds": 4.044075}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 2744, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:23.010113-05:00", "timestamp": 1749991883.010113}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:04.044370", "seconds": 4.04437}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 2744, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:23.010408-05:00", "timestamp": 1749991883.010408}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:04.044687", "seconds": 4.044687}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 2744, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:23.010725-05:00", "timestamp": 1749991883.010725}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:04.045004", "seconds": 4.045004}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 2744, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:23.011042-05:00", "timestamp": 1749991883.011042}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:04.045337", "seconds": 4.045337}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 2744, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:23.011375-05:00", "timestamp": 1749991883.011375}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:04.045665", "seconds": 4.045665}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 2744, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:23.011703-05:00", "timestamp": 1749991883.011703}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:04.045971", "seconds": 4.045971}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 2744, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:23.012009-05:00", "timestamp": 1749991883.012009}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:04.046262", "seconds": 4.046262}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 2744, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:23.012300-05:00", "timestamp": 1749991883.0123}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:04.245531", "seconds": 4.245531}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 2744, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:23.211569-05:00", "timestamp": 1749991883.211569}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:04.246569", "seconds": 4.246569}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 2744, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:23.212607-05:00", "timestamp": 1749991883.212607}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:04.257357", "seconds": 4.257357}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 2744, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:23.223395-05:00", "timestamp": 1749991883.223395}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:04.459351", "seconds": 4.459351}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 25820, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:23.425389-05:00", "timestamp": 1749991883.425389}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:04.459987", "seconds": 4.459987}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 25820, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:23.426025-05:00", "timestamp": 1749991883.426025}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:04.460458", "seconds": 4.460458}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 25820, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:23.426496-05:00", "timestamp": 1749991883.426496}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:04.465267", "seconds": 4.465267}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 3776, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:23.431305-05:00", "timestamp": 1749991883.431305}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:04.661199", "seconds": 4.661199}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 3776, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:23.627237-05:00", "timestamp": 1749991883.627237}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:04.662107", "seconds": 4.662107}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 3776, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:23.628145-05:00", "timestamp": 1749991883.628145}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:04.662443", "seconds": 4.662443}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 3776, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:23.628481-05:00", "timestamp": 1749991883.628481}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:04.662759", "seconds": 4.662759}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 3776, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:23.628797-05:00", "timestamp": 1749991883.628797}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:04.663139", "seconds": 4.663139}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 3776, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:23.629177-05:00", "timestamp": 1749991883.629177}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:04.663437", "seconds": 4.663437}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 3776, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:23.629475-05:00", "timestamp": 1749991883.629475}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:04.663717", "seconds": 4.663717}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 3776, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:23.629755-05:00", "timestamp": 1749991883.629755}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:04.664011", "seconds": 4.664011}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 3776, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:23.630049-05:00", "timestamp": 1749991883.630049}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:04.664315", "seconds": 4.664315}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 3776, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:23.630353-05:00", "timestamp": 1749991883.630353}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:04.664592", "seconds": 4.664592}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 3776, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:23.630630-05:00", "timestamp": 1749991883.63063}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:04.664957", "seconds": 4.664957}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 3776, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:23.630995-05:00", "timestamp": 1749991883.630995}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:04.665264", "seconds": 4.665264}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 3776, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:23.631302-05:00", "timestamp": 1749991883.631302}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:04.665573", "seconds": 4.665573}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 3776, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:23.631611-05:00", "timestamp": 1749991883.631611}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:04.665953", "seconds": 4.665953}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 3776, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:23.631991-05:00", "timestamp": 1749991883.631991}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:04.857398", "seconds": 4.857398}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 3776, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:23.823436-05:00", "timestamp": 1749991883.823436}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:04.857967", "seconds": 4.857967}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 3776, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:23.824005-05:00", "timestamp": 1749991883.824005}}}
{"text": "Received request for secure room analysis\n", "record": {"elapsed": {"repr": "0:00:04.865650", "seconds": 4.86565}, "exception": null, "extra": {"request_id": "d68e2c3f-120c-45f8-8337-8c360a499702"}, "file": {"name": "router.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py"}, "function": "analyze_room_secure", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 84, "message": "Received request for secure room analysis", "module": "router", "name": "backend.api.router", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 3776, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:23.831688-05:00", "timestamp": 1749991883.831688}}}
{"text": "An unexpected error occurred\n  + Exception Group Traceback (most recent call last):\n  |\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 177, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x0000021AA1372270>\n  |                │     └ <function create_task_group at 0x0000021A999DF6A0>\n  |                └ <module 'anyio' from 'C:\\\\Users\\\\dmjtx\\\\AppData\\\\Local\\\\pypoetry\\\\Cache\\\\virtualenvs\\\\ai-room-cleaner-UUzRmTiU-py3.13\\\\Lib\\\\s...\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000021AA0E9D620>\n    |           │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000021AA0F413A0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>\n    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000021A9FA57770>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x0000021A9C82B060>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'ai_service'\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x0000021AA1373100>\n    |     └ <contextlib._GeneratorContextManager object at 0x0000021AA0F49E10>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0E9D940>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000021A9988E190>\n    |                      │    └ <bound method RequestSizeLimitMiddleware.dispatch of <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>>\n    |                      └ <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py\", line 134, in dispatch\n    |     return await call_next(request)\n    |                  │         └ <starlette.middleware.base._CachedRequest object at 0x0000021A9988E190>\n    |                  └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0E9D940>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ AttributeError(\"'State' object has no attribute 'ai_service'\")\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0F40720>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F41800>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>\n    |           └ <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x0000021A9C82B060>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'ai_service'\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x0000021AA13735E0>\n    |     └ <contextlib._GeneratorContextManager object at 0x0000021AA0F4A510>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0F42340>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000021A9FB1CCB0>\n    |                      │    └ <bound method LoggingMiddleware.dispatch of <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>>\n    |                      └ <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\logging.py\", line 37, in dispatch\n    |     response = await call_next(request)\n    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x0000021A9FB1CCB0>\n    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0F42340>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ AttributeError(\"'State' object has no attribute 'ai_service'\")\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0F42520>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F425C0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021A9FAFC980>\n    |           └ <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0F42520>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F425C0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021A9FAFC590>\n    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021A9FAFC980>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0F42520>\n    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F425C0>\n    |           │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │                            │    │    └ <starlette.requests.Request object at 0x0000021A99931C70>\n    |           │                            │    └ <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>\n    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021A9FAFC590>\n    |           └ <function wrap_app_handling_exceptions at 0x0000021A9C90F2E0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0F40900>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F425C0>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           └ <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 714, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0F40900>\n    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F425C0>\n    |           │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>>\n    |           └ <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 734, in app\n    |     await route.handle(scope, receive, send)\n    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0F40900>\n    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F425C0>\n    |           │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │     └ <function Route.handle at 0x0000021A9C93CA40>\n    |           └ APIRoute(path='/v1/analyze-room-secure', name='analyze_room_secure', methods=['POST'])\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0F40900>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F425C0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <function request_response.<locals>.app at 0x0000021A9FA81620>\n    |           └ APIRoute(path='/v1/analyze-room-secure', name='analyze_room_secure', methods=['POST'])\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0F40900>\n    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F425C0>\n    |           │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │                            │    └ <starlette.requests.Request object at 0x0000021AA1E37240>\n    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000021AA0F404A0>\n    |           └ <function wrap_app_handling_exceptions at 0x0000021A9C90F2E0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0F40FE0>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F425C0>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           └ <function request_response.<locals>.app.<locals>.app at 0x0000021AA0F404A0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                      │ └ <starlette.requests.Request object at 0x0000021AA1E37240>\n    |                      └ <function get_request_handler.<locals>.app at 0x0000021A9FA81580>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                          └ <function run_endpoint_function at 0x0000021A9C90EAC0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 212, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |                  │         │      └ {'api_key': 'test-key', 'file': UploadFile(filename='test.txt', size=14, headers=Headers({'content-disposition': 'form-data; ...\n    |                  │         └ <function analyze_room_secure at 0x0000021A9FA4B9C0>\n    |                  └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=File(Pydant...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\slowapi\\extension.py\", line 734, in async_wrapper\n    |     response = await func(*args, **kwargs)  # type: ignore\n    |                      │     │       └ {'api_key': 'test-key', 'file': UploadFile(filename='test.txt', size=14, headers=Headers({'content-disposition': 'form-data; ...\n    |                      │     └ ()\n    |                      └ <function analyze_room_secure at 0x0000021A9FA4B7E0>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py\", line 85, in analyze_room_secure\n    |     ai_service: AIService = request.app.state.ai_service\n    |                             │       └ <property object at 0x0000021A9C8893A0>\n    |                             └ <starlette.requests.Request object at 0x0000021AA1E37240>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\datastructures.py\", line 671, in __getattr__\n    |     raise AttributeError(message.format(self.__class__.__name__, key))\n    |                          │       │      │    │         │         └ 'ai_service'\n    |                          │       │      │    │         └ <member '__name__' of 'getset_descriptor' objects>\n    |                          │       │      │    └ <attribute '__class__' of 'object' objects>\n    |                          │       │      └ <starlette.datastructures.State object at 0x0000021A9FA55160>\n    |                          │       └ <method 'format' of 'str' objects>\n    |                          └ \"'{}' object has no attribute '{}'\"\n    |\n    | AttributeError: 'State' object has no attribute 'ai_service'\n    +------------------------------------\n\n\nDuring handling of the above exception, another exception occurred:\n\n\nTraceback (most recent call last):\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 1012, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x0000021A98F111C0>\n    └ <Thread(Thread-5 (run_blocking_portal), started daemon 3776)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 1041, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x0000021A98F10F40>\n    └ <Thread(Thread-5 (run_blocking_portal), started daemon 3776)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 992, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-5 (run_blocking_portal), started daemon 3776)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-5 (run_blocking_portal), started daemon 3776)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x0000021AA0F40860>\n    └ <Thread(Thread-5 (run_blocking_portal), started daemon 3776)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x0000021A99950360>\n    └ <module 'anyio._core._eventloop' from 'C:\\\\Users\\\\dmjtx\\\\AppData\\\\Local\\\\pypoetry\\\\Cache\\\\virtualenvs\\\\ai-room-cleaner-UUzRmT...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_core\\_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x0000021AA0E9D8A0>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x0000021AA0C18FE0>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x0000021AA0F42840>\n           │      └ <function Runner.run at 0x0000021A9B37D3A0>\n           └ <asyncio.runners.Runner object at 0x0000021AA0B425D0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000021A9B37ADE0>\n           │    └ <ProactorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x0000021AA0B425D0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x0000021A9B37AD40>\n    └ <ProactorEventLoop running=True closed=False debug=False>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x0000021A9B37CB80>\n    └ <ProactorEventLoop running=True closed=False debug=False>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x0000021A9B2D23E0>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\from_thread.py\", line 221, in _call_func\n    retval = await retval_or_awaitable\n                   └ <coroutine object FastAPI.__call__ at 0x0000021AA0E5ED40>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\applications.py\", line 1054, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x0000021AA0F42700>\n                           │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000021AA0F413A0>\n                           └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\applications.py\", line 112, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x0000021AA0F42700>\n          │    │                │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000021AA0F413A0>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000021A9FA57770>\n          └ <fastapi.applications.FastAPI object at 0x0000021A9FA54AD0>\n> File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000021AA0E9D620>\n          │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000021AA0F413A0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>\n          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000021A9FA57770>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x0000021A9C82B060>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'ai_service'\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x0000021AA1373100>\n    └ <contextlib._GeneratorContextManager object at 0x0000021AA0F49E10>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0E9D940>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000021A9988E190>\n                     │    └ <bound method RequestSizeLimitMiddleware.dispatch of <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>>\n                     └ <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py\", line 134, in dispatch\n    return await call_next(request)\n                 │         └ <starlette.middleware.base._CachedRequest object at 0x0000021A9988E190>\n                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0E9D940>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    raise app_exc\n          └ AttributeError(\"'State' object has no attribute 'ai_service'\")\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0F40720>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F41800>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>\n          └ <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x0000021A9C82B060>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'ai_service'\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x0000021AA13735E0>\n    └ <contextlib._GeneratorContextManager object at 0x0000021AA0F4A510>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0F42340>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000021A9FB1CCB0>\n                     │    └ <bound method LoggingMiddleware.dispatch of <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>>\n                     └ <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\logging.py\", line 37, in dispatch\n    response = await call_next(request)\n                     │         └ <starlette.middleware.base._CachedRequest object at 0x0000021A9FB1CCB0>\n                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0F42340>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    raise app_exc\n          └ AttributeError(\"'State' object has no attribute 'ai_service'\")\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0F42520>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F425C0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021A9FAFC980>\n          └ <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0F42520>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F425C0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021A9FAFC590>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021A9FAFC980>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0F42520>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F425C0>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │                            │    │    └ <starlette.requests.Request object at 0x0000021A99931C70>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021A9FAFC590>\n          └ <function wrap_app_handling_exceptions at 0x0000021A9C90F2E0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0F40900>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F425C0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          └ <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0F40900>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F425C0>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>>\n          └ <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0F40900>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F425C0>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │     └ <function Route.handle at 0x0000021A9C93CA40>\n          └ APIRoute(path='/v1/analyze-room-secure', name='analyze_room_secure', methods=['POST'])\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0F40900>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F425C0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <function request_response.<locals>.app at 0x0000021A9FA81620>\n          └ APIRoute(path='/v1/analyze-room-secure', name='analyze_room_secure', methods=['POST'])\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0F40900>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F425C0>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │                            │    └ <starlette.requests.Request object at 0x0000021AA1E37240>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000021AA0F404A0>\n          └ <function wrap_app_handling_exceptions at 0x0000021A9C90F2E0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0F40FE0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F425C0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          └ <function request_response.<locals>.app.<locals>.app at 0x0000021AA0F404A0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x0000021AA1E37240>\n                     └ <function get_request_handler.<locals>.app at 0x0000021A9FA81580>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x0000021A9C90EAC0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'api_key': 'test-key', 'file': UploadFile(filename='test.txt', size=14, headers=Headers({'content-disposition': 'form-data; ...\n                 │         └ <function analyze_room_secure at 0x0000021A9FA4B9C0>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=File(Pydant...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\slowapi\\extension.py\", line 734, in async_wrapper\n    response = await func(*args, **kwargs)  # type: ignore\n                     │     │       └ {'api_key': 'test-key', 'file': UploadFile(filename='test.txt', size=14, headers=Headers({'content-disposition': 'form-data; ...\n                     │     └ ()\n                     └ <function analyze_room_secure at 0x0000021A9FA4B7E0>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py\", line 85, in analyze_room_secure\n    ai_service: AIService = request.app.state.ai_service\n                            │       └ <property object at 0x0000021A9C8893A0>\n                            └ <starlette.requests.Request object at 0x0000021AA1E37240>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\datastructures.py\", line 671, in __getattr__\n    raise AttributeError(message.format(self.__class__.__name__, key))\n                         │       │      │    │         │         └ 'ai_service'\n                         │       │      │    │         └ <member '__name__' of 'getset_descriptor' objects>\n                         │       │      │    └ <attribute '__class__' of 'object' objects>\n                         │       │      └ <starlette.datastructures.State object at 0x0000021A9FA55160>\n                         │       └ <method 'format' of 'str' objects>\n                         └ \"'{}' object has no attribute '{}'\"\n\nAttributeError: 'State' object has no attribute 'ai_service'\n", "record": {"elapsed": {"repr": "0:00:04.866210", "seconds": 4.86621}, "exception": {"type": "AttributeError", "value": "'State' object has no attribute 'ai_service'", "traceback": true}, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "generic_exception_handler", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 101, "message": "An unexpected error occurred", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 3776, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:23.832248-05:00", "timestamp": 1749991883.832248}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:05.387247", "seconds": 5.387247}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 3776, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:24.353285-05:00", "timestamp": 1749991884.353285}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:05.585650", "seconds": 5.58565}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 25820, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:24.551688-05:00", "timestamp": 1749991884.551688}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:05.586757", "seconds": 5.586757}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 25820, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:24.552795-05:00", "timestamp": 1749991884.552795}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:05.587389", "seconds": 5.587389}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 25820, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:24.553427-05:00", "timestamp": 1749991884.553427}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:05.593600", "seconds": 5.5936}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 12732, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:24.559638-05:00", "timestamp": 1749991884.559638}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:05.789215", "seconds": 5.789215}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 12732, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:24.755253-05:00", "timestamp": 1749991884.755253}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:05.790231", "seconds": 5.790231}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 12732, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:24.756269-05:00", "timestamp": 1749991884.756269}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:05.790594", "seconds": 5.790594}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 12732, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:24.756632-05:00", "timestamp": 1749991884.756632}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:05.790918", "seconds": 5.790918}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 12732, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:24.756956-05:00", "timestamp": 1749991884.756956}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:05.791284", "seconds": 5.791284}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 12732, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:24.757322-05:00", "timestamp": 1749991884.757322}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:05.791602", "seconds": 5.791602}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 12732, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:24.757640-05:00", "timestamp": 1749991884.75764}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:05.791884", "seconds": 5.791884}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 12732, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:24.757922-05:00", "timestamp": 1749991884.757922}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:05.792264", "seconds": 5.792264}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 12732, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:24.758302-05:00", "timestamp": 1749991884.758302}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:05.792684", "seconds": 5.792684}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 12732, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:24.758722-05:00", "timestamp": 1749991884.758722}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:05.793026", "seconds": 5.793026}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 12732, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:24.759064-05:00", "timestamp": 1749991884.759064}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:05.793363", "seconds": 5.793363}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 12732, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:24.759401-05:00", "timestamp": 1749991884.759401}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:05.793680", "seconds": 5.79368}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 12732, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:24.759718-05:00", "timestamp": 1749991884.759718}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:05.794011", "seconds": 5.794011}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 12732, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:24.760049-05:00", "timestamp": 1749991884.760049}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:05.794302", "seconds": 5.794302}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 12732, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:24.760340-05:00", "timestamp": 1749991884.76034}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:05.992281", "seconds": 5.992281}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 12732, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:24.958319-05:00", "timestamp": 1749991884.958319}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:05.993025", "seconds": 5.993025}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 12732, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:24.959063-05:00", "timestamp": 1749991884.959063}}}
{"text": "An unexpected error occurred\n  + Exception Group Traceback (most recent call last):\n  |\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 177, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x0000021AA0F42FD0>\n  |                │     └ <function create_task_group at 0x0000021A999DF6A0>\n  |                └ <module 'anyio' from 'C:\\\\Users\\\\dmjtx\\\\AppData\\\\Local\\\\pypoetry\\\\Cache\\\\virtualenvs\\\\ai-room-cleaner-UUzRmTiU-py3.13\\\\Lib\\\\s...\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000021AA0F418A0>\n    |           │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000021AA0F431A0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>\n    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000021A9FA57770>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x0000021A9C82B060>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'history_service'\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x0000021AA1373440>\n    |     └ <contextlib._GeneratorContextManager object at 0x0000021AA0EB7850>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0F409A0>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000021AA1EF6360>\n    |                      │    └ <bound method RequestSizeLimitMiddleware.dispatch of <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>>\n    |                      └ <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py\", line 134, in dispatch\n    |     return await call_next(request)\n    |                  │         └ <starlette.middleware.base._CachedRequest object at 0x0000021AA1EF6360>\n    |                  └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0F409A0>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ AttributeError(\"'State' object has no attribute 'history_service'\")\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0F41BC0>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F420C0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>\n    |           └ <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x0000021A9C82B060>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'history_service'\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x0000021AA1373AC0>\n    |     └ <contextlib._GeneratorContextManager object at 0x0000021AA0EB7770>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0F40CC0>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000021AA1EF6580>\n    |                      │    └ <bound method LoggingMiddleware.dispatch of <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>>\n    |                      └ <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\logging.py\", line 37, in dispatch\n    |     response = await call_next(request)\n    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x0000021AA1EF6580>\n    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0F40CC0>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ AttributeError(\"'State' object has no attribute 'history_service'\")\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0F41F80>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F427A0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021A9FAFC980>\n    |           └ <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0F41F80>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F427A0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021A9FAFC590>\n    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021A9FAFC980>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0F41F80>\n    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F427A0>\n    |           │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │                            │    │    └ <starlette.requests.Request object at 0x0000021AA1EF8950>\n    |           │                            │    └ <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>\n    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021A9FAFC590>\n    |           └ <function wrap_app_handling_exceptions at 0x0000021A9C90F2E0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0F43880>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F427A0>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           └ <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 714, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0F43880>\n    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F427A0>\n    |           │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>>\n    |           └ <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 734, in app\n    |     await route.handle(scope, receive, send)\n    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0F43880>\n    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F427A0>\n    |           │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │     └ <function Route.handle at 0x0000021A9C93CA40>\n    |           └ APIRoute(path='/history', name='get_history', methods=['GET'])\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0F43880>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F427A0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <function request_response.<locals>.app at 0x0000021A9FA81800>\n    |           └ APIRoute(path='/history', name='get_history', methods=['GET'])\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0F43880>\n    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F427A0>\n    |           │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │                            │    └ <starlette.requests.Request object at 0x0000021AA1EF8D50>\n    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000021AA0F439C0>\n    |           └ <function wrap_app_handling_exceptions at 0x0000021A9C90F2E0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0F43B00>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F427A0>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           └ <function request_response.<locals>.app.<locals>.app at 0x0000021AA0F439C0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                      │ └ <starlette.requests.Request object at 0x0000021AA1EF8D50>\n    |                      └ <function get_request_handler.<locals>.app at 0x0000021A9FA816C0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                          └ <function run_endpoint_function at 0x0000021A9C90EAC0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 212, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |                  │         │      └ {'request': <starlette.requests.Request object at 0x0000021AA1EF8D50>}\n    |                  │         └ <function get_history at 0x0000021A9FA4BD80>\n    |                  └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[], dependencies=[], security_requ...\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py\", line 111, in get_history\n    |     history_service: HistoryService = request.app.state.history_service\n    |                                       │       └ <property object at 0x0000021A9C8893A0>\n    |                                       └ <starlette.requests.Request object at 0x0000021AA1EF8D50>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\datastructures.py\", line 671, in __getattr__\n    |     raise AttributeError(message.format(self.__class__.__name__, key))\n    |                          │       │      │    │         │         └ 'history_service'\n    |                          │       │      │    │         └ <member '__name__' of 'getset_descriptor' objects>\n    |                          │       │      │    └ <attribute '__class__' of 'object' objects>\n    |                          │       │      └ <starlette.datastructures.State object at 0x0000021A9FA55160>\n    |                          │       └ <method 'format' of 'str' objects>\n    |                          └ \"'{}' object has no attribute '{}'\"\n    |\n    | AttributeError: 'State' object has no attribute 'history_service'\n    +------------------------------------\n\n\nDuring handling of the above exception, another exception occurred:\n\n\nTraceback (most recent call last):\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 1012, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x0000021A98F111C0>\n    └ <Thread(Thread-7 (run_blocking_portal), started daemon 12732)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 1041, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x0000021A98F10F40>\n    └ <Thread(Thread-7 (run_blocking_portal), started daemon 12732)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 992, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-7 (run_blocking_portal), started daemon 12732)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-7 (run_blocking_portal), started daemon 12732)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x0000021AA0F43100>\n    └ <Thread(Thread-7 (run_blocking_portal), started daemon 12732)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x0000021A99950360>\n    └ <module 'anyio._core._eventloop' from 'C:\\\\Users\\\\dmjtx\\\\AppData\\\\Local\\\\pypoetry\\\\Cache\\\\virtualenvs\\\\ai-room-cleaner-UUzRmT...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_core\\_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x0000021AA0F40A40>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x0000021AA0C18FE0>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x0000021AA0BD4540>\n           │      └ <function Runner.run at 0x0000021A9B37D3A0>\n           └ <asyncio.runners.Runner object at 0x0000021AA1E402B0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000021A9B37ADE0>\n           │    └ <ProactorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x0000021AA1E402B0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x0000021A9B37AD40>\n    └ <ProactorEventLoop running=True closed=False debug=False>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x0000021A9B37CB80>\n    └ <ProactorEventLoop running=True closed=False debug=False>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x0000021A9B2D23E0>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\from_thread.py\", line 221, in _call_func\n    retval = await retval_or_awaitable\n                   └ <coroutine object FastAPI.__call__ at 0x0000021AA145AC50>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\applications.py\", line 1054, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x0000021AA0F43420>\n                           │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000021AA0F431A0>\n                           └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\applications.py\", line 112, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x0000021AA0F43420>\n          │    │                │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000021AA0F431A0>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000021A9FA57770>\n          └ <fastapi.applications.FastAPI object at 0x0000021A9FA54AD0>\n> File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000021AA0F418A0>\n          │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000021AA0F431A0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>\n          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000021A9FA57770>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x0000021A9C82B060>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'history_service'\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x0000021AA1373440>\n    └ <contextlib._GeneratorContextManager object at 0x0000021AA0EB7850>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0F409A0>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000021AA1EF6360>\n                     │    └ <bound method RequestSizeLimitMiddleware.dispatch of <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>>\n                     └ <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py\", line 134, in dispatch\n    return await call_next(request)\n                 │         └ <starlette.middleware.base._CachedRequest object at 0x0000021AA1EF6360>\n                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0F409A0>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    raise app_exc\n          └ AttributeError(\"'State' object has no attribute 'history_service'\")\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0F41BC0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F420C0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>\n          └ <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x0000021A9C82B060>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'history_service'\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x0000021AA1373AC0>\n    └ <contextlib._GeneratorContextManager object at 0x0000021AA0EB7770>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0F40CC0>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000021AA1EF6580>\n                     │    └ <bound method LoggingMiddleware.dispatch of <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>>\n                     └ <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\logging.py\", line 37, in dispatch\n    response = await call_next(request)\n                     │         └ <starlette.middleware.base._CachedRequest object at 0x0000021AA1EF6580>\n                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0F40CC0>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    raise app_exc\n          └ AttributeError(\"'State' object has no attribute 'history_service'\")\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0F41F80>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F427A0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021A9FAFC980>\n          └ <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0F41F80>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F427A0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021A9FAFC590>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021A9FAFC980>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0F41F80>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F427A0>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │                            │    │    └ <starlette.requests.Request object at 0x0000021AA1EF8950>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021A9FAFC590>\n          └ <function wrap_app_handling_exceptions at 0x0000021A9C90F2E0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0F43880>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F427A0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          └ <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0F43880>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F427A0>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>>\n          └ <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0F43880>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F427A0>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │     └ <function Route.handle at 0x0000021A9C93CA40>\n          └ APIRoute(path='/history', name='get_history', methods=['GET'])\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0F43880>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F427A0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <function request_response.<locals>.app at 0x0000021A9FA81800>\n          └ APIRoute(path='/history', name='get_history', methods=['GET'])\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0F43880>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F427A0>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │                            │    └ <starlette.requests.Request object at 0x0000021AA1EF8D50>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000021AA0F439C0>\n          └ <function wrap_app_handling_exceptions at 0x0000021A9C90F2E0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0F43B00>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0F427A0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          └ <function request_response.<locals>.app.<locals>.app at 0x0000021AA0F439C0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x0000021AA1EF8D50>\n                     └ <function get_request_handler.<locals>.app at 0x0000021A9FA816C0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x0000021A9C90EAC0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'request': <starlette.requests.Request object at 0x0000021AA1EF8D50>}\n                 │         └ <function get_history at 0x0000021A9FA4BD80>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[], dependencies=[], security_requ...\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py\", line 111, in get_history\n    history_service: HistoryService = request.app.state.history_service\n                                      │       └ <property object at 0x0000021A9C8893A0>\n                                      └ <starlette.requests.Request object at 0x0000021AA1EF8D50>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\datastructures.py\", line 671, in __getattr__\n    raise AttributeError(message.format(self.__class__.__name__, key))\n                         │       │      │    │         │         └ 'history_service'\n                         │       │      │    │         └ <member '__name__' of 'getset_descriptor' objects>\n                         │       │      │    └ <attribute '__class__' of 'object' objects>\n                         │       │      └ <starlette.datastructures.State object at 0x0000021A9FA55160>\n                         │       └ <method 'format' of 'str' objects>\n                         └ \"'{}' object has no attribute '{}'\"\n\nAttributeError: 'State' object has no attribute 'history_service'\n", "record": {"elapsed": {"repr": "0:00:05.998156", "seconds": 5.998156}, "exception": {"type": "AttributeError", "value": "'State' object has no attribute 'history_service'", "traceback": true}, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "generic_exception_handler", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 101, "message": "An unexpected error occurred", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 12732, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:24.964194-05:00", "timestamp": 1749991884.964194}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:06.502500", "seconds": 6.5025}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 12732, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:25.468538-05:00", "timestamp": 1749991885.468538}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:06.704657", "seconds": 6.704657}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 25820, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:25.670695-05:00", "timestamp": 1749991885.670695}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:06.705817", "seconds": 6.705817}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 25820, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:25.671855-05:00", "timestamp": 1749991885.671855}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:06.706632", "seconds": 6.706632}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 25820, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:25.672670-05:00", "timestamp": 1749991885.67267}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:06.712751", "seconds": 6.712751}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 27612, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:25.678789-05:00", "timestamp": 1749991885.678789}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:06.909386", "seconds": 6.909386}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 27612, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:25.875424-05:00", "timestamp": 1749991885.875424}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:06.910388", "seconds": 6.910388}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 27612, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:25.876426-05:00", "timestamp": 1749991885.876426}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:06.910745", "seconds": 6.910745}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 27612, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:25.876783-05:00", "timestamp": 1749991885.876783}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:06.911058", "seconds": 6.911058}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 27612, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:25.877096-05:00", "timestamp": 1749991885.877096}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:06.911367", "seconds": 6.911367}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 27612, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:25.877405-05:00", "timestamp": 1749991885.877405}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:06.911676", "seconds": 6.911676}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 27612, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:25.877714-05:00", "timestamp": 1749991885.877714}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:06.911973", "seconds": 6.911973}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 27612, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:25.878011-05:00", "timestamp": 1749991885.878011}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:06.912291", "seconds": 6.912291}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 27612, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:25.878329-05:00", "timestamp": 1749991885.878329}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:06.912604", "seconds": 6.912604}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 27612, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:25.878642-05:00", "timestamp": 1749991885.878642}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:06.912912", "seconds": 6.912912}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 27612, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:25.878950-05:00", "timestamp": 1749991885.87895}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:06.913261", "seconds": 6.913261}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 27612, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:25.879299-05:00", "timestamp": 1749991885.879299}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:06.913562", "seconds": 6.913562}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 27612, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:25.879600-05:00", "timestamp": 1749991885.8796}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:06.913861", "seconds": 6.913861}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 27612, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:25.879899-05:00", "timestamp": 1749991885.879899}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:06.914152", "seconds": 6.914152}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 27612, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:25.880190-05:00", "timestamp": 1749991885.88019}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:07.113955", "seconds": 7.113955}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 27612, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:26.079993-05:00", "timestamp": 1749991886.079993}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:07.114922", "seconds": 7.114922}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 27612, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:26.080960-05:00", "timestamp": 1749991886.08096}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:07.122197", "seconds": 7.122197}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 27612, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:26.088235-05:00", "timestamp": 1749991886.088235}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:07.318151", "seconds": 7.318151}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 25820, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:26.284189-05:00", "timestamp": 1749991886.284189}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:07.319187", "seconds": 7.319187}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 25820, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:26.285225-05:00", "timestamp": 1749991886.285225}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:07.319791", "seconds": 7.319791}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 25820, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:26.285829-05:00", "timestamp": 1749991886.285829}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:07.325716", "seconds": 7.325716}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 28024, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:26.291754-05:00", "timestamp": 1749991886.291754}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:07.520057", "seconds": 7.520057}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 28024, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:26.486095-05:00", "timestamp": 1749991886.486095}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:07.520863", "seconds": 7.520863}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 28024, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:26.486901-05:00", "timestamp": 1749991886.486901}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:07.521170", "seconds": 7.52117}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 28024, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:26.487208-05:00", "timestamp": 1749991886.487208}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:07.521537", "seconds": 7.521537}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 28024, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:26.487575-05:00", "timestamp": 1749991886.487575}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:07.521857", "seconds": 7.521857}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 28024, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:26.487895-05:00", "timestamp": 1749991886.487895}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:07.522133", "seconds": 7.522133}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 28024, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:26.488171-05:00", "timestamp": 1749991886.488171}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:07.522401", "seconds": 7.522401}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 28024, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:26.488439-05:00", "timestamp": 1749991886.488439}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:07.522670", "seconds": 7.52267}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 28024, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:26.488708-05:00", "timestamp": 1749991886.488708}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:07.522964", "seconds": 7.522964}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 28024, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:26.489002-05:00", "timestamp": 1749991886.489002}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:07.523256", "seconds": 7.523256}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 28024, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:26.489294-05:00", "timestamp": 1749991886.489294}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:07.523569", "seconds": 7.523569}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 28024, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:26.489607-05:00", "timestamp": 1749991886.489607}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:07.523956", "seconds": 7.523956}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 28024, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:26.489994-05:00", "timestamp": 1749991886.489994}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:07.524314", "seconds": 7.524314}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 28024, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:26.490352-05:00", "timestamp": 1749991886.490352}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:07.524601", "seconds": 7.524601}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 28024, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:26.490639-05:00", "timestamp": 1749991886.490639}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:07.719117", "seconds": 7.719117}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 28024, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:26.685155-05:00", "timestamp": 1749991886.685155}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:07.720094", "seconds": 7.720094}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 28024, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:26.686132-05:00", "timestamp": 1749991886.686132}}}
{"text": "An unexpected error occurred\n  + Exception Group Traceback (most recent call last):\n  |\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 177, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x0000021AA0EB6660>\n  |                │     └ <function create_task_group at 0x0000021A999DF6A0>\n  |                └ <module 'anyio' from 'C:\\\\Users\\\\dmjtx\\\\AppData\\\\Local\\\\pypoetry\\\\Cache\\\\virtualenvs\\\\ai-room-cleaner-UUzRmTiU-py3.13\\\\Lib\\\\s...\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000021AA0EC4E00>\n    |           │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000021AA0EC45E0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           │    └ <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>\n    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000021A9FA57770>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x0000021A9C82B060>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'history_service'\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x0000021AA0E92A80>\n    |     └ <contextlib._GeneratorContextManager object at 0x0000021AA0EB5B70>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0EC4FE0>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000021AA1CD74D0>\n    |                      │    └ <bound method RequestSizeLimitMiddleware.dispatch of <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>>\n    |                      └ <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py\", line 134, in dispatch\n    |     return await call_next(request)\n    |                  │         └ <starlette.middleware.base._CachedRequest object at 0x0000021AA1CD74D0>\n    |                  └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0EC4FE0>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ AttributeError(\"'State' object has no attribute 'history_service'\")\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0EC4D60>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC58A0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           │    └ <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>\n    |           └ <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x0000021A9C82B060>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'history_service'\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x0000021AA0E920C0>\n    |     └ <contextlib._GeneratorContextManager object at 0x0000021AA0EB5240>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0F42C00>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000021AA1CD7890>\n    |                      │    └ <bound method LoggingMiddleware.dispatch of <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>>\n    |                      └ <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\logging.py\", line 37, in dispatch\n    |     response = await call_next(request)\n    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x0000021AA1CD7890>\n    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0F42C00>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ AttributeError(\"'State' object has no attribute 'history_service'\")\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0EC4F40>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC5120>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021A9FAFC980>\n    |           └ <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0EC4F40>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC5120>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021A9FAFC590>\n    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021A9FAFC980>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0EC4F40>\n    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC5120>\n    |           │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           │                            │    │    └ <starlette.requests.Request object at 0x0000021AA14BAA50>\n    |           │                            │    └ <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>\n    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021A9FAFC590>\n    |           └ <function wrap_app_handling_exceptions at 0x0000021A9C90F2E0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0EC5440>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC5120>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           └ <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 714, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0EC5440>\n    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC5120>\n    |           │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>>\n    |           └ <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 734, in app\n    |     await route.handle(scope, receive, send)\n    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0EC5440>\n    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC5120>\n    |           │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           │     └ <function Route.handle at 0x0000021A9C93CA40>\n    |           └ APIRoute(path='/history', name='clear_history', methods=['DELETE'])\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0EC5440>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC5120>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           │    └ <function request_response.<locals>.app at 0x0000021A9FA819E0>\n    |           └ APIRoute(path='/history', name='clear_history', methods=['DELETE'])\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0EC5440>\n    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC5120>\n    |           │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           │                            │    └ <starlette.requests.Request object at 0x0000021AA0E924E0>\n    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000021AA0EC56C0>\n    |           └ <function wrap_app_handling_exceptions at 0x0000021A9C90F2E0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0EC5580>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC5120>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           └ <function request_response.<locals>.app.<locals>.app at 0x0000021AA0EC56C0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                      │ └ <starlette.requests.Request object at 0x0000021AA0E924E0>\n    |                      └ <function get_request_handler.<locals>.app at 0x0000021A9FA81940>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                          └ <function run_endpoint_function at 0x0000021A9C90EAC0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 212, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |                  │         │      └ {'api_key': 'test-key', 'request': <starlette.requests.Request object at 0x0000021AA0E924E0>}\n    |                  │         └ <function clear_history at 0x0000021A9FA80040>\n    |                  └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[], dependencies=[Dependant(path_p...\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py\", line 118, in clear_history\n    |     history_service: HistoryService = request.app.state.history_service\n    |                                       │       └ <property object at 0x0000021A9C8893A0>\n    |                                       └ <starlette.requests.Request object at 0x0000021AA0E924E0>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\datastructures.py\", line 671, in __getattr__\n    |     raise AttributeError(message.format(self.__class__.__name__, key))\n    |                          │       │      │    │         │         └ 'history_service'\n    |                          │       │      │    │         └ <member '__name__' of 'getset_descriptor' objects>\n    |                          │       │      │    └ <attribute '__class__' of 'object' objects>\n    |                          │       │      └ <starlette.datastructures.State object at 0x0000021A9FA55160>\n    |                          │       └ <method 'format' of 'str' objects>\n    |                          └ \"'{}' object has no attribute '{}'\"\n    |\n    | AttributeError: 'State' object has no attribute 'history_service'\n    +------------------------------------\n\n\nDuring handling of the above exception, another exception occurred:\n\n\nTraceback (most recent call last):\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 1012, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x0000021A98F111C0>\n    └ <Thread(Thread-9 (run_blocking_portal), started daemon 28024)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 1041, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x0000021A98F10F40>\n    └ <Thread(Thread-9 (run_blocking_portal), started daemon 28024)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 992, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-9 (run_blocking_portal), started daemon 28024)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-9 (run_blocking_portal), started daemon 28024)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x0000021AA0F41A80>\n    └ <Thread(Thread-9 (run_blocking_portal), started daemon 28024)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x0000021A99950360>\n    └ <module 'anyio._core._eventloop' from 'C:\\\\Users\\\\dmjtx\\\\AppData\\\\Local\\\\pypoetry\\\\Cache\\\\virtualenvs\\\\ai-room-cleaner-UUzRmT...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_core\\_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x0000021AA0F40B80>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x0000021AA0C18FE0>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x0000021AA0F41760>\n           │      └ <function Runner.run at 0x0000021A9B37D3A0>\n           └ <asyncio.runners.Runner object at 0x0000021AA0C62570>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000021A9B37ADE0>\n           │    └ <ProactorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x0000021AA0C62570>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x0000021A9B37AD40>\n    └ <ProactorEventLoop running=True closed=False debug=False>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x0000021A9B37CB80>\n    └ <ProactorEventLoop running=True closed=False debug=False>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x0000021A9B2D23E0>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\from_thread.py\", line 221, in _call_func\n    retval = await retval_or_awaitable\n                   └ <coroutine object FastAPI.__call__ at 0x0000021AA0F01E40>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\applications.py\", line 1054, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x0000021AA0EC4860>\n                           │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000021AA0EC45E0>\n                           └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\applications.py\", line 112, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x0000021AA0EC4860>\n          │    │                │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000021AA0EC45E0>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000021A9FA57770>\n          └ <fastapi.applications.FastAPI object at 0x0000021A9FA54AD0>\n> File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000021AA0EC4E00>\n          │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000021AA0EC45E0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │    └ <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>\n          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000021A9FA57770>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x0000021A9C82B060>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'history_service'\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x0000021AA0E92A80>\n    └ <contextlib._GeneratorContextManager object at 0x0000021AA0EB5B70>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0EC4FE0>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000021AA1CD74D0>\n                     │    └ <bound method RequestSizeLimitMiddleware.dispatch of <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>>\n                     └ <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py\", line 134, in dispatch\n    return await call_next(request)\n                 │         └ <starlette.middleware.base._CachedRequest object at 0x0000021AA1CD74D0>\n                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0EC4FE0>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    raise app_exc\n          └ AttributeError(\"'State' object has no attribute 'history_service'\")\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0EC4D60>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC58A0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │    └ <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>\n          └ <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x0000021A9C82B060>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'history_service'\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x0000021AA0E920C0>\n    └ <contextlib._GeneratorContextManager object at 0x0000021AA0EB5240>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0F42C00>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000021AA1CD7890>\n                     │    └ <bound method LoggingMiddleware.dispatch of <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>>\n                     └ <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\logging.py\", line 37, in dispatch\n    response = await call_next(request)\n                     │         └ <starlette.middleware.base._CachedRequest object at 0x0000021AA1CD7890>\n                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0F42C00>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    raise app_exc\n          └ AttributeError(\"'State' object has no attribute 'history_service'\")\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0EC4F40>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC5120>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021A9FAFC980>\n          └ <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0EC4F40>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC5120>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021A9FAFC590>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021A9FAFC980>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0EC4F40>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC5120>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │                            │    │    └ <starlette.requests.Request object at 0x0000021AA14BAA50>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021A9FAFC590>\n          └ <function wrap_app_handling_exceptions at 0x0000021A9C90F2E0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0EC5440>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC5120>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          └ <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0EC5440>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC5120>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>>\n          └ <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0EC5440>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC5120>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │     └ <function Route.handle at 0x0000021A9C93CA40>\n          └ APIRoute(path='/history', name='clear_history', methods=['DELETE'])\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0EC5440>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC5120>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │    └ <function request_response.<locals>.app at 0x0000021A9FA819E0>\n          └ APIRoute(path='/history', name='clear_history', methods=['DELETE'])\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0EC5440>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC5120>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │                            │    └ <starlette.requests.Request object at 0x0000021AA0E924E0>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000021AA0EC56C0>\n          └ <function wrap_app_handling_exceptions at 0x0000021A9C90F2E0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0EC5580>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC5120>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          └ <function request_response.<locals>.app.<locals>.app at 0x0000021AA0EC56C0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x0000021AA0E924E0>\n                     └ <function get_request_handler.<locals>.app at 0x0000021A9FA81940>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x0000021A9C90EAC0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'api_key': 'test-key', 'request': <starlette.requests.Request object at 0x0000021AA0E924E0>}\n                 │         └ <function clear_history at 0x0000021A9FA80040>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[], dependencies=[Dependant(path_p...\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py\", line 118, in clear_history\n    history_service: HistoryService = request.app.state.history_service\n                                      │       └ <property object at 0x0000021A9C8893A0>\n                                      └ <starlette.requests.Request object at 0x0000021AA0E924E0>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\datastructures.py\", line 671, in __getattr__\n    raise AttributeError(message.format(self.__class__.__name__, key))\n                         │       │      │    │         │         └ 'history_service'\n                         │       │      │    │         └ <member '__name__' of 'getset_descriptor' objects>\n                         │       │      │    └ <attribute '__class__' of 'object' objects>\n                         │       │      └ <starlette.datastructures.State object at 0x0000021A9FA55160>\n                         │       └ <method 'format' of 'str' objects>\n                         └ \"'{}' object has no attribute '{}'\"\n\nAttributeError: 'State' object has no attribute 'history_service'\n", "record": {"elapsed": {"repr": "0:00:07.726033", "seconds": 7.726033}, "exception": {"type": "AttributeError", "value": "'State' object has no attribute 'history_service'", "traceback": true}, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "generic_exception_handler", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 101, "message": "An unexpected error occurred", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 28024, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:26.692071-05:00", "timestamp": 1749991886.692071}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:08.235667", "seconds": 8.235667}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 28024, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:27.201705-05:00", "timestamp": 1749991887.201705}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:08.437158", "seconds": 8.437158}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 25820, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:27.403196-05:00", "timestamp": 1749991887.403196}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:08.438271", "seconds": 8.438271}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 25820, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:27.404309-05:00", "timestamp": 1749991887.404309}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:08.439131", "seconds": 8.439131}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 25820, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:27.405169-05:00", "timestamp": 1749991887.405169}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:08.445081", "seconds": 8.445081}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 5852, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:27.411119-05:00", "timestamp": 1749991887.411119}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:08.640344", "seconds": 8.640344}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 5852, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:27.606382-05:00", "timestamp": 1749991887.606382}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:08.641282", "seconds": 8.641282}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 5852, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:27.607320-05:00", "timestamp": 1749991887.60732}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:08.641670", "seconds": 8.64167}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 5852, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:27.607708-05:00", "timestamp": 1749991887.607708}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:08.642054", "seconds": 8.642054}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 5852, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:27.608092-05:00", "timestamp": 1749991887.608092}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:08.642378", "seconds": 8.642378}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 5852, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:27.608416-05:00", "timestamp": 1749991887.608416}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:08.642683", "seconds": 8.642683}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 5852, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:27.608721-05:00", "timestamp": 1749991887.608721}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:08.642973", "seconds": 8.642973}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 5852, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:27.609011-05:00", "timestamp": 1749991887.609011}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:08.643257", "seconds": 8.643257}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 5852, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:27.609295-05:00", "timestamp": 1749991887.609295}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:08.643541", "seconds": 8.643541}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 5852, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:27.609579-05:00", "timestamp": 1749991887.609579}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:08.643848", "seconds": 8.643848}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 5852, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:27.609886-05:00", "timestamp": 1749991887.609886}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:08.644205", "seconds": 8.644205}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 5852, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:27.610243-05:00", "timestamp": 1749991887.610243}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:08.644503", "seconds": 8.644503}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 5852, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:27.610541-05:00", "timestamp": 1749991887.610541}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:08.644826", "seconds": 8.644826}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 5852, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:27.610864-05:00", "timestamp": 1749991887.610864}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:08.645106", "seconds": 8.645106}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 5852, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:27.611144-05:00", "timestamp": 1749991887.611144}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:08.842863", "seconds": 8.842863}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 5852, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:27.808901-05:00", "timestamp": 1749991887.808901}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:08.843484", "seconds": 8.843484}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 5852, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:27.809522-05:00", "timestamp": 1749991887.809522}}}
{"text": "An unexpected error occurred\n  + Exception Group Traceback (most recent call last):\n  |\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 177, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x0000021AA0F73B60>\n  |                │     └ <function create_task_group at 0x0000021A999DF6A0>\n  |                └ <module 'anyio' from 'C:\\\\Users\\\\dmjtx\\\\AppData\\\\Local\\\\pypoetry\\\\Cache\\\\virtualenvs\\\\ai-room-cleaner-UUzRmTiU-py3.13\\\\Lib\\\\s...\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000021AA0EC5DA0>\n    |           │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000021AA0EC59E0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>\n    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000021A9FA57770>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x0000021A9C82B060>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'history_service'\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x0000021AA1DCE8E0>\n    |     └ <contextlib._GeneratorContextManager object at 0x0000021AA0F73EE0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0EC6660>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000021AA195D9B0>\n    |                      │    └ <bound method RequestSizeLimitMiddleware.dispatch of <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>>\n    |                      └ <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py\", line 134, in dispatch\n    |     return await call_next(request)\n    |                  │         └ <starlette.middleware.base._CachedRequest object at 0x0000021AA195D9B0>\n    |                  └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0EC6660>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ AttributeError(\"'State' object has no attribute 'history_service'\")\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0EC6840>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC67A0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>\n    |           └ <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x0000021A9C82B060>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'history_service'\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x0000021AA1DCD700>\n    |     └ <contextlib._GeneratorContextManager object at 0x0000021AA0F73E00>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0EC6980>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000021AA195E0B0>\n    |                      │    └ <bound method LoggingMiddleware.dispatch of <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>>\n    |                      └ <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\logging.py\", line 37, in dispatch\n    |     response = await call_next(request)\n    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x0000021AA195E0B0>\n    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0EC6980>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ AttributeError(\"'State' object has no attribute 'history_service'\")\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0EC6B60>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC6AC0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021A9FAFC980>\n    |           └ <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0EC6B60>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC6AC0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021A9FAFC590>\n    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021A9FAFC980>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0EC6B60>\n    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC6AC0>\n    |           │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │                            │    │    └ <starlette.requests.Request object at 0x0000021AA0E98E90>\n    |           │                            │    └ <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>\n    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021A9FAFC590>\n    |           └ <function wrap_app_handling_exceptions at 0x0000021A9C90F2E0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0EC6E80>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC6AC0>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           └ <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 714, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0EC6E80>\n    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC6AC0>\n    |           │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>>\n    |           └ <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 734, in app\n    |     await route.handle(scope, receive, send)\n    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0EC6E80>\n    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC6AC0>\n    |           │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │     └ <function Route.handle at 0x0000021A9C93CA40>\n    |           └ APIRoute(path='/history', name='get_history', methods=['GET'])\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0EC6E80>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC6AC0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <function request_response.<locals>.app at 0x0000021A9FA81800>\n    |           └ APIRoute(path='/history', name='get_history', methods=['GET'])\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0EC6E80>\n    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC6AC0>\n    |           │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │                            │    └ <starlette.requests.Request object at 0x0000021AA1C631D0>\n    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000021AA0EC7100>\n    |           └ <function wrap_app_handling_exceptions at 0x0000021A9C90F2E0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0EC6F20>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC6AC0>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           └ <function request_response.<locals>.app.<locals>.app at 0x0000021AA0EC7100>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                      │ └ <starlette.requests.Request object at 0x0000021AA1C631D0>\n    |                      └ <function get_request_handler.<locals>.app at 0x0000021A9FA816C0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                          └ <function run_endpoint_function at 0x0000021A9C90EAC0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 212, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |                  │         │      └ {'request': <starlette.requests.Request object at 0x0000021AA1C631D0>}\n    |                  │         └ <function get_history at 0x0000021A9FA4BD80>\n    |                  └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[], dependencies=[], security_requ...\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py\", line 111, in get_history\n    |     history_service: HistoryService = request.app.state.history_service\n    |                                       │       └ <property object at 0x0000021A9C8893A0>\n    |                                       └ <starlette.requests.Request object at 0x0000021AA1C631D0>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\datastructures.py\", line 671, in __getattr__\n    |     raise AttributeError(message.format(self.__class__.__name__, key))\n    |                          │       │      │    │         │         └ 'history_service'\n    |                          │       │      │    │         └ <member '__name__' of 'getset_descriptor' objects>\n    |                          │       │      │    └ <attribute '__class__' of 'object' objects>\n    |                          │       │      └ <starlette.datastructures.State object at 0x0000021A9FA55160>\n    |                          │       └ <method 'format' of 'str' objects>\n    |                          └ \"'{}' object has no attribute '{}'\"\n    |\n    | AttributeError: 'State' object has no attribute 'history_service'\n    +------------------------------------\n\n\nDuring handling of the above exception, another exception occurred:\n\n\nTraceback (most recent call last):\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 1012, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x0000021A98F111C0>\n    └ <Thread(Thread-10 (run_blocking_portal), started daemon 5852)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 1041, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x0000021A98F10F40>\n    └ <Thread(Thread-10 (run_blocking_portal), started daemon 5852)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 992, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-10 (run_blocking_portal), started daemon 5852)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-10 (run_blocking_portal), started daemon 5852)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x0000021AA0F43E20>\n    └ <Thread(Thread-10 (run_blocking_portal), started daemon 5852)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x0000021A99950360>\n    └ <module 'anyio._core._eventloop' from 'C:\\\\Users\\\\dmjtx\\\\AppData\\\\Local\\\\pypoetry\\\\Cache\\\\virtualenvs\\\\ai-room-cleaner-UUzRmT...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_core\\_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x0000021AA0F43EC0>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x0000021AA0C18FE0>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x0000021AA0F434C0>\n           │      └ <function Runner.run at 0x0000021A9B37D3A0>\n           └ <asyncio.runners.Runner object at 0x0000021AA1495150>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000021A9B37ADE0>\n           │    └ <ProactorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x0000021AA1495150>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x0000021A9B37AD40>\n    └ <ProactorEventLoop running=True closed=False debug=False>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x0000021A9B37CB80>\n    └ <ProactorEventLoop running=True closed=False debug=False>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x0000021A9B2D23E0>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\from_thread.py\", line 221, in _call_func\n    retval = await retval_or_awaitable\n                   └ <coroutine object FastAPI.__call__ at 0x0000021AA1CD5A80>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\applications.py\", line 1054, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x0000021AA0EC5E40>\n                           │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000021AA0EC59E0>\n                           └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\applications.py\", line 112, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x0000021AA0EC5E40>\n          │    │                │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000021AA0EC59E0>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000021A9FA57770>\n          └ <fastapi.applications.FastAPI object at 0x0000021A9FA54AD0>\n> File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000021AA0EC5DA0>\n          │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000021AA0EC59E0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>\n          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000021A9FA57770>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x0000021A9C82B060>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'history_service'\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x0000021AA1DCE8E0>\n    └ <contextlib._GeneratorContextManager object at 0x0000021AA0F73EE0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0EC6660>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000021AA195D9B0>\n                     │    └ <bound method RequestSizeLimitMiddleware.dispatch of <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>>\n                     └ <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py\", line 134, in dispatch\n    return await call_next(request)\n                 │         └ <starlette.middleware.base._CachedRequest object at 0x0000021AA195D9B0>\n                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0EC6660>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    raise app_exc\n          └ AttributeError(\"'State' object has no attribute 'history_service'\")\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0EC6840>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC67A0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>\n          └ <backend.main.RequestSizeLimitMiddleware object at 0x0000021A9FA570E0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x0000021A9C82B060>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'history_service'\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x0000021AA1DCD700>\n    └ <contextlib._GeneratorContextManager object at 0x0000021AA0F73E00>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0EC6980>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000021AA195E0B0>\n                     │    └ <bound method LoggingMiddleware.dispatch of <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>>\n                     └ <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\logging.py\", line 37, in dispatch\n    response = await call_next(request)\n                     │         └ <starlette.middleware.base._CachedRequest object at 0x0000021AA195E0B0>\n                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000021AA0EC6980>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    raise app_exc\n          └ AttributeError(\"'State' object has no attribute 'history_service'\")\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0EC6B60>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC6AC0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021A9FAFC980>\n          └ <backend.core.logging.LoggingMiddleware object at 0x0000021A9FA574D0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0EC6B60>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC6AC0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021A9FAFC590>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000021A9FAFC980>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000021AA0EC6B60>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC6AC0>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │                            │    │    └ <starlette.requests.Request object at 0x0000021AA0E98E90>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000021A9FAFC590>\n          └ <function wrap_app_handling_exceptions at 0x0000021A9C90F2E0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0EC6E80>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC6AC0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          └ <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0EC6E80>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC6AC0>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>>\n          └ <fastapi.routing.APIRouter object at 0x0000021A9FA787D0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0EC6E80>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC6AC0>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │     └ <function Route.handle at 0x0000021A9C93CA40>\n          └ APIRoute(path='/history', name='get_history', methods=['GET'])\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0EC6E80>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC6AC0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <function request_response.<locals>.app at 0x0000021A9FA81800>\n          └ APIRoute(path='/history', name='get_history', methods=['GET'])\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0EC6E80>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC6AC0>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │                            │    └ <starlette.requests.Request object at 0x0000021AA1C631D0>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000021AA0EC7100>\n          └ <function wrap_app_handling_exceptions at 0x0000021A9C90F2E0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000021AA0EC6F20>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000021AA0EC6AC0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          └ <function request_response.<locals>.app.<locals>.app at 0x0000021AA0EC7100>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x0000021AA1C631D0>\n                     └ <function get_request_handler.<locals>.app at 0x0000021A9FA816C0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x0000021A9C90EAC0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'request': <starlette.requests.Request object at 0x0000021AA1C631D0>}\n                 │         └ <function get_history at 0x0000021A9FA4BD80>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[], dependencies=[], security_requ...\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py\", line 111, in get_history\n    history_service: HistoryService = request.app.state.history_service\n                                      │       └ <property object at 0x0000021A9C8893A0>\n                                      └ <starlette.requests.Request object at 0x0000021AA1C631D0>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\datastructures.py\", line 671, in __getattr__\n    raise AttributeError(message.format(self.__class__.__name__, key))\n                         │       │      │    │         │         └ 'history_service'\n                         │       │      │    │         └ <member '__name__' of 'getset_descriptor' objects>\n                         │       │      │    └ <attribute '__class__' of 'object' objects>\n                         │       │      └ <starlette.datastructures.State object at 0x0000021A9FA55160>\n                         │       └ <method 'format' of 'str' objects>\n                         └ \"'{}' object has no attribute '{}'\"\n\nAttributeError: 'State' object has no attribute 'history_service'\n", "record": {"elapsed": {"repr": "0:00:08.847864", "seconds": 8.847864}, "exception": {"type": "AttributeError", "value": "'State' object has no attribute 'history_service'", "traceback": true}, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "generic_exception_handler", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 101, "message": "An unexpected error occurred", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 5852, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:27.813902-05:00", "timestamp": 1749991887.813902}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:09.355496", "seconds": 9.355496}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 19400, "name": "MainProcess"}, "thread": {"id": 5852, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:28.321534-05:00", "timestamp": 1749991888.321534}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.531810", "seconds": 2.53181}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 11892, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:52.755036-05:00", "timestamp": 1749991912.755036}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:02.765006", "seconds": 2.765006}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 11892, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:52.988232-05:00", "timestamp": 1749991912.988232}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.766077", "seconds": 2.766077}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 11892, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:52.989303-05:00", "timestamp": 1749991912.989303}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.766452", "seconds": 2.766452}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 11892, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:52.989678-05:00", "timestamp": 1749991912.989678}}}
{"text": "Initializing application state.\n", "record": {"elapsed": {"repr": "0:00:02.766835", "seconds": 2.766835}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 51, "message": "Initializing application state.", "module": "state", "name": "backend.core.state", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 11892, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:52.990061-05:00", "timestamp": 1749991912.990061}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.767176", "seconds": 2.767176}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 11892, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:52.990402-05:00", "timestamp": 1749991912.990402}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.767483", "seconds": 2.767483}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 11892, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:52.990709-05:00", "timestamp": 1749991912.990709}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.767813", "seconds": 2.767813}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 11892, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:52.991039-05:00", "timestamp": 1749991912.991039}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.768139", "seconds": 2.768139}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 11892, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:52.991365-05:00", "timestamp": 1749991912.991365}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.768442", "seconds": 2.768442}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 11892, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:52.991668-05:00", "timestamp": 1749991912.991668}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.768727", "seconds": 2.768727}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 11892, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:52.991953-05:00", "timestamp": 1749991912.991953}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.769069", "seconds": 2.769069}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 11892, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:52.992295-05:00", "timestamp": 1749991912.992295}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.769413", "seconds": 2.769413}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 11892, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:52.992639-05:00", "timestamp": 1749991912.992639}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.769727", "seconds": 2.769727}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 11892, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:52.992953-05:00", "timestamp": 1749991912.992953}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.770025", "seconds": 2.770025}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 11892, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:52.993251-05:00", "timestamp": 1749991912.993251}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.973913", "seconds": 2.973913}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 11892, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:53.197139-05:00", "timestamp": 1749991913.197139}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.974931", "seconds": 2.974931}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 11892, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:53.198157-05:00", "timestamp": 1749991913.198157}}}
{"text": "Received request for secure room analysis\n", "record": {"elapsed": {"repr": "0:00:02.985488", "seconds": 2.985488}, "exception": null, "extra": {"request_id": "90ed2ea9-4bfa-4fca-808c-e56febad86f9"}, "file": {"name": "router.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py"}, "function": "analyze_room_secure", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 84, "message": "Received request for secure room analysis", "module": "router", "name": "backend.api.router", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 11892, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:53.208714-05:00", "timestamp": 1749991913.208714}}}
{"text": "An unexpected error occurred\n  + Exception Group Traceback (most recent call last):\n  |\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 177, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x0000011E6A340190>\n  |                │     └ <function create_task_group at 0x0000011E630BF6A0>\n  |                └ <module 'anyio' from 'C:\\\\Users\\\\dmjtx\\\\AppData\\\\Local\\\\pypoetry\\\\Cache\\\\virtualenvs\\\\ai-room-cleaner-UUzRmTiU-py3.13\\\\Lib\\\\s...\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000011E6A324B80>\n    |           │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000011E6A324E00>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>\n    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000011E6A310980>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x0000011E65F5EE80>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'ai_service'\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x0000011E6A2E4450>\n    |     └ <contextlib._GeneratorContextManager object at 0x0000011E6A2FA660>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A3249A0>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000011E65ADE7B0>\n    |                      │    └ <bound method RequestSizeLimitMiddleware.dispatch of <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>>\n    |                      └ <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py\", line 134, in dispatch\n    |     return await call_next(request)\n    |                  │         └ <starlette.middleware.base._CachedRequest object at 0x0000011E65ADE7B0>\n    |                  └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A3249A0>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ AttributeError(\"'State' object has no attribute 'ai_service'\")\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A324720>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A3247C0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>\n    |           └ <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x0000011E65F5EE80>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'ai_service'\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x0000011E6A2E5700>\n    |     └ <contextlib._GeneratorContextManager object at 0x0000011E6A2FA5F0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A304360>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000011E6A3402D0>\n    |                      │    └ <bound method LoggingMiddleware.dispatch of <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>>\n    |                      └ <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\logging.py\", line 37, in dispatch\n    |     response = await call_next(request)\n    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x0000011E6A3402D0>\n    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A304360>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ AttributeError(\"'State' object has no attribute 'ai_service'\")\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A324C20>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A3244A0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000011E6A310590>\n    |           └ <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A324C20>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A3244A0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000011E6A310440>\n    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x0000011E6A310590>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A324C20>\n    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A3244A0>\n    |           │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │                            │    │    └ <starlette.requests.Request object at 0x0000011E6A3117F0>\n    |           │                            │    └ <fastapi.routing.APIRouter object at 0x0000011E69180690>\n    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000011E6A310440>\n    |           └ <function wrap_app_handling_exceptions at 0x0000011E6602F100>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A325300>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A3244A0>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           └ <fastapi.routing.APIRouter object at 0x0000011E69180690>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 714, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A325300>\n    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A3244A0>\n    |           │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000011E69180690>>\n    |           └ <fastapi.routing.APIRouter object at 0x0000011E69180690>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 734, in app\n    |     await route.handle(scope, receive, send)\n    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A325300>\n    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A3244A0>\n    |           │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │     └ <function Route.handle at 0x0000011E67220860>\n    |           └ APIRoute(path='/v1/analyze-room-secure', name='analyze_room_secure', methods=['POST'])\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A325300>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A3244A0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <function request_response.<locals>.app at 0x0000011E69189800>\n    |           └ APIRoute(path='/v1/analyze-room-secure', name='analyze_room_secure', methods=['POST'])\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A325300>\n    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A3244A0>\n    |           │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │                            │    └ <starlette.requests.Request object at 0x0000011E6A340690>\n    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000011E6A325440>\n    |           └ <function wrap_app_handling_exceptions at 0x0000011E6602F100>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A325580>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A3244A0>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           └ <function request_response.<locals>.app.<locals>.app at 0x0000011E6A325440>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                      │ └ <starlette.requests.Request object at 0x0000011E6A340690>\n    |                      └ <function get_request_handler.<locals>.app at 0x0000011E69189760>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                          └ <function run_endpoint_function at 0x0000011E6602E8E0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 212, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |                  │         │      └ {'api_key': 'test-key', 'file': UploadFile(filename='test.jpg', size=15, headers=Headers({'content-disposition': 'form-data; ...\n    |                  │         └ <function analyze_room_secure at 0x0000011E6915BBA0>\n    |                  └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=File(Pydant...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\slowapi\\extension.py\", line 734, in async_wrapper\n    |     response = await func(*args, **kwargs)  # type: ignore\n    |                      │     │       └ {'api_key': 'test-key', 'file': UploadFile(filename='test.jpg', size=15, headers=Headers({'content-disposition': 'form-data; ...\n    |                      │     └ ()\n    |                      └ <function analyze_room_secure at 0x0000011E6915B9C0>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py\", line 85, in analyze_room_secure\n    |     ai_service: AIService = request.app.state.ai_service\n    |                             │       └ <property object at 0x0000011E65FA93A0>\n    |                             └ <starlette.requests.Request object at 0x0000011E6A340690>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\datastructures.py\", line 671, in __getattr__\n    |     raise AttributeError(message.format(self.__class__.__name__, key))\n    |                          │       │      │    │         │         └ 'ai_service'\n    |                          │       │      │    │         └ <member '__name__' of 'getset_descriptor' objects>\n    |                          │       │      │    └ <attribute '__class__' of 'object' objects>\n    |                          │       │      └ <starlette.datastructures.State object at 0x0000011E69175160>\n    |                          │       └ <method 'format' of 'str' objects>\n    |                          └ \"'{}' object has no attribute '{}'\"\n    |\n    | AttributeError: 'State' object has no attribute 'ai_service'\n    +------------------------------------\n\n\nDuring handling of the above exception, another exception occurred:\n\n\nTraceback (most recent call last):\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 1012, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x0000011E625E11C0>\n    └ <Thread(Thread-2 (run_blocking_portal), started daemon 11892)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 1041, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x0000011E625E0F40>\n    └ <Thread(Thread-2 (run_blocking_portal), started daemon 11892)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 992, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-2 (run_blocking_portal), started daemon 11892)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-2 (run_blocking_portal), started daemon 11892)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x0000011E6921FA60>\n    └ <Thread(Thread-2 (run_blocking_portal), started daemon 11892)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x0000011E63034360>\n    └ <module 'anyio._core._eventloop' from 'C:\\\\Users\\\\dmjtx\\\\AppData\\\\Local\\\\pypoetry\\\\Cache\\\\virtualenvs\\\\ai-room-cleaner-UUzRmT...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_core\\_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x0000011E6921F9C0>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x0000011E6A308F40>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x0000011E6915AE80>\n           │      └ <function Runner.run at 0x0000011E64A6D3A0>\n           └ <asyncio.runners.Runner object at 0x0000011E691F9160>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000011E64A66DE0>\n           │    └ <ProactorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x0000011E691F9160>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x0000011E64A66D40>\n    └ <ProactorEventLoop running=True closed=False debug=False>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x0000011E64A6CB80>\n    └ <ProactorEventLoop running=True closed=False debug=False>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x0000011E649C23E0>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\from_thread.py\", line 221, in _call_func\n    retval = await retval_or_awaitable\n                   └ <coroutine object FastAPI.__call__ at 0x0000011E6A2E24D0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\applications.py\", line 1054, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x0000011E6A324D60>\n                           │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000011E6A324E00>\n                           └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\applications.py\", line 112, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x0000011E6A324D60>\n          │    │                │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000011E6A324E00>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000011E6A310980>\n          └ <fastapi.applications.FastAPI object at 0x0000011E69174AD0>\n> File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000011E6A324B80>\n          │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000011E6A324E00>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>\n          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000011E6A310980>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x0000011E65F5EE80>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'ai_service'\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x0000011E6A2E4450>\n    └ <contextlib._GeneratorContextManager object at 0x0000011E6A2FA660>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A3249A0>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000011E65ADE7B0>\n                     │    └ <bound method RequestSizeLimitMiddleware.dispatch of <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>>\n                     └ <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py\", line 134, in dispatch\n    return await call_next(request)\n                 │         └ <starlette.middleware.base._CachedRequest object at 0x0000011E65ADE7B0>\n                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A3249A0>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    raise app_exc\n          └ AttributeError(\"'State' object has no attribute 'ai_service'\")\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A324720>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A3247C0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>\n          └ <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x0000011E65F5EE80>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'ai_service'\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x0000011E6A2E5700>\n    └ <contextlib._GeneratorContextManager object at 0x0000011E6A2FA5F0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A304360>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000011E6A3402D0>\n                     │    └ <bound method LoggingMiddleware.dispatch of <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>>\n                     └ <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\logging.py\", line 37, in dispatch\n    response = await call_next(request)\n                     │         └ <starlette.middleware.base._CachedRequest object at 0x0000011E6A3402D0>\n                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A304360>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    raise app_exc\n          └ AttributeError(\"'State' object has no attribute 'ai_service'\")\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A324C20>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A3244A0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000011E6A310590>\n          └ <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A324C20>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A3244A0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000011E6A310440>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000011E6A310590>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A324C20>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A3244A0>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │                            │    │    └ <starlette.requests.Request object at 0x0000011E6A3117F0>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x0000011E69180690>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000011E6A310440>\n          └ <function wrap_app_handling_exceptions at 0x0000011E6602F100>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A325300>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A3244A0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          └ <fastapi.routing.APIRouter object at 0x0000011E69180690>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A325300>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A3244A0>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000011E69180690>>\n          └ <fastapi.routing.APIRouter object at 0x0000011E69180690>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A325300>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A3244A0>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │     └ <function Route.handle at 0x0000011E67220860>\n          └ APIRoute(path='/v1/analyze-room-secure', name='analyze_room_secure', methods=['POST'])\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A325300>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A3244A0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <function request_response.<locals>.app at 0x0000011E69189800>\n          └ APIRoute(path='/v1/analyze-room-secure', name='analyze_room_secure', methods=['POST'])\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A325300>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A3244A0>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │                            │    └ <starlette.requests.Request object at 0x0000011E6A340690>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000011E6A325440>\n          └ <function wrap_app_handling_exceptions at 0x0000011E6602F100>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A325580>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A3244A0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          └ <function request_response.<locals>.app.<locals>.app at 0x0000011E6A325440>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x0000011E6A340690>\n                     └ <function get_request_handler.<locals>.app at 0x0000011E69189760>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x0000011E6602E8E0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'api_key': 'test-key', 'file': UploadFile(filename='test.jpg', size=15, headers=Headers({'content-disposition': 'form-data; ...\n                 │         └ <function analyze_room_secure at 0x0000011E6915BBA0>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=File(Pydant...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\slowapi\\extension.py\", line 734, in async_wrapper\n    response = await func(*args, **kwargs)  # type: ignore\n                     │     │       └ {'api_key': 'test-key', 'file': UploadFile(filename='test.jpg', size=15, headers=Headers({'content-disposition': 'form-data; ...\n                     │     └ ()\n                     └ <function analyze_room_secure at 0x0000011E6915B9C0>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py\", line 85, in analyze_room_secure\n    ai_service: AIService = request.app.state.ai_service\n                            │       └ <property object at 0x0000011E65FA93A0>\n                            └ <starlette.requests.Request object at 0x0000011E6A340690>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\datastructures.py\", line 671, in __getattr__\n    raise AttributeError(message.format(self.__class__.__name__, key))\n                         │       │      │    │         │         └ 'ai_service'\n                         │       │      │    │         └ <member '__name__' of 'getset_descriptor' objects>\n                         │       │      │    └ <attribute '__class__' of 'object' objects>\n                         │       │      └ <starlette.datastructures.State object at 0x0000011E69175160>\n                         │       └ <method 'format' of 'str' objects>\n                         └ \"'{}' object has no attribute '{}'\"\n\nAttributeError: 'State' object has no attribute 'ai_service'\n", "record": {"elapsed": {"repr": "0:00:02.986433", "seconds": 2.986433}, "exception": {"type": "AttributeError", "value": "'State' object has no attribute 'ai_service'", "traceback": true}, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "generic_exception_handler", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 101, "message": "An unexpected error occurred", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 11892, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:53.209659-05:00", "timestamp": 1749991913.209659}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:03.652261", "seconds": 3.652261}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 11892, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:53.875487-05:00", "timestamp": 1749991913.875487}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:03.858953", "seconds": 3.858953}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 24864, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:54.082179-05:00", "timestamp": 1749991914.082179}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.859981", "seconds": 3.859981}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 24864, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:54.083207-05:00", "timestamp": 1749991914.083207}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.860608", "seconds": 3.860608}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 24864, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:54.083834-05:00", "timestamp": 1749991914.083834}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:03.866309", "seconds": 3.866309}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 23292, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:54.089535-05:00", "timestamp": 1749991914.089535}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:04.064434", "seconds": 4.064434}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 23292, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:54.287660-05:00", "timestamp": 1749991914.28766}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:04.065444", "seconds": 4.065444}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 23292, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:54.288670-05:00", "timestamp": 1749991914.28867}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:04.065836", "seconds": 4.065836}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 23292, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:54.289062-05:00", "timestamp": 1749991914.289062}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:04.066245", "seconds": 4.066245}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 23292, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:54.289471-05:00", "timestamp": 1749991914.289471}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:04.066572", "seconds": 4.066572}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 23292, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:54.289798-05:00", "timestamp": 1749991914.289798}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:04.066871", "seconds": 4.066871}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 23292, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:54.290097-05:00", "timestamp": 1749991914.290097}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:04.067176", "seconds": 4.067176}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 23292, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:54.290402-05:00", "timestamp": 1749991914.290402}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:04.067471", "seconds": 4.067471}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 23292, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:54.290697-05:00", "timestamp": 1749991914.290697}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:04.067769", "seconds": 4.067769}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 23292, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:54.290995-05:00", "timestamp": 1749991914.290995}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:04.068107", "seconds": 4.068107}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 23292, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:54.291333-05:00", "timestamp": 1749991914.291333}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:04.068465", "seconds": 4.068465}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 23292, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:54.291691-05:00", "timestamp": 1749991914.291691}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:04.068774", "seconds": 4.068774}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 23292, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:54.292000-05:00", "timestamp": 1749991914.292}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:04.069116", "seconds": 4.069116}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 23292, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:54.292342-05:00", "timestamp": 1749991914.292342}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:04.069458", "seconds": 4.069458}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 23292, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:54.292684-05:00", "timestamp": 1749991914.292684}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:04.269643", "seconds": 4.269643}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 23292, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:54.492869-05:00", "timestamp": 1749991914.492869}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:04.270247", "seconds": 4.270247}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 23292, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:54.493473-05:00", "timestamp": 1749991914.493473}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:04.280129", "seconds": 4.280129}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 23292, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:54.503355-05:00", "timestamp": 1749991914.503355}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:04.479132", "seconds": 4.479132}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 24864, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:54.702358-05:00", "timestamp": 1749991914.702358}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:04.479765", "seconds": 4.479765}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 24864, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:54.702991-05:00", "timestamp": 1749991914.702991}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:04.480273", "seconds": 4.480273}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 24864, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:54.703499-05:00", "timestamp": 1749991914.703499}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:04.485566", "seconds": 4.485566}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 6708, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:54.708792-05:00", "timestamp": 1749991914.708792}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:04.684068", "seconds": 4.684068}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 6708, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:54.907294-05:00", "timestamp": 1749991914.907294}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:04.685053", "seconds": 4.685053}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 6708, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:54.908279-05:00", "timestamp": 1749991914.908279}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:04.685449", "seconds": 4.685449}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 6708, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:54.908675-05:00", "timestamp": 1749991914.908675}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:04.685809", "seconds": 4.685809}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 6708, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:54.909035-05:00", "timestamp": 1749991914.909035}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:04.686215", "seconds": 4.686215}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 6708, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:54.909441-05:00", "timestamp": 1749991914.909441}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:04.686594", "seconds": 4.686594}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 6708, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:54.909820-05:00", "timestamp": 1749991914.90982}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:04.686899", "seconds": 4.686899}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 6708, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:54.910125-05:00", "timestamp": 1749991914.910125}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:04.687200", "seconds": 4.6872}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 6708, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:54.910426-05:00", "timestamp": 1749991914.910426}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:04.687491", "seconds": 4.687491}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 6708, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:54.910717-05:00", "timestamp": 1749991914.910717}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:04.687778", "seconds": 4.687778}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 6708, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:54.911004-05:00", "timestamp": 1749991914.911004}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:04.688115", "seconds": 4.688115}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 6708, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:54.911341-05:00", "timestamp": 1749991914.911341}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:04.688421", "seconds": 4.688421}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 6708, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:54.911647-05:00", "timestamp": 1749991914.911647}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:04.688725", "seconds": 4.688725}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 6708, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:54.911951-05:00", "timestamp": 1749991914.911951}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:04.689021", "seconds": 4.689021}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 6708, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:54.912247-05:00", "timestamp": 1749991914.912247}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:04.889543", "seconds": 4.889543}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 6708, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:55.112769-05:00", "timestamp": 1749991915.112769}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:04.890507", "seconds": 4.890507}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 6708, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:55.113733-05:00", "timestamp": 1749991915.113733}}}
{"text": "Received request for secure room analysis\n", "record": {"elapsed": {"repr": "0:00:04.898765", "seconds": 4.898765}, "exception": null, "extra": {"request_id": "0ccb53e1-1e31-4fa1-b958-13ab22a6fbc3"}, "file": {"name": "router.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py"}, "function": "analyze_room_secure", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 84, "message": "Received request for secure room analysis", "module": "router", "name": "backend.api.router", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 6708, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:55.121991-05:00", "timestamp": 1749991915.121991}}}
{"text": "An unexpected error occurred\n  + Exception Group Traceback (most recent call last):\n  |\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 177, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x0000011E6AA77D40>\n  |                │     └ <function create_task_group at 0x0000011E630BF6A0>\n  |                └ <module 'anyio' from 'C:\\\\Users\\\\dmjtx\\\\AppData\\\\Local\\\\pypoetry\\\\Cache\\\\virtualenvs\\\\ai-room-cleaner-UUzRmTiU-py3.13\\\\Lib\\\\s...\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000011E6A60A020>\n    |           │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000011E6A609D00>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>\n    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000011E6A310980>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x0000011E65F5EE80>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'ai_service'\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x0000011E6AA775E0>\n    |     └ <contextlib._GeneratorContextManager object at 0x0000011E6A640520>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A609EE0>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000011E6919B490>\n    |                      │    └ <bound method RequestSizeLimitMiddleware.dispatch of <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>>\n    |                      └ <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py\", line 134, in dispatch\n    |     return await call_next(request)\n    |                  │         └ <starlette.middleware.base._CachedRequest object at 0x0000011E6919B490>\n    |                  └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A609EE0>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ AttributeError(\"'State' object has no attribute 'ai_service'\")\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A60AA20>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A609F80>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>\n    |           └ <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x0000011E65F5EE80>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'ai_service'\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x0000011E6AA76260>\n    |     └ <contextlib._GeneratorContextManager object at 0x0000011E6B5379A0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A2BB560>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000011E6B53CEF0>\n    |                      │    └ <bound method LoggingMiddleware.dispatch of <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>>\n    |                      └ <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\logging.py\", line 37, in dispatch\n    |     response = await call_next(request)\n    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x0000011E6B53CEF0>\n    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A2BB560>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ AttributeError(\"'State' object has no attribute 'ai_service'\")\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A5C9DA0>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5CA340>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000011E6A310590>\n    |           └ <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A5C9DA0>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5CA340>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000011E6A310440>\n    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x0000011E6A310590>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A5C9DA0>\n    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5CA340>\n    |           │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │                            │    │    └ <starlette.requests.Request object at 0x0000011E6A2EB410>\n    |           │                            │    └ <fastapi.routing.APIRouter object at 0x0000011E69180690>\n    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000011E6A310440>\n    |           └ <function wrap_app_handling_exceptions at 0x0000011E6602F100>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A60A660>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5CA340>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           └ <fastapi.routing.APIRouter object at 0x0000011E69180690>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 714, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A60A660>\n    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5CA340>\n    |           │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000011E69180690>>\n    |           └ <fastapi.routing.APIRouter object at 0x0000011E69180690>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 734, in app\n    |     await route.handle(scope, receive, send)\n    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A60A660>\n    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5CA340>\n    |           │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │     └ <function Route.handle at 0x0000011E67220860>\n    |           └ APIRoute(path='/v1/analyze-room-secure', name='analyze_room_secure', methods=['POST'])\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A60A660>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5CA340>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │    └ <function request_response.<locals>.app at 0x0000011E69189800>\n    |           └ APIRoute(path='/v1/analyze-room-secure', name='analyze_room_secure', methods=['POST'])\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A60A660>\n    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5CA340>\n    |           │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           │                            │    └ <starlette.requests.Request object at 0x0000011E6B545590>\n    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000011E6A60A8E0>\n    |           └ <function wrap_app_handling_exceptions at 0x0000011E6602F100>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A60A980>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5CA340>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n    |           └ <function request_response.<locals>.app.<locals>.app at 0x0000011E6A60A8E0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                      │ └ <starlette.requests.Request object at 0x0000011E6B545590>\n    |                      └ <function get_request_handler.<locals>.app at 0x0000011E69189760>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                          └ <function run_endpoint_function at 0x0000011E6602E8E0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 212, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |                  │         │      └ {'api_key': 'test-key', 'file': UploadFile(filename='test.txt', size=14, headers=Headers({'content-disposition': 'form-data; ...\n    |                  │         └ <function analyze_room_secure at 0x0000011E6915BBA0>\n    |                  └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=File(Pydant...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\slowapi\\extension.py\", line 734, in async_wrapper\n    |     response = await func(*args, **kwargs)  # type: ignore\n    |                      │     │       └ {'api_key': 'test-key', 'file': UploadFile(filename='test.txt', size=14, headers=Headers({'content-disposition': 'form-data; ...\n    |                      │     └ ()\n    |                      └ <function analyze_room_secure at 0x0000011E6915B9C0>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py\", line 85, in analyze_room_secure\n    |     ai_service: AIService = request.app.state.ai_service\n    |                             │       └ <property object at 0x0000011E65FA93A0>\n    |                             └ <starlette.requests.Request object at 0x0000011E6B545590>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\datastructures.py\", line 671, in __getattr__\n    |     raise AttributeError(message.format(self.__class__.__name__, key))\n    |                          │       │      │    │         │         └ 'ai_service'\n    |                          │       │      │    │         └ <member '__name__' of 'getset_descriptor' objects>\n    |                          │       │      │    └ <attribute '__class__' of 'object' objects>\n    |                          │       │      └ <starlette.datastructures.State object at 0x0000011E69175160>\n    |                          │       └ <method 'format' of 'str' objects>\n    |                          └ \"'{}' object has no attribute '{}'\"\n    |\n    | AttributeError: 'State' object has no attribute 'ai_service'\n    +------------------------------------\n\n\nDuring handling of the above exception, another exception occurred:\n\n\nTraceback (most recent call last):\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 1012, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x0000011E625E11C0>\n    └ <Thread(Thread-5 (run_blocking_portal), started daemon 6708)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 1041, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x0000011E625E0F40>\n    └ <Thread(Thread-5 (run_blocking_portal), started daemon 6708)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 992, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-5 (run_blocking_portal), started daemon 6708)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-5 (run_blocking_portal), started daemon 6708)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x0000011E6A608AE0>\n    └ <Thread(Thread-5 (run_blocking_portal), started daemon 6708)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x0000011E63034360>\n    └ <module 'anyio._core._eventloop' from 'C:\\\\Users\\\\dmjtx\\\\AppData\\\\Local\\\\pypoetry\\\\Cache\\\\virtualenvs\\\\ai-room-cleaner-UUzRmT...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_core\\_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x0000011E6A5C9F80>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x0000011E6A308F40>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x0000011E6A60AAC0>\n           │      └ <function Runner.run at 0x0000011E64A6D3A0>\n           └ <asyncio.runners.Runner object at 0x0000011E6A255810>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000011E64A66DE0>\n           │    └ <ProactorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x0000011E6A255810>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x0000011E64A66D40>\n    └ <ProactorEventLoop running=True closed=False debug=False>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x0000011E64A6CB80>\n    └ <ProactorEventLoop running=True closed=False debug=False>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x0000011E649C23E0>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\from_thread.py\", line 221, in _call_func\n    retval = await retval_or_awaitable\n                   └ <coroutine object FastAPI.__call__ at 0x0000011E6A2E1A80>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\applications.py\", line 1054, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x0000011E6A609940>\n                           │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000011E6A609D00>\n                           └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\applications.py\", line 112, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x0000011E6A609940>\n          │    │                │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000011E6A609D00>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000011E6A310980>\n          └ <fastapi.applications.FastAPI object at 0x0000011E69174AD0>\n> File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000011E6A60A020>\n          │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000011E6A609D00>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>\n          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000011E6A310980>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x0000011E65F5EE80>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'ai_service'\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x0000011E6AA775E0>\n    └ <contextlib._GeneratorContextManager object at 0x0000011E6A640520>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A609EE0>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000011E6919B490>\n                     │    └ <bound method RequestSizeLimitMiddleware.dispatch of <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>>\n                     └ <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py\", line 134, in dispatch\n    return await call_next(request)\n                 │         └ <starlette.middleware.base._CachedRequest object at 0x0000011E6919B490>\n                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A609EE0>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    raise app_exc\n          └ AttributeError(\"'State' object has no attribute 'ai_service'\")\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A60AA20>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A609F80>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>\n          └ <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x0000011E65F5EE80>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'ai_service'\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x0000011E6AA76260>\n    └ <contextlib._GeneratorContextManager object at 0x0000011E6B5379A0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A2BB560>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000011E6B53CEF0>\n                     │    └ <bound method LoggingMiddleware.dispatch of <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>>\n                     └ <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\logging.py\", line 37, in dispatch\n    response = await call_next(request)\n                     │         └ <starlette.middleware.base._CachedRequest object at 0x0000011E6B53CEF0>\n                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A2BB560>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    raise app_exc\n          └ AttributeError(\"'State' object has no attribute 'ai_service'\")\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A5C9DA0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5CA340>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000011E6A310590>\n          └ <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A5C9DA0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5CA340>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000011E6A310440>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000011E6A310590>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A5C9DA0>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5CA340>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │                            │    │    └ <starlette.requests.Request object at 0x0000011E6A2EB410>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x0000011E69180690>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000011E6A310440>\n          └ <function wrap_app_handling_exceptions at 0x0000011E6602F100>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A60A660>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5CA340>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          └ <fastapi.routing.APIRouter object at 0x0000011E69180690>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A60A660>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5CA340>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000011E69180690>>\n          └ <fastapi.routing.APIRouter object at 0x0000011E69180690>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A60A660>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5CA340>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │     └ <function Route.handle at 0x0000011E67220860>\n          └ APIRoute(path='/v1/analyze-room-secure', name='analyze_room_secure', methods=['POST'])\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A60A660>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5CA340>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │    └ <function request_response.<locals>.app at 0x0000011E69189800>\n          └ APIRoute(path='/v1/analyze-room-secure', name='analyze_room_secure', methods=['POST'])\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A60A660>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5CA340>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          │                            │    └ <starlette.requests.Request object at 0x0000011E6B545590>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000011E6A60A8E0>\n          └ <function wrap_app_handling_exceptions at 0x0000011E6602F100>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A60A980>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5CA340>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/analyze-room-secure', 'raw_path': b'/v1/analyze-room-s...\n          └ <function request_response.<locals>.app.<locals>.app at 0x0000011E6A60A8E0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x0000011E6B545590>\n                     └ <function get_request_handler.<locals>.app at 0x0000011E69189760>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x0000011E6602E8E0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'api_key': 'test-key', 'file': UploadFile(filename='test.txt', size=14, headers=Headers({'content-disposition': 'form-data; ...\n                 │         └ <function analyze_room_secure at 0x0000011E6915BBA0>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=File(Pydant...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\slowapi\\extension.py\", line 734, in async_wrapper\n    response = await func(*args, **kwargs)  # type: ignore\n                     │     │       └ {'api_key': 'test-key', 'file': UploadFile(filename='test.txt', size=14, headers=Headers({'content-disposition': 'form-data; ...\n                     │     └ ()\n                     └ <function analyze_room_secure at 0x0000011E6915B9C0>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py\", line 85, in analyze_room_secure\n    ai_service: AIService = request.app.state.ai_service\n                            │       └ <property object at 0x0000011E65FA93A0>\n                            └ <starlette.requests.Request object at 0x0000011E6B545590>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\datastructures.py\", line 671, in __getattr__\n    raise AttributeError(message.format(self.__class__.__name__, key))\n                         │       │      │    │         │         └ 'ai_service'\n                         │       │      │    │         └ <member '__name__' of 'getset_descriptor' objects>\n                         │       │      │    └ <attribute '__class__' of 'object' objects>\n                         │       │      └ <starlette.datastructures.State object at 0x0000011E69175160>\n                         │       └ <method 'format' of 'str' objects>\n                         └ \"'{}' object has no attribute '{}'\"\n\nAttributeError: 'State' object has no attribute 'ai_service'\n", "record": {"elapsed": {"repr": "0:00:04.899656", "seconds": 4.899656}, "exception": {"type": "AttributeError", "value": "'State' object has no attribute 'ai_service'", "traceback": true}, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "generic_exception_handler", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 101, "message": "An unexpected error occurred", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 6708, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:55.122882-05:00", "timestamp": 1749991915.122882}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:05.421362", "seconds": 5.421362}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 6708, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:55.644588-05:00", "timestamp": 1749991915.644588}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:05.624061", "seconds": 5.624061}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 24864, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:55.847287-05:00", "timestamp": 1749991915.847287}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:05.625171", "seconds": 5.625171}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 24864, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:55.848397-05:00", "timestamp": 1749991915.848397}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:05.625776", "seconds": 5.625776}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 24864, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:55.849002-05:00", "timestamp": 1749991915.849002}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:05.631696", "seconds": 5.631696}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 23724, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:55.854922-05:00", "timestamp": 1749991915.854922}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:05.826463", "seconds": 5.826463}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 23724, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:56.049689-05:00", "timestamp": 1749991916.049689}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:05.827169", "seconds": 5.827169}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 23724, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:56.050395-05:00", "timestamp": 1749991916.050395}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:05.827695", "seconds": 5.827695}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 23724, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:56.050921-05:00", "timestamp": 1749991916.050921}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:05.828029", "seconds": 5.828029}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 23724, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:56.051255-05:00", "timestamp": 1749991916.051255}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:05.828361", "seconds": 5.828361}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 23724, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:56.051587-05:00", "timestamp": 1749991916.051587}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:05.828663", "seconds": 5.828663}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 23724, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:56.051889-05:00", "timestamp": 1749991916.051889}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:05.828954", "seconds": 5.828954}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 23724, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:56.052180-05:00", "timestamp": 1749991916.05218}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:05.829246", "seconds": 5.829246}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 23724, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:56.052472-05:00", "timestamp": 1749991916.052472}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:05.829572", "seconds": 5.829572}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 23724, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:56.052798-05:00", "timestamp": 1749991916.052798}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:05.829877", "seconds": 5.829877}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 23724, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:56.053103-05:00", "timestamp": 1749991916.053103}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:05.830199", "seconds": 5.830199}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 23724, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:56.053425-05:00", "timestamp": 1749991916.053425}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:05.830503", "seconds": 5.830503}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 23724, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:56.053729-05:00", "timestamp": 1749991916.053729}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:05.830812", "seconds": 5.830812}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 23724, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:56.054038-05:00", "timestamp": 1749991916.054038}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:05.831092", "seconds": 5.831092}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 23724, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:56.054318-05:00", "timestamp": 1749991916.054318}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:06.038727", "seconds": 6.038727}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 23724, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:56.261953-05:00", "timestamp": 1749991916.261953}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:06.039651", "seconds": 6.039651}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 23724, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:56.262877-05:00", "timestamp": 1749991916.262877}}}
{"text": "An unexpected error occurred\n  + Exception Group Traceback (most recent call last):\n  |\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 177, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x0000011E6A60B250>\n  |                │     └ <function create_task_group at 0x0000011E630BF6A0>\n  |                └ <module 'anyio' from 'C:\\\\Users\\\\dmjtx\\\\AppData\\\\Local\\\\pypoetry\\\\Cache\\\\virtualenvs\\\\ai-room-cleaner-UUzRmTiU-py3.13\\\\Lib\\\\s...\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000011E6A6093A0>\n    |           │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000011E6A60B600>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>\n    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000011E6A310980>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x0000011E65F5EE80>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'history_service'\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x0000011E6AA77920>\n    |     └ <contextlib._GeneratorContextManager object at 0x0000011E6A640DE0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A60B420>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000011E6B0E6690>\n    |                      │    └ <bound method RequestSizeLimitMiddleware.dispatch of <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>>\n    |                      └ <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py\", line 134, in dispatch\n    |     return await call_next(request)\n    |                  │         └ <starlette.middleware.base._CachedRequest object at 0x0000011E6B0E6690>\n    |                  └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A60B420>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ AttributeError(\"'State' object has no attribute 'history_service'\")\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A6094E0>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A609260>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>\n    |           └ <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x0000011E65F5EE80>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'history_service'\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x0000011E6AA74450>\n    |     └ <contextlib._GeneratorContextManager object at 0x0000011E6A6431C0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A608F40>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000011E6B0E68B0>\n    |                      │    └ <bound method LoggingMiddleware.dispatch of <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>>\n    |                      └ <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\logging.py\", line 37, in dispatch\n    |     response = await call_next(request)\n    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x0000011E6B0E68B0>\n    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A608F40>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ AttributeError(\"'State' object has no attribute 'history_service'\")\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A60B9C0>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A60B920>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000011E6A310590>\n    |           └ <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A60B9C0>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A60B920>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000011E6A310440>\n    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x0000011E6A310590>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A60B9C0>\n    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A60B920>\n    |           │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │                            │    │    └ <starlette.requests.Request object at 0x0000011E6B0E8D50>\n    |           │                            │    └ <fastapi.routing.APIRouter object at 0x0000011E69180690>\n    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000011E6A310440>\n    |           └ <function wrap_app_handling_exceptions at 0x0000011E6602F100>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A60BCE0>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A60B920>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           └ <fastapi.routing.APIRouter object at 0x0000011E69180690>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 714, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A60BCE0>\n    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A60B920>\n    |           │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000011E69180690>>\n    |           └ <fastapi.routing.APIRouter object at 0x0000011E69180690>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 734, in app\n    |     await route.handle(scope, receive, send)\n    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A60BCE0>\n    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A60B920>\n    |           │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │     └ <function Route.handle at 0x0000011E67220860>\n    |           └ APIRoute(path='/history', name='get_history', methods=['GET'])\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A60BCE0>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A60B920>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <function request_response.<locals>.app at 0x0000011E691899E0>\n    |           └ APIRoute(path='/history', name='get_history', methods=['GET'])\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A60BCE0>\n    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A60B920>\n    |           │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │                            │    └ <starlette.requests.Request object at 0x0000011E6B0E9150>\n    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000011E6A60BD80>\n    |           └ <function wrap_app_handling_exceptions at 0x0000011E6602F100>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A60BEC0>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A60B920>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           └ <function request_response.<locals>.app.<locals>.app at 0x0000011E6A60BD80>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                      │ └ <starlette.requests.Request object at 0x0000011E6B0E9150>\n    |                      └ <function get_request_handler.<locals>.app at 0x0000011E691898A0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                          └ <function run_endpoint_function at 0x0000011E6602E8E0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 212, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |                  │         │      └ {'request': <starlette.requests.Request object at 0x0000011E6B0E9150>}\n    |                  │         └ <function get_history at 0x0000011E6915BF60>\n    |                  └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[], dependencies=[], security_requ...\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py\", line 111, in get_history\n    |     history_service: HistoryService = request.app.state.history_service\n    |                                       │       └ <property object at 0x0000011E65FA93A0>\n    |                                       └ <starlette.requests.Request object at 0x0000011E6B0E9150>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\datastructures.py\", line 671, in __getattr__\n    |     raise AttributeError(message.format(self.__class__.__name__, key))\n    |                          │       │      │    │         │         └ 'history_service'\n    |                          │       │      │    │         └ <member '__name__' of 'getset_descriptor' objects>\n    |                          │       │      │    └ <attribute '__class__' of 'object' objects>\n    |                          │       │      └ <starlette.datastructures.State object at 0x0000011E69175160>\n    |                          │       └ <method 'format' of 'str' objects>\n    |                          └ \"'{}' object has no attribute '{}'\"\n    |\n    | AttributeError: 'State' object has no attribute 'history_service'\n    +------------------------------------\n\n\nDuring handling of the above exception, another exception occurred:\n\n\nTraceback (most recent call last):\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 1012, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x0000011E625E11C0>\n    └ <Thread(Thread-7 (run_blocking_portal), started daemon 23724)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 1041, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x0000011E625E0F40>\n    └ <Thread(Thread-7 (run_blocking_portal), started daemon 23724)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 992, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-7 (run_blocking_portal), started daemon 23724)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-7 (run_blocking_portal), started daemon 23724)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x0000011E6A60A3E0>\n    └ <Thread(Thread-7 (run_blocking_portal), started daemon 23724)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x0000011E63034360>\n    └ <module 'anyio._core._eventloop' from 'C:\\\\Users\\\\dmjtx\\\\AppData\\\\Local\\\\pypoetry\\\\Cache\\\\virtualenvs\\\\ai-room-cleaner-UUzRmT...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_core\\_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x0000011E6A6096C0>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x0000011E6A308F40>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x0000011E6A2C8360>\n           │      └ <function Runner.run at 0x0000011E64A6D3A0>\n           └ <asyncio.runners.Runner object at 0x0000011E6B54C180>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000011E64A66DE0>\n           │    └ <ProactorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x0000011E6B54C180>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x0000011E64A66D40>\n    └ <ProactorEventLoop running=True closed=False debug=False>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x0000011E64A6CB80>\n    └ <ProactorEventLoop running=True closed=False debug=False>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x0000011E649C23E0>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\from_thread.py\", line 221, in _call_func\n    retval = await retval_or_awaitable\n                   └ <coroutine object FastAPI.__call__ at 0x0000011E6A626890>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\applications.py\", line 1054, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x0000011E6A60B6A0>\n                           │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000011E6A60B600>\n                           └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\applications.py\", line 112, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x0000011E6A60B6A0>\n          │    │                │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000011E6A60B600>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000011E6A310980>\n          └ <fastapi.applications.FastAPI object at 0x0000011E69174AD0>\n> File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000011E6A6093A0>\n          │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000011E6A60B600>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>\n          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000011E6A310980>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x0000011E65F5EE80>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'history_service'\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x0000011E6AA77920>\n    └ <contextlib._GeneratorContextManager object at 0x0000011E6A640DE0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A60B420>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000011E6B0E6690>\n                     │    └ <bound method RequestSizeLimitMiddleware.dispatch of <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>>\n                     └ <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py\", line 134, in dispatch\n    return await call_next(request)\n                 │         └ <starlette.middleware.base._CachedRequest object at 0x0000011E6B0E6690>\n                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A60B420>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    raise app_exc\n          └ AttributeError(\"'State' object has no attribute 'history_service'\")\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A6094E0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A609260>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>\n          └ <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x0000011E65F5EE80>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'history_service'\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x0000011E6AA74450>\n    └ <contextlib._GeneratorContextManager object at 0x0000011E6A6431C0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A608F40>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000011E6B0E68B0>\n                     │    └ <bound method LoggingMiddleware.dispatch of <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>>\n                     └ <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\logging.py\", line 37, in dispatch\n    response = await call_next(request)\n                     │         └ <starlette.middleware.base._CachedRequest object at 0x0000011E6B0E68B0>\n                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A608F40>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    raise app_exc\n          └ AttributeError(\"'State' object has no attribute 'history_service'\")\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A60B9C0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A60B920>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000011E6A310590>\n          └ <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A60B9C0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A60B920>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000011E6A310440>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000011E6A310590>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A60B9C0>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A60B920>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │                            │    │    └ <starlette.requests.Request object at 0x0000011E6B0E8D50>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x0000011E69180690>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000011E6A310440>\n          └ <function wrap_app_handling_exceptions at 0x0000011E6602F100>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A60BCE0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A60B920>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          └ <fastapi.routing.APIRouter object at 0x0000011E69180690>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A60BCE0>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A60B920>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000011E69180690>>\n          └ <fastapi.routing.APIRouter object at 0x0000011E69180690>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A60BCE0>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A60B920>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │     └ <function Route.handle at 0x0000011E67220860>\n          └ APIRoute(path='/history', name='get_history', methods=['GET'])\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A60BCE0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A60B920>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <function request_response.<locals>.app at 0x0000011E691899E0>\n          └ APIRoute(path='/history', name='get_history', methods=['GET'])\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A60BCE0>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A60B920>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │                            │    └ <starlette.requests.Request object at 0x0000011E6B0E9150>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000011E6A60BD80>\n          └ <function wrap_app_handling_exceptions at 0x0000011E6602F100>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A60BEC0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A60B920>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          └ <function request_response.<locals>.app.<locals>.app at 0x0000011E6A60BD80>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x0000011E6B0E9150>\n                     └ <function get_request_handler.<locals>.app at 0x0000011E691898A0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x0000011E6602E8E0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'request': <starlette.requests.Request object at 0x0000011E6B0E9150>}\n                 │         └ <function get_history at 0x0000011E6915BF60>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[], dependencies=[], security_requ...\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py\", line 111, in get_history\n    history_service: HistoryService = request.app.state.history_service\n                                      │       └ <property object at 0x0000011E65FA93A0>\n                                      └ <starlette.requests.Request object at 0x0000011E6B0E9150>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\datastructures.py\", line 671, in __getattr__\n    raise AttributeError(message.format(self.__class__.__name__, key))\n                         │       │      │    │         │         └ 'history_service'\n                         │       │      │    │         └ <member '__name__' of 'getset_descriptor' objects>\n                         │       │      │    └ <attribute '__class__' of 'object' objects>\n                         │       │      └ <starlette.datastructures.State object at 0x0000011E69175160>\n                         │       └ <method 'format' of 'str' objects>\n                         └ \"'{}' object has no attribute '{}'\"\n\nAttributeError: 'State' object has no attribute 'history_service'\n", "record": {"elapsed": {"repr": "0:00:06.043742", "seconds": 6.043742}, "exception": {"type": "AttributeError", "value": "'State' object has no attribute 'history_service'", "traceback": true}, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "generic_exception_handler", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 101, "message": "An unexpected error occurred", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 23724, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:56.266968-05:00", "timestamp": 1749991916.266968}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:06.548326", "seconds": 6.548326}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 23724, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:56.771552-05:00", "timestamp": 1749991916.771552}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:06.747534", "seconds": 6.747534}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 24864, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:56.970760-05:00", "timestamp": 1749991916.97076}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:06.748615", "seconds": 6.748615}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 24864, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:56.971841-05:00", "timestamp": 1749991916.971841}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:06.749217", "seconds": 6.749217}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 24864, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:56.972443-05:00", "timestamp": 1749991916.972443}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:06.755061", "seconds": 6.755061}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 22232, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:56.978287-05:00", "timestamp": 1749991916.978287}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:06.948435", "seconds": 6.948435}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 22232, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:57.171661-05:00", "timestamp": 1749991917.171661}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:06.949388", "seconds": 6.949388}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 22232, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:57.172614-05:00", "timestamp": 1749991917.172614}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:06.949840", "seconds": 6.94984}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 22232, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:57.173066-05:00", "timestamp": 1749991917.173066}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:06.950185", "seconds": 6.950185}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 22232, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:57.173411-05:00", "timestamp": 1749991917.173411}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:06.950491", "seconds": 6.950491}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 22232, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:57.173717-05:00", "timestamp": 1749991917.173717}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:06.950779", "seconds": 6.950779}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 22232, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:57.174005-05:00", "timestamp": 1749991917.174005}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:06.951091", "seconds": 6.951091}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 22232, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:57.174317-05:00", "timestamp": 1749991917.174317}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:06.951388", "seconds": 6.951388}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 22232, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:57.174614-05:00", "timestamp": 1749991917.174614}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:06.951731", "seconds": 6.951731}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 22232, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:57.174957-05:00", "timestamp": 1749991917.174957}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:06.952032", "seconds": 6.952032}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 22232, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:57.175258-05:00", "timestamp": 1749991917.175258}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:06.952387", "seconds": 6.952387}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 22232, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:57.175613-05:00", "timestamp": 1749991917.175613}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:06.952822", "seconds": 6.952822}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 22232, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:57.176048-05:00", "timestamp": 1749991917.176048}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:06.953160", "seconds": 6.95316}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 22232, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:57.176386-05:00", "timestamp": 1749991917.176386}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:06.953458", "seconds": 6.953458}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 22232, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:57.176684-05:00", "timestamp": 1749991917.176684}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:07.149374", "seconds": 7.149374}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 22232, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:57.372600-05:00", "timestamp": 1749991917.3726}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:07.150379", "seconds": 7.150379}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 22232, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:57.373605-05:00", "timestamp": 1749991917.373605}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:07.157730", "seconds": 7.15773}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 22232, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:57.380956-05:00", "timestamp": 1749991917.380956}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:07.359291", "seconds": 7.359291}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 24864, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:57.582517-05:00", "timestamp": 1749991917.582517}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:07.360295", "seconds": 7.360295}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 24864, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:57.583521-05:00", "timestamp": 1749991917.583521}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:07.360808", "seconds": 7.360808}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 24864, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:57.584034-05:00", "timestamp": 1749991917.584034}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:07.365489", "seconds": 7.365489}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8784, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:57.588715-05:00", "timestamp": 1749991917.588715}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:07.559078", "seconds": 7.559078}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8784, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:57.782304-05:00", "timestamp": 1749991917.782304}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:07.559989", "seconds": 7.559989}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8784, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:57.783215-05:00", "timestamp": 1749991917.783215}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:07.560313", "seconds": 7.560313}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8784, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:57.783539-05:00", "timestamp": 1749991917.783539}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:07.560620", "seconds": 7.56062}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8784, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:57.783846-05:00", "timestamp": 1749991917.783846}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:07.561013", "seconds": 7.561013}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8784, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:57.784239-05:00", "timestamp": 1749991917.784239}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:07.561319", "seconds": 7.561319}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8784, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:57.784545-05:00", "timestamp": 1749991917.784545}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:07.561603", "seconds": 7.561603}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8784, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:57.784829-05:00", "timestamp": 1749991917.784829}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:07.561881", "seconds": 7.561881}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8784, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:57.785107-05:00", "timestamp": 1749991917.785107}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:07.562159", "seconds": 7.562159}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8784, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:57.785385-05:00", "timestamp": 1749991917.785385}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:07.562428", "seconds": 7.562428}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8784, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:57.785654-05:00", "timestamp": 1749991917.785654}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:07.562812", "seconds": 7.562812}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8784, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:57.786038-05:00", "timestamp": 1749991917.786038}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:07.563123", "seconds": 7.563123}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8784, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:57.786349-05:00", "timestamp": 1749991917.786349}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:07.563451", "seconds": 7.563451}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8784, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:57.786677-05:00", "timestamp": 1749991917.786677}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:07.563739", "seconds": 7.563739}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8784, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:57.786965-05:00", "timestamp": 1749991917.786965}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:07.763519", "seconds": 7.763519}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8784, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:57.986745-05:00", "timestamp": 1749991917.986745}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:07.764427", "seconds": 7.764427}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8784, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:57.987653-05:00", "timestamp": 1749991917.987653}}}
{"text": "An unexpected error occurred\n  + Exception Group Traceback (most recent call last):\n  |\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 177, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x0000011E6B3AAC80>\n  |                │     └ <function create_task_group at 0x0000011E630BF6A0>\n  |                └ <module 'anyio' from 'C:\\\\Users\\\\dmjtx\\\\AppData\\\\Local\\\\pypoetry\\\\Cache\\\\virtualenvs\\\\ai-room-cleaner-UUzRmTiU-py3.13\\\\Lib\\\\s...\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000011E6A5ECEA0>\n    |           │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000011E6A5ECAE0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           │    └ <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>\n    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000011E6A310980>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x0000011E65F5EE80>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'history_service'\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x0000011E6A591220>\n    |     └ <contextlib._GeneratorContextManager object at 0x0000011E6B3A9C50>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A5EDBC0>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000011E6A5FF5C0>\n    |                      │    └ <bound method RequestSizeLimitMiddleware.dispatch of <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>>\n    |                      └ <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py\", line 134, in dispatch\n    |     return await call_next(request)\n    |                  │         └ <starlette.middleware.base._CachedRequest object at 0x0000011E6A5FF5C0>\n    |                  └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A5EDBC0>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ AttributeError(\"'State' object has no attribute 'history_service'\")\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A5ED1C0>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5ED120>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           │    └ <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>\n    |           └ <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x0000011E65F5EE80>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'history_service'\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x0000011E6A590930>\n    |     └ <contextlib._GeneratorContextManager object at 0x0000011E6B3AAA50>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A60AF20>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000011E6A5FFA70>\n    |                      │    └ <bound method LoggingMiddleware.dispatch of <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>>\n    |                      └ <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\logging.py\", line 37, in dispatch\n    |     response = await call_next(request)\n    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x0000011E6A5FFA70>\n    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A60AF20>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ AttributeError(\"'State' object has no attribute 'history_service'\")\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A5ED440>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5ED9E0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000011E6A310590>\n    |           └ <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A5ED440>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5ED9E0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000011E6A310440>\n    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x0000011E6A310590>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A5ED440>\n    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5ED9E0>\n    |           │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           │                            │    │    └ <starlette.requests.Request object at 0x0000011E6A866A50>\n    |           │                            │    └ <fastapi.routing.APIRouter object at 0x0000011E69180690>\n    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000011E6A310440>\n    |           └ <function wrap_app_handling_exceptions at 0x0000011E6602F100>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A5ED6C0>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5ED9E0>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           └ <fastapi.routing.APIRouter object at 0x0000011E69180690>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 714, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A5ED6C0>\n    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5ED9E0>\n    |           │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000011E69180690>>\n    |           └ <fastapi.routing.APIRouter object at 0x0000011E69180690>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 734, in app\n    |     await route.handle(scope, receive, send)\n    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A5ED6C0>\n    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5ED9E0>\n    |           │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           │     └ <function Route.handle at 0x0000011E67220860>\n    |           └ APIRoute(path='/history', name='clear_history', methods=['DELETE'])\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A5ED6C0>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5ED9E0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           │    └ <function request_response.<locals>.app at 0x0000011E69189BC0>\n    |           └ APIRoute(path='/history', name='clear_history', methods=['DELETE'])\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A5ED6C0>\n    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5ED9E0>\n    |           │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           │                            │    └ <starlette.requests.Request object at 0x0000011E6A590D50>\n    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000011E6A5ED940>\n    |           └ <function wrap_app_handling_exceptions at 0x0000011E6602F100>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A5ED760>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5ED9E0>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           └ <function request_response.<locals>.app.<locals>.app at 0x0000011E6A5ED940>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                      │ └ <starlette.requests.Request object at 0x0000011E6A590D50>\n    |                      └ <function get_request_handler.<locals>.app at 0x0000011E69189B20>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                          └ <function run_endpoint_function at 0x0000011E6602E8E0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 212, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |                  │         │      └ {'api_key': 'test-key', 'request': <starlette.requests.Request object at 0x0000011E6A590D50>}\n    |                  │         └ <function clear_history at 0x0000011E69188220>\n    |                  └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[], dependencies=[Dependant(path_p...\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py\", line 118, in clear_history\n    |     history_service: HistoryService = request.app.state.history_service\n    |                                       │       └ <property object at 0x0000011E65FA93A0>\n    |                                       └ <starlette.requests.Request object at 0x0000011E6A590D50>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\datastructures.py\", line 671, in __getattr__\n    |     raise AttributeError(message.format(self.__class__.__name__, key))\n    |                          │       │      │    │         │         └ 'history_service'\n    |                          │       │      │    │         └ <member '__name__' of 'getset_descriptor' objects>\n    |                          │       │      │    └ <attribute '__class__' of 'object' objects>\n    |                          │       │      └ <starlette.datastructures.State object at 0x0000011E69175160>\n    |                          │       └ <method 'format' of 'str' objects>\n    |                          └ \"'{}' object has no attribute '{}'\"\n    |\n    | AttributeError: 'State' object has no attribute 'history_service'\n    +------------------------------------\n\n\nDuring handling of the above exception, another exception occurred:\n\n\nTraceback (most recent call last):\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 1012, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x0000011E625E11C0>\n    └ <Thread(Thread-9 (run_blocking_portal), started daemon 8784)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 1041, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x0000011E625E0F40>\n    └ <Thread(Thread-9 (run_blocking_portal), started daemon 8784)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 992, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-9 (run_blocking_portal), started daemon 8784)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-9 (run_blocking_portal), started daemon 8784)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x0000011E6A609DA0>\n    └ <Thread(Thread-9 (run_blocking_portal), started daemon 8784)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x0000011E63034360>\n    └ <module 'anyio._core._eventloop' from 'C:\\\\Users\\\\dmjtx\\\\AppData\\\\Local\\\\pypoetry\\\\Cache\\\\virtualenvs\\\\ai-room-cleaner-UUzRmT...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_core\\_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x0000011E6A608E00>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x0000011E6A308F40>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x0000011E6A6098A0>\n           │      └ <function Runner.run at 0x0000011E64A6D3A0>\n           └ <asyncio.runners.Runner object at 0x0000011E6B53D370>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000011E64A66DE0>\n           │    └ <ProactorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x0000011E6B53D370>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x0000011E64A66D40>\n    └ <ProactorEventLoop running=True closed=False debug=False>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x0000011E64A6CB80>\n    └ <ProactorEventLoop running=True closed=False debug=False>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x0000011E649C23E0>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\from_thread.py\", line 221, in _call_func\n    retval = await retval_or_awaitable\n                   └ <coroutine object FastAPI.__call__ at 0x0000011E6A6258A0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\applications.py\", line 1054, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x0000011E6A5ECC20>\n                           │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000011E6A5ECAE0>\n                           └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\applications.py\", line 112, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x0000011E6A5ECC20>\n          │    │                │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000011E6A5ECAE0>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000011E6A310980>\n          └ <fastapi.applications.FastAPI object at 0x0000011E69174AD0>\n> File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000011E6A5ECEA0>\n          │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000011E6A5ECAE0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │    └ <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>\n          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000011E6A310980>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x0000011E65F5EE80>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'history_service'\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x0000011E6A591220>\n    └ <contextlib._GeneratorContextManager object at 0x0000011E6B3A9C50>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A5EDBC0>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000011E6A5FF5C0>\n                     │    └ <bound method RequestSizeLimitMiddleware.dispatch of <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>>\n                     └ <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py\", line 134, in dispatch\n    return await call_next(request)\n                 │         └ <starlette.middleware.base._CachedRequest object at 0x0000011E6A5FF5C0>\n                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A5EDBC0>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    raise app_exc\n          └ AttributeError(\"'State' object has no attribute 'history_service'\")\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A5ED1C0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5ED120>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │    └ <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>\n          └ <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x0000011E65F5EE80>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'history_service'\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x0000011E6A590930>\n    └ <contextlib._GeneratorContextManager object at 0x0000011E6B3AAA50>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A60AF20>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000011E6A5FFA70>\n                     │    └ <bound method LoggingMiddleware.dispatch of <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>>\n                     └ <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\logging.py\", line 37, in dispatch\n    response = await call_next(request)\n                     │         └ <starlette.middleware.base._CachedRequest object at 0x0000011E6A5FFA70>\n                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A60AF20>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    raise app_exc\n          └ AttributeError(\"'State' object has no attribute 'history_service'\")\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A5ED440>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5ED9E0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000011E6A310590>\n          └ <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A5ED440>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5ED9E0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000011E6A310440>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000011E6A310590>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A5ED440>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5ED9E0>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │                            │    │    └ <starlette.requests.Request object at 0x0000011E6A866A50>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x0000011E69180690>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000011E6A310440>\n          └ <function wrap_app_handling_exceptions at 0x0000011E6602F100>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A5ED6C0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5ED9E0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          └ <fastapi.routing.APIRouter object at 0x0000011E69180690>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A5ED6C0>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5ED9E0>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000011E69180690>>\n          └ <fastapi.routing.APIRouter object at 0x0000011E69180690>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A5ED6C0>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5ED9E0>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │     └ <function Route.handle at 0x0000011E67220860>\n          └ APIRoute(path='/history', name='clear_history', methods=['DELETE'])\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A5ED6C0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5ED9E0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │    └ <function request_response.<locals>.app at 0x0000011E69189BC0>\n          └ APIRoute(path='/history', name='clear_history', methods=['DELETE'])\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A5ED6C0>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5ED9E0>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │                            │    └ <starlette.requests.Request object at 0x0000011E6A590D50>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000011E6A5ED940>\n          └ <function wrap_app_handling_exceptions at 0x0000011E6602F100>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A5ED760>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5ED9E0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          └ <function request_response.<locals>.app.<locals>.app at 0x0000011E6A5ED940>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x0000011E6A590D50>\n                     └ <function get_request_handler.<locals>.app at 0x0000011E69189B20>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x0000011E6602E8E0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'api_key': 'test-key', 'request': <starlette.requests.Request object at 0x0000011E6A590D50>}\n                 │         └ <function clear_history at 0x0000011E69188220>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[], dependencies=[Dependant(path_p...\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py\", line 118, in clear_history\n    history_service: HistoryService = request.app.state.history_service\n                                      │       └ <property object at 0x0000011E65FA93A0>\n                                      └ <starlette.requests.Request object at 0x0000011E6A590D50>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\datastructures.py\", line 671, in __getattr__\n    raise AttributeError(message.format(self.__class__.__name__, key))\n                         │       │      │    │         │         └ 'history_service'\n                         │       │      │    │         └ <member '__name__' of 'getset_descriptor' objects>\n                         │       │      │    └ <attribute '__class__' of 'object' objects>\n                         │       │      └ <starlette.datastructures.State object at 0x0000011E69175160>\n                         │       └ <method 'format' of 'str' objects>\n                         └ \"'{}' object has no attribute '{}'\"\n\nAttributeError: 'State' object has no attribute 'history_service'\n", "record": {"elapsed": {"repr": "0:00:07.769279", "seconds": 7.769279}, "exception": {"type": "AttributeError", "value": "'State' object has no attribute 'history_service'", "traceback": true}, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "generic_exception_handler", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 101, "message": "An unexpected error occurred", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8784, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:57.992505-05:00", "timestamp": 1749991917.992505}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:08.296729", "seconds": 8.296729}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8784, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:58.519955-05:00", "timestamp": 1749991918.519955}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:08.497480", "seconds": 8.49748}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 24864, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:58.720706-05:00", "timestamp": 1749991918.720706}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:08.498506", "seconds": 8.498506}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 24864, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:58.721732-05:00", "timestamp": 1749991918.721732}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:08.499124", "seconds": 8.499124}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 24864, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:51:58.722350-05:00", "timestamp": 1749991918.72235}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:08.505035", "seconds": 8.505035}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8296, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:58.728261-05:00", "timestamp": 1749991918.728261}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:08.707162", "seconds": 8.707162}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8296, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:58.930388-05:00", "timestamp": 1749991918.930388}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:08.708131", "seconds": 8.708131}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8296, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:58.931357-05:00", "timestamp": 1749991918.931357}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:08.708483", "seconds": 8.708483}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8296, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:58.931709-05:00", "timestamp": 1749991918.931709}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:08.708842", "seconds": 8.708842}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8296, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:58.932068-05:00", "timestamp": 1749991918.932068}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:08.709244", "seconds": 8.709244}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8296, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:58.932470-05:00", "timestamp": 1749991918.93247}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:08.709588", "seconds": 8.709588}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8296, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:58.932814-05:00", "timestamp": 1749991918.932814}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:08.709911", "seconds": 8.709911}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8296, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:58.933137-05:00", "timestamp": 1749991918.933137}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:08.710223", "seconds": 8.710223}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8296, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:58.933449-05:00", "timestamp": 1749991918.933449}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:08.710517", "seconds": 8.710517}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8296, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:58.933743-05:00", "timestamp": 1749991918.933743}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:08.710803", "seconds": 8.710803}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8296, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:58.934029-05:00", "timestamp": 1749991918.934029}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:08.711167", "seconds": 8.711167}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8296, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:58.934393-05:00", "timestamp": 1749991918.934393}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:08.711485", "seconds": 8.711485}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8296, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:58.934711-05:00", "timestamp": 1749991918.934711}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:08.711815", "seconds": 8.711815}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8296, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:58.935041-05:00", "timestamp": 1749991918.935041}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:08.712118", "seconds": 8.712118}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8296, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:58.935344-05:00", "timestamp": 1749991918.935344}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:08.913428", "seconds": 8.913428}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8296, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:59.136654-05:00", "timestamp": 1749991919.136654}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:08.914461", "seconds": 8.914461}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8296, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:59.137687-05:00", "timestamp": 1749991919.137687}}}
{"text": "An unexpected error occurred\n  + Exception Group Traceback (most recent call last):\n  |\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 177, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x0000011E6B3AACF0>\n  |                │     └ <function create_task_group at 0x0000011E630BF6A0>\n  |                └ <module 'anyio' from 'C:\\\\Users\\\\dmjtx\\\\AppData\\\\Local\\\\pypoetry\\\\Cache\\\\virtualenvs\\\\ai-room-cleaner-UUzRmTiU-py3.13\\\\Lib\\\\s...\n  |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000011E6A5EE660>\n    |           │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000011E6A5ED800>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>\n    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000011E6A310980>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x0000011E65F5EE80>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'history_service'\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x0000011E6B5392F0>\n    |     └ <contextlib._GeneratorContextManager object at 0x0000011E6B3AB000>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A5EE8E0>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000011E6AB7D9B0>\n    |                      │    └ <bound method RequestSizeLimitMiddleware.dispatch of <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>>\n    |                      └ <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py\", line 134, in dispatch\n    |     return await call_next(request)\n    |                  │         └ <starlette.middleware.base._CachedRequest object at 0x0000011E6AB7D9B0>\n    |                  └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A5EE8E0>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ AttributeError(\"'State' object has no attribute 'history_service'\")\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A5EEAC0>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5EEA20>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>\n    |           └ <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x0000011E65F5EE80>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'history_service'\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x0000011E6B538AD0>\n    |     └ <contextlib._GeneratorContextManager object at 0x0000011E6B3AADD0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A5EEC00>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000011E6AB7E0B0>\n    |                      │    └ <bound method LoggingMiddleware.dispatch of <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>>\n    |                      └ <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\logging.py\", line 37, in dispatch\n    |     response = await call_next(request)\n    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x0000011E6AB7E0B0>\n    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A5EEC00>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ AttributeError(\"'State' object has no attribute 'history_service'\")\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A5EEDE0>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5EED40>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000011E6A310590>\n    |           └ <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A5EEDE0>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5EED40>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000011E6A310440>\n    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x0000011E6A310590>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A5EEDE0>\n    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5EED40>\n    |           │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │                            │    │    └ <starlette.requests.Request object at 0x0000011E6A598A10>\n    |           │                            │    └ <fastapi.routing.APIRouter object at 0x0000011E69180690>\n    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000011E6A310440>\n    |           └ <function wrap_app_handling_exceptions at 0x0000011E6602F100>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A5EF100>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5EED40>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           └ <fastapi.routing.APIRouter object at 0x0000011E69180690>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 714, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A5EF100>\n    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5EED40>\n    |           │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000011E69180690>>\n    |           └ <fastapi.routing.APIRouter object at 0x0000011E69180690>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 734, in app\n    |     await route.handle(scope, receive, send)\n    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A5EF100>\n    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5EED40>\n    |           │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │     └ <function Route.handle at 0x0000011E67220860>\n    |           └ APIRoute(path='/history', name='get_history', methods=['GET'])\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A5EF100>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5EED40>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <function request_response.<locals>.app at 0x0000011E691899E0>\n    |           └ APIRoute(path='/history', name='get_history', methods=['GET'])\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A5EF100>\n    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5EED40>\n    |           │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │                            │    └ <starlette.requests.Request object at 0x0000011E6B43BB70>\n    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000011E6A5EF380>\n    |           └ <function wrap_app_handling_exceptions at 0x0000011E6602F100>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A5EF1A0>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5EED40>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           └ <function request_response.<locals>.app.<locals>.app at 0x0000011E6A5EF380>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                      │ └ <starlette.requests.Request object at 0x0000011E6B43BB70>\n    |                      └ <function get_request_handler.<locals>.app at 0x0000011E691898A0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                          └ <function run_endpoint_function at 0x0000011E6602E8E0>\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 212, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |                  │         │      └ {'request': <starlette.requests.Request object at 0x0000011E6B43BB70>}\n    |                  │         └ <function get_history at 0x0000011E6915BF60>\n    |                  └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[], dependencies=[], security_requ...\n    |\n    |   File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py\", line 111, in get_history\n    |     history_service: HistoryService = request.app.state.history_service\n    |                                       │       └ <property object at 0x0000011E65FA93A0>\n    |                                       └ <starlette.requests.Request object at 0x0000011E6B43BB70>\n    |\n    |   File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\datastructures.py\", line 671, in __getattr__\n    |     raise AttributeError(message.format(self.__class__.__name__, key))\n    |                          │       │      │    │         │         └ 'history_service'\n    |                          │       │      │    │         └ <member '__name__' of 'getset_descriptor' objects>\n    |                          │       │      │    └ <attribute '__class__' of 'object' objects>\n    |                          │       │      └ <starlette.datastructures.State object at 0x0000011E69175160>\n    |                          │       └ <method 'format' of 'str' objects>\n    |                          └ \"'{}' object has no attribute '{}'\"\n    |\n    | AttributeError: 'State' object has no attribute 'history_service'\n    +------------------------------------\n\n\nDuring handling of the above exception, another exception occurred:\n\n\nTraceback (most recent call last):\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 1012, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x0000011E625E11C0>\n    └ <Thread(Thread-10 (run_blocking_portal), started daemon 8296)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 1041, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x0000011E625E0F40>\n    └ <Thread(Thread-10 (run_blocking_portal), started daemon 8296)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\threading.py\", line 992, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-10 (run_blocking_portal), started daemon 8296)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-10 (run_blocking_portal), started daemon 8296)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x0000011E6A60B100>\n    └ <Thread(Thread-10 (run_blocking_portal), started daemon 8296)>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x0000011E63034360>\n    └ <module 'anyio._core._eventloop' from 'C:\\\\Users\\\\dmjtx\\\\AppData\\\\Local\\\\pypoetry\\\\Cache\\\\virtualenvs\\\\ai-room-cleaner-UUzRmT...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_core\\_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x0000011E6A609620>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x0000011E6A308F40>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x0000011E6A608720>\n           │      └ <function Runner.run at 0x0000011E64A6D3A0>\n           └ <asyncio.runners.Runner object at 0x0000011E6A88D370>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000011E64A66DE0>\n           │    └ <ProactorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x0000011E6A88D370>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x0000011E64A66D40>\n    └ <ProactorEventLoop running=True closed=False debug=False>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x0000011E64A6CB80>\n    └ <ProactorEventLoop running=True closed=False debug=False>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x0000011E649C23E0>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\anyio\\from_thread.py\", line 221, in _call_func\n    retval = await retval_or_awaitable\n                   └ <coroutine object FastAPI.__call__ at 0x0000011E6A5FF1F0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\applications.py\", line 1054, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x0000011E6A5EE0C0>\n                           │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000011E6A5ED800>\n                           └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\applications.py\", line 112, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x0000011E6A5EE0C0>\n          │    │                │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000011E6A5ED800>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000011E6A310980>\n          └ <fastapi.applications.FastAPI object at 0x0000011E69174AD0>\n> File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000011E6A5EE660>\n          │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x0000011E6A5ED800>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>\n          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000011E6A310980>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x0000011E65F5EE80>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'history_service'\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x0000011E6B5392F0>\n    └ <contextlib._GeneratorContextManager object at 0x0000011E6B3AB000>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A5EE8E0>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000011E6AB7D9B0>\n                     │    └ <bound method RequestSizeLimitMiddleware.dispatch of <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>>\n                     └ <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py\", line 134, in dispatch\n    return await call_next(request)\n                 │         └ <starlette.middleware.base._CachedRequest object at 0x0000011E6AB7D9B0>\n                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A5EE8E0>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    raise app_exc\n          └ AttributeError(\"'State' object has no attribute 'history_service'\")\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A5EEAC0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5EEA20>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>\n          └ <backend.main.RequestSizeLimitMiddleware object at 0x0000011E6A310830>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x0000011E65F5EE80>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError(\"'State' object has no attribute 'history_service'\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x0000011E6B538AD0>\n    └ <contextlib._GeneratorContextManager object at 0x0000011E6B3AADD0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A5EEC00>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x0000011E6AB7E0B0>\n                     │    └ <bound method LoggingMiddleware.dispatch of <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>>\n                     └ <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\logging.py\", line 37, in dispatch\n    response = await call_next(request)\n                     │         └ <starlette.middleware.base._CachedRequest object at 0x0000011E6AB7E0B0>\n                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000011E6A5EEC00>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 156, in call_next\n    raise app_exc\n          └ AttributeError(\"'State' object has no attribute 'history_service'\")\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A5EEDE0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5EED40>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000011E6A310590>\n          └ <backend.core.logging.LoggingMiddleware object at 0x0000011E6A3106E0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A5EEDE0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5EED40>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000011E6A310440>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000011E6A310590>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000011E6A5EEDE0>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5EED40>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │                            │    │    └ <starlette.requests.Request object at 0x0000011E6A598A10>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x0000011E69180690>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000011E6A310440>\n          └ <function wrap_app_handling_exceptions at 0x0000011E6602F100>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A5EF100>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5EED40>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          └ <fastapi.routing.APIRouter object at 0x0000011E69180690>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A5EF100>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5EED40>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x0000011E69180690>>\n          └ <fastapi.routing.APIRouter object at 0x0000011E69180690>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A5EF100>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5EED40>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │     └ <function Route.handle at 0x0000011E67220860>\n          └ APIRoute(path='/history', name='get_history', methods=['GET'])\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A5EF100>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5EED40>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <function request_response.<locals>.app at 0x0000011E691899E0>\n          └ APIRoute(path='/history', name='get_history', methods=['GET'])\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A5EF100>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5EED40>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │                            │    └ <starlette.requests.Request object at 0x0000011E6B43BB70>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000011E6A5EF380>\n          └ <function wrap_app_handling_exceptions at 0x0000011E6602F100>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000011E6A5EF1A0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000011E6A5EED40>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          └ <function request_response.<locals>.app.<locals>.app at 0x0000011E6A5EF380>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x0000011E6B43BB70>\n                     └ <function get_request_handler.<locals>.app at 0x0000011E691898A0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x0000011E6602E8E0>\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\fastapi\\routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'request': <starlette.requests.Request object at 0x0000011E6B43BB70>}\n                 │         └ <function get_history at 0x0000011E6915BF60>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[], dependencies=[], security_requ...\n\n  File \"C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py\", line 111, in get_history\n    history_service: HistoryService = request.app.state.history_service\n                                      │       └ <property object at 0x0000011E65FA93A0>\n                                      └ <starlette.requests.Request object at 0x0000011E6B43BB70>\n\n  File \"C:\\Users\\dmjtx\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\ai-room-cleaner-UUzRmTiU-py3.13\\Lib\\site-packages\\starlette\\datastructures.py\", line 671, in __getattr__\n    raise AttributeError(message.format(self.__class__.__name__, key))\n                         │       │      │    │         │         └ 'history_service'\n                         │       │      │    │         └ <member '__name__' of 'getset_descriptor' objects>\n                         │       │      │    └ <attribute '__class__' of 'object' objects>\n                         │       │      └ <starlette.datastructures.State object at 0x0000011E69175160>\n                         │       └ <method 'format' of 'str' objects>\n                         └ \"'{}' object has no attribute '{}'\"\n\nAttributeError: 'State' object has no attribute 'history_service'\n", "record": {"elapsed": {"repr": "0:00:08.919583", "seconds": 8.919583}, "exception": {"type": "AttributeError", "value": "'State' object has no attribute 'history_service'", "traceback": true}, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "generic_exception_handler", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 101, "message": "An unexpected error occurred", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8296, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:59.142809-05:00", "timestamp": 1749991919.142809}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:09.440785", "seconds": 9.440785}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 17596, "name": "MainProcess"}, "thread": {"id": 8296, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:51:59.664011-05:00", "timestamp": 1749991919.664011}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.484100", "seconds": 2.4841}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 6292, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:06.263041-05:00", "timestamp": 1749991986.263041}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:02.692552", "seconds": 2.692552}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 6292, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:06.471493-05:00", "timestamp": 1749991986.471493}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.693617", "seconds": 2.693617}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 6292, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:06.472558-05:00", "timestamp": 1749991986.472558}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.694012", "seconds": 2.694012}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 6292, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:06.472953-05:00", "timestamp": 1749991986.472953}}}
{"text": "Initializing application state.\n", "record": {"elapsed": {"repr": "0:00:02.694389", "seconds": 2.694389}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 51, "message": "Initializing application state.", "module": "state", "name": "backend.core.state", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 6292, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:06.473330-05:00", "timestamp": 1749991986.47333}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.694715", "seconds": 2.694715}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 6292, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:06.473656-05:00", "timestamp": 1749991986.473656}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.695023", "seconds": 2.695023}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 6292, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:06.473964-05:00", "timestamp": 1749991986.473964}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.695313", "seconds": 2.695313}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 6292, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:06.474254-05:00", "timestamp": 1749991986.474254}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.695670", "seconds": 2.69567}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 6292, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:06.474611-05:00", "timestamp": 1749991986.474611}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.695969", "seconds": 2.695969}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 6292, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:06.474910-05:00", "timestamp": 1749991986.47491}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.696251", "seconds": 2.696251}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 6292, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:06.475192-05:00", "timestamp": 1749991986.475192}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.696582", "seconds": 2.696582}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 6292, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:06.475523-05:00", "timestamp": 1749991986.475523}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.696932", "seconds": 2.696932}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 6292, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:06.475873-05:00", "timestamp": 1749991986.475873}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.697315", "seconds": 2.697315}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 6292, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:06.476256-05:00", "timestamp": 1749991986.476256}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.697673", "seconds": 2.697673}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 6292, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:06.476614-05:00", "timestamp": 1749991986.476614}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.899427", "seconds": 2.899427}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 6292, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:06.678368-05:00", "timestamp": 1749991986.678368}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.900361", "seconds": 2.900361}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 6292, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:06.679302-05:00", "timestamp": 1749991986.679302}}}
{"text": "Received request for secure room analysis\n", "record": {"elapsed": {"repr": "0:00:02.908373", "seconds": 2.908373}, "exception": null, "extra": {"request_id": "49b79d55-d115-41ab-a18e-8f8071ed1801"}, "file": {"name": "router.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py"}, "function": "analyze_room_secure", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 84, "message": "Received request for secure room analysis", "module": "router", "name": "backend.api.router", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 6292, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:06.687314-05:00", "timestamp": 1749991986.687314}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.914246", "seconds": 2.914246}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 6292, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:06.693187-05:00", "timestamp": 1749991986.693187}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:03.116515", "seconds": 3.116515}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 18016, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:53:06.895456-05:00", "timestamp": 1749991986.895456}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.117542", "seconds": 3.117542}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 18016, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:53:06.896483-05:00", "timestamp": 1749991986.896483}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.118133", "seconds": 3.118133}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 18016, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:53:06.897074-05:00", "timestamp": 1749991986.897074}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:03.178022", "seconds": 3.178022}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 20396, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:06.956963-05:00", "timestamp": 1749991986.956963}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:03.377062", "seconds": 3.377062}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 20396, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:07.156003-05:00", "timestamp": 1749991987.156003}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.378012", "seconds": 3.378012}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 20396, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:07.156953-05:00", "timestamp": 1749991987.156953}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.378464", "seconds": 3.378464}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 20396, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:07.157405-05:00", "timestamp": 1749991987.157405}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:03.378825", "seconds": 3.378825}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 20396, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:07.157766-05:00", "timestamp": 1749991987.157766}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:03.379151", "seconds": 3.379151}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 20396, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:07.158092-05:00", "timestamp": 1749991987.158092}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:03.379488", "seconds": 3.379488}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 20396, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:07.158429-05:00", "timestamp": 1749991987.158429}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:03.379795", "seconds": 3.379795}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 20396, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:07.158736-05:00", "timestamp": 1749991987.158736}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:03.380090", "seconds": 3.38009}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 20396, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:07.159031-05:00", "timestamp": 1749991987.159031}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:03.380440", "seconds": 3.38044}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 20396, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:07.159381-05:00", "timestamp": 1749991987.159381}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:03.380767", "seconds": 3.380767}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 20396, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:07.159708-05:00", "timestamp": 1749991987.159708}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:03.381104", "seconds": 3.381104}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 20396, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:07.160045-05:00", "timestamp": 1749991987.160045}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:03.381425", "seconds": 3.381425}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 20396, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:07.160366-05:00", "timestamp": 1749991987.160366}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:03.381738", "seconds": 3.381738}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 20396, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:07.160679-05:00", "timestamp": 1749991987.160679}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:03.382013", "seconds": 3.382013}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 20396, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:07.160954-05:00", "timestamp": 1749991987.160954}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:03.584667", "seconds": 3.584667}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 20396, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:07.363608-05:00", "timestamp": 1749991987.363608}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:03.585483", "seconds": 3.585483}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 20396, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:07.364424-05:00", "timestamp": 1749991987.364424}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:03.594559", "seconds": 3.594559}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 20396, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:07.373500-05:00", "timestamp": 1749991987.3735}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:03.796058", "seconds": 3.796058}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 18016, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:53:07.574999-05:00", "timestamp": 1749991987.574999}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.797202", "seconds": 3.797202}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 18016, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:53:07.576143-05:00", "timestamp": 1749991987.576143}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.797912", "seconds": 3.797912}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 18016, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:53:07.576853-05:00", "timestamp": 1749991987.576853}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:03.802916", "seconds": 3.802916}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 26196, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:07.581857-05:00", "timestamp": 1749991987.581857}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:03.999866", "seconds": 3.999866}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 26196, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:07.778807-05:00", "timestamp": 1749991987.778807}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:04.000780", "seconds": 4.00078}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 26196, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:07.779721-05:00", "timestamp": 1749991987.779721}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:04.001111", "seconds": 4.001111}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 26196, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:07.780052-05:00", "timestamp": 1749991987.780052}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:04.001416", "seconds": 4.001416}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 26196, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:07.780357-05:00", "timestamp": 1749991987.780357}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:04.001794", "seconds": 4.001794}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 26196, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:07.780735-05:00", "timestamp": 1749991987.780735}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:04.002116", "seconds": 4.002116}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 26196, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:07.781057-05:00", "timestamp": 1749991987.781057}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:04.002401", "seconds": 4.002401}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 26196, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:07.781342-05:00", "timestamp": 1749991987.781342}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:04.002680", "seconds": 4.00268}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 26196, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:07.781621-05:00", "timestamp": 1749991987.781621}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:04.002956", "seconds": 4.002956}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 26196, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:07.781897-05:00", "timestamp": 1749991987.781897}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:04.003224", "seconds": 4.003224}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 26196, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:07.782165-05:00", "timestamp": 1749991987.782165}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:04.003585", "seconds": 4.003585}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 26196, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:07.782526-05:00", "timestamp": 1749991987.782526}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:04.003917", "seconds": 4.003917}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 26196, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:07.782858-05:00", "timestamp": 1749991987.782858}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:04.004217", "seconds": 4.004217}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 26196, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:07.783158-05:00", "timestamp": 1749991987.783158}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:04.004641", "seconds": 4.004641}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 26196, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:07.783582-05:00", "timestamp": 1749991987.783582}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:04.202440", "seconds": 4.20244}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 26196, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:07.981381-05:00", "timestamp": 1749991987.981381}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:04.203336", "seconds": 4.203336}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 26196, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:07.982277-05:00", "timestamp": 1749991987.982277}}}
{"text": "Received request for secure room analysis\n", "record": {"elapsed": {"repr": "0:00:04.209799", "seconds": 4.209799}, "exception": null, "extra": {"request_id": "2a18b7c6-b96e-4757-8c30-1d10cb3f9aad"}, "file": {"name": "router.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py"}, "function": "analyze_room_secure", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 84, "message": "Received request for secure room analysis", "module": "router", "name": "backend.api.router", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 26196, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:07.988740-05:00", "timestamp": 1749991987.98874}}}
{"text": "Service error during analysis: Invalid file type: text/plain\n", "record": {"elapsed": {"repr": "0:00:04.210832", "seconds": 4.210832}, "exception": null, "extra": {"request_id": "2a18b7c6-b96e-4757-8c30-1d10cb3f9aad"}, "file": {"name": "router.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py"}, "function": "analyze_room_secure", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 103, "message": "Service error during analysis: Invalid file type: text/plain", "module": "router", "name": "backend.api.router", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 26196, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:07.989773-05:00", "timestamp": 1749991987.989773}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:04.213190", "seconds": 4.21319}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 26196, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:07.992131-05:00", "timestamp": 1749991987.992131}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:04.421316", "seconds": 4.421316}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 18016, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:53:08.200257-05:00", "timestamp": 1749991988.200257}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:04.422017", "seconds": 4.422017}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 18016, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:53:08.200958-05:00", "timestamp": 1749991988.200958}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:04.422670", "seconds": 4.42267}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 18016, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:53:08.201611-05:00", "timestamp": 1749991988.201611}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:04.426955", "seconds": 4.426955}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 13620, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:08.205896-05:00", "timestamp": 1749991988.205896}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:04.621379", "seconds": 4.621379}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 13620, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:08.400320-05:00", "timestamp": 1749991988.40032}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:04.622326", "seconds": 4.622326}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 13620, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:08.401267-05:00", "timestamp": 1749991988.401267}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:04.622687", "seconds": 4.622687}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 13620, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:08.401628-05:00", "timestamp": 1749991988.401628}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:04.622988", "seconds": 4.622988}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 13620, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:08.401929-05:00", "timestamp": 1749991988.401929}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:04.623372", "seconds": 4.623372}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 13620, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:08.402313-05:00", "timestamp": 1749991988.402313}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:04.623678", "seconds": 4.623678}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 13620, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:08.402619-05:00", "timestamp": 1749991988.402619}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:04.623967", "seconds": 4.623967}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 13620, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:08.402908-05:00", "timestamp": 1749991988.402908}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:04.624250", "seconds": 4.62425}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 13620, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:08.403191-05:00", "timestamp": 1749991988.403191}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:04.624531", "seconds": 4.624531}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 13620, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:08.403472-05:00", "timestamp": 1749991988.403472}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:04.624801", "seconds": 4.624801}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 13620, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:08.403742-05:00", "timestamp": 1749991988.403742}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:04.625176", "seconds": 4.625176}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 13620, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:08.404117-05:00", "timestamp": 1749991988.404117}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:04.625479", "seconds": 4.625479}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 13620, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:08.404420-05:00", "timestamp": 1749991988.40442}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:04.625783", "seconds": 4.625783}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 13620, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:08.404724-05:00", "timestamp": 1749991988.404724}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:04.626051", "seconds": 4.626051}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 13620, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:08.404992-05:00", "timestamp": 1749991988.404992}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:04.821426", "seconds": 4.821426}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 13620, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:08.600367-05:00", "timestamp": 1749991988.600367}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:04.822320", "seconds": 4.82232}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 13620, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:08.601261-05:00", "timestamp": 1749991988.601261}}}
{"text": "Retrieving 0 items from history.\n", "record": {"elapsed": {"repr": "0:00:04.826249", "seconds": 4.826249}, "exception": null, "extra": {"request_id": "5ead46d4-d8bd-43fb-8bcc-63707109fb82"}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "get_history", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 25, "message": "Retrieving 0 items from history.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 13620, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:08.605190-05:00", "timestamp": 1749991988.60519}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:04.828640", "seconds": 4.82864}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 13620, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:08.607581-05:00", "timestamp": 1749991988.607581}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:05.028724", "seconds": 5.028724}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 18016, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:53:08.807665-05:00", "timestamp": 1749991988.807665}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:05.029642", "seconds": 5.029642}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 18016, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:53:08.808583-05:00", "timestamp": 1749991988.808583}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:05.030296", "seconds": 5.030296}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 18016, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:53:08.809237-05:00", "timestamp": 1749991988.809237}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:05.036077", "seconds": 5.036077}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 21280, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:08.815018-05:00", "timestamp": 1749991988.815018}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:05.229554", "seconds": 5.229554}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 21280, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:09.008495-05:00", "timestamp": 1749991989.008495}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:05.230585", "seconds": 5.230585}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 21280, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:09.009526-05:00", "timestamp": 1749991989.009526}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:05.230981", "seconds": 5.230981}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 21280, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:09.009922-05:00", "timestamp": 1749991989.009922}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:05.231288", "seconds": 5.231288}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 21280, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:09.010229-05:00", "timestamp": 1749991989.010229}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:05.231675", "seconds": 5.231675}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 21280, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:09.010616-05:00", "timestamp": 1749991989.010616}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:05.231991", "seconds": 5.231991}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 21280, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:09.010932-05:00", "timestamp": 1749991989.010932}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:05.232286", "seconds": 5.232286}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 21280, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:09.011227-05:00", "timestamp": 1749991989.011227}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:05.232557", "seconds": 5.232557}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 21280, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:09.011498-05:00", "timestamp": 1749991989.011498}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:05.232828", "seconds": 5.232828}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 21280, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:09.011769-05:00", "timestamp": 1749991989.011769}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:05.233093", "seconds": 5.233093}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 21280, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:09.012034-05:00", "timestamp": 1749991989.012034}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:05.233415", "seconds": 5.233415}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 21280, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:09.012356-05:00", "timestamp": 1749991989.012356}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:05.233742", "seconds": 5.233742}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 21280, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:09.012683-05:00", "timestamp": 1749991989.012683}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:05.234043", "seconds": 5.234043}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 21280, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:09.012984-05:00", "timestamp": 1749991989.012984}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:05.234321", "seconds": 5.234321}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 21280, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:09.013262-05:00", "timestamp": 1749991989.013262}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:05.430037", "seconds": 5.430037}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 21280, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:09.208978-05:00", "timestamp": 1749991989.208978}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:05.430968", "seconds": 5.430968}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 21280, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:09.209909-05:00", "timestamp": 1749991989.209909}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:05.438443", "seconds": 5.438443}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 21280, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:09.217384-05:00", "timestamp": 1749991989.217384}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:05.639381", "seconds": 5.639381}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 18016, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:53:09.418322-05:00", "timestamp": 1749991989.418322}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:05.640132", "seconds": 5.640132}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 18016, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:53:09.419073-05:00", "timestamp": 1749991989.419073}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:05.640812", "seconds": 5.640812}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 18016, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:53:09.419753-05:00", "timestamp": 1749991989.419753}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:05.645940", "seconds": 5.64594}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 28124, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:09.424881-05:00", "timestamp": 1749991989.424881}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:05.839759", "seconds": 5.839759}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 28124, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:09.618700-05:00", "timestamp": 1749991989.6187}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:05.840779", "seconds": 5.840779}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 28124, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:09.619720-05:00", "timestamp": 1749991989.61972}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:05.841148", "seconds": 5.841148}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 28124, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:09.620089-05:00", "timestamp": 1749991989.620089}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:05.841458", "seconds": 5.841458}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 28124, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:09.620399-05:00", "timestamp": 1749991989.620399}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:05.841763", "seconds": 5.841763}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 28124, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:09.620704-05:00", "timestamp": 1749991989.620704}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:05.842057", "seconds": 5.842057}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 28124, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:09.620998-05:00", "timestamp": 1749991989.620998}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:05.842394", "seconds": 5.842394}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 28124, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:09.621335-05:00", "timestamp": 1749991989.621335}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:05.842713", "seconds": 5.842713}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 28124, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:09.621654-05:00", "timestamp": 1749991989.621654}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:05.843004", "seconds": 5.843004}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 28124, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:09.621945-05:00", "timestamp": 1749991989.621945}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:05.843294", "seconds": 5.843294}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 28124, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:09.622235-05:00", "timestamp": 1749991989.622235}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:05.843609", "seconds": 5.843609}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 28124, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:09.622550-05:00", "timestamp": 1749991989.62255}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:05.843900", "seconds": 5.8439}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 28124, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:09.622841-05:00", "timestamp": 1749991989.622841}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:05.844194", "seconds": 5.844194}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 28124, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:09.623135-05:00", "timestamp": 1749991989.623135}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:05.844508", "seconds": 5.844508}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 28124, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:09.623449-05:00", "timestamp": 1749991989.623449}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:06.054660", "seconds": 6.05466}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 28124, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:09.833601-05:00", "timestamp": 1749991989.833601}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:06.055237", "seconds": 6.055237}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 28124, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:09.834178-05:00", "timestamp": 1749991989.834178}}}
{"text": "History cleared. Removed 0 items.\n", "record": {"elapsed": {"repr": "0:00:06.060805", "seconds": 6.060805}, "exception": null, "extra": {"request_id": "ef58b5d9-81dd-4bac-963e-1a19da67928e"}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "clear_history", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "History cleared. Removed 0 items.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 28124, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:09.839746-05:00", "timestamp": 1749991989.839746}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:06.063441", "seconds": 6.063441}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 28124, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:09.842382-05:00", "timestamp": 1749991989.842382}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:06.263370", "seconds": 6.26337}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 18016, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:53:10.042311-05:00", "timestamp": 1749991990.042311}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:06.264020", "seconds": 6.26402}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 18016, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:53:10.042961-05:00", "timestamp": 1749991990.042961}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:06.264482", "seconds": 6.264482}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 18016, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:53:10.043423-05:00", "timestamp": 1749991990.043423}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:06.270116", "seconds": 6.270116}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 19364, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:10.049057-05:00", "timestamp": 1749991990.049057}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:06.466965", "seconds": 6.466965}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 19364, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:10.245906-05:00", "timestamp": 1749991990.245906}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:06.468018", "seconds": 6.468018}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 19364, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:10.246959-05:00", "timestamp": 1749991990.246959}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:06.468477", "seconds": 6.468477}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 19364, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:10.247418-05:00", "timestamp": 1749991990.247418}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:06.469131", "seconds": 6.469131}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 48, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 19364, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:10.248072-05:00", "timestamp": 1749991990.248072}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:06.469552", "seconds": 6.469552}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 19364, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:10.248493-05:00", "timestamp": 1749991990.248493}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:06.469856", "seconds": 6.469856}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 19364, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:10.248797-05:00", "timestamp": 1749991990.248797}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:06.470156", "seconds": 6.470156}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 19364, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:10.249097-05:00", "timestamp": 1749991990.249097}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:06.470509", "seconds": 6.470509}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 19364, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:10.249450-05:00", "timestamp": 1749991990.24945}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:06.470817", "seconds": 6.470817}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 19364, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:10.249758-05:00", "timestamp": 1749991990.249758}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:06.471108", "seconds": 6.471108}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 19364, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:10.250049-05:00", "timestamp": 1749991990.250049}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:06.471449", "seconds": 6.471449}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 19364, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:10.250390-05:00", "timestamp": 1749991990.25039}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:06.471752", "seconds": 6.471752}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 19364, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:10.250693-05:00", "timestamp": 1749991990.250693}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:06.472044", "seconds": 6.472044}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 19364, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:10.250985-05:00", "timestamp": 1749991990.250985}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:06.472322", "seconds": 6.472322}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 19364, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:10.251263-05:00", "timestamp": 1749991990.251263}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:06.669427", "seconds": 6.669427}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 19364, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:10.448368-05:00", "timestamp": 1749991990.448368}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:06.670417", "seconds": 6.670417}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 19364, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:10.449358-05:00", "timestamp": 1749991990.449358}}}
{"text": "Retrieving 0 items from history.\n", "record": {"elapsed": {"repr": "0:00:06.674779", "seconds": 6.674779}, "exception": null, "extra": {"request_id": "3476cd30-2d86-4397-afc5-36be65d19f30"}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "get_history", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 25, "message": "Retrieving 0 items from history.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 19364, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:10.453720-05:00", "timestamp": 1749991990.45372}}}
{"text": "Received request for secure room analysis\n", "record": {"elapsed": {"repr": "0:00:06.679303", "seconds": 6.679303}, "exception": null, "extra": {"request_id": "27ed0d10-a196-43ee-8efe-69e9654e7814"}, "file": {"name": "router.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py"}, "function": "analyze_room_secure", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 84, "message": "Received request for secure room analysis", "module": "router", "name": "backend.api.router", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 19364, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:10.458244-05:00", "timestamp": 1749991990.458244}}}
{"text": "Retrieving 0 items from history.\n", "record": {"elapsed": {"repr": "0:00:06.681559", "seconds": 6.681559}, "exception": null, "extra": {"request_id": "890ee505-2800-43e7-b867-a7c803cf0709"}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "get_history", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 25, "message": "Retrieving 0 items from history.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 19364, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:10.460500-05:00", "timestamp": 1749991990.4605}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:06.825882", "seconds": 6.825882}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 13332, "name": "MainProcess"}, "thread": {"id": 19364, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:53:10.604823-05:00", "timestamp": 1749991990.604823}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.473856", "seconds": 2.473856}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 10596, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:25.915433-05:00", "timestamp": 1749992065.915433}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:02.689585", "seconds": 2.689585}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 10596, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:26.131162-05:00", "timestamp": 1749992066.131162}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.690557", "seconds": 2.690557}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 10596, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:26.132134-05:00", "timestamp": 1749992066.132134}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.690929", "seconds": 2.690929}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 10596, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:26.132506-05:00", "timestamp": 1749992066.132506}}}
{"text": "Initializing application state.\n", "record": {"elapsed": {"repr": "0:00:02.691328", "seconds": 2.691328}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Initializing application state.", "module": "state", "name": "backend.core.state", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 10596, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:26.132905-05:00", "timestamp": 1749992066.132905}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.691695", "seconds": 2.691695}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 10596, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:26.133272-05:00", "timestamp": 1749992066.133272}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.692004", "seconds": 2.692004}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 10596, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:26.133581-05:00", "timestamp": 1749992066.133581}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.692290", "seconds": 2.69229}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 10596, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:26.133867-05:00", "timestamp": 1749992066.133867}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.692612", "seconds": 2.692612}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 10596, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:26.134189-05:00", "timestamp": 1749992066.134189}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.692893", "seconds": 2.692893}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 10596, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:26.134470-05:00", "timestamp": 1749992066.13447}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.693160", "seconds": 2.69316}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 10596, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:26.134737-05:00", "timestamp": 1749992066.134737}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.693517", "seconds": 2.693517}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 10596, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:26.135094-05:00", "timestamp": 1749992066.135094}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.693833", "seconds": 2.693833}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 10596, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:26.135410-05:00", "timestamp": 1749992066.13541}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.694142", "seconds": 2.694142}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 10596, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:26.135719-05:00", "timestamp": 1749992066.135719}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.694436", "seconds": 2.694436}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 10596, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:26.136013-05:00", "timestamp": 1749992066.136013}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.891000", "seconds": 2.891}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 10596, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:26.332577-05:00", "timestamp": 1749992066.332577}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.892261", "seconds": 2.892261}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 10596, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:26.333838-05:00", "timestamp": 1749992066.333838}}}
{"text": "Received request for secure room analysis\n", "record": {"elapsed": {"repr": "0:00:02.901083", "seconds": 2.901083}, "exception": null, "extra": {"request_id": "3644dce6-a164-44fb-ab14-0bd93753ea64"}, "file": {"name": "router.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py"}, "function": "analyze_room_secure", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 84, "message": "Received request for secure room analysis", "module": "router", "name": "backend.api.router", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 10596, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:26.342660-05:00", "timestamp": 1749992066.34266}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.907879", "seconds": 2.907879}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 10596, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:26.349456-05:00", "timestamp": 1749992066.349456}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:03.114146", "seconds": 3.114146}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4236, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:54:26.555723-05:00", "timestamp": 1749992066.555723}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.115193", "seconds": 3.115193}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4236, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:54:26.556770-05:00", "timestamp": 1749992066.55677}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.115863", "seconds": 3.115863}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4236, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:54:26.557440-05:00", "timestamp": 1749992066.55744}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:03.176230", "seconds": 3.17623}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 2672, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:26.617807-05:00", "timestamp": 1749992066.617807}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:03.373507", "seconds": 3.373507}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 2672, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:26.815084-05:00", "timestamp": 1749992066.815084}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.374419", "seconds": 3.374419}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 2672, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:26.815996-05:00", "timestamp": 1749992066.815996}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.374756", "seconds": 3.374756}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 2672, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:26.816333-05:00", "timestamp": 1749992066.816333}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:03.375078", "seconds": 3.375078}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 50, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 2672, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:26.816655-05:00", "timestamp": 1749992066.816655}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:03.375474", "seconds": 3.375474}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 2672, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:26.817051-05:00", "timestamp": 1749992066.817051}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:03.375788", "seconds": 3.375788}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 2672, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:26.817365-05:00", "timestamp": 1749992066.817365}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:03.376110", "seconds": 3.37611}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 2672, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:26.817687-05:00", "timestamp": 1749992066.817687}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:03.376447", "seconds": 3.376447}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 2672, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:26.818024-05:00", "timestamp": 1749992066.818024}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:03.376745", "seconds": 3.376745}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 2672, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:26.818322-05:00", "timestamp": 1749992066.818322}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:03.377043", "seconds": 3.377043}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 2672, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:26.818620-05:00", "timestamp": 1749992066.81862}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:03.377386", "seconds": 3.377386}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 2672, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:26.818963-05:00", "timestamp": 1749992066.818963}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:03.377754", "seconds": 3.377754}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 2672, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:26.819331-05:00", "timestamp": 1749992066.819331}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:03.378095", "seconds": 3.378095}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 2672, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:26.819672-05:00", "timestamp": 1749992066.819672}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:03.378398", "seconds": 3.378398}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 2672, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:26.819975-05:00", "timestamp": 1749992066.819975}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:03.574788", "seconds": 3.574788}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 2672, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:27.016365-05:00", "timestamp": 1749992067.016365}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:03.575696", "seconds": 3.575696}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 2672, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:27.017273-05:00", "timestamp": 1749992067.017273}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:03.585937", "seconds": 3.585937}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 2672, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:27.027514-05:00", "timestamp": 1749992067.027514}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:03.798427", "seconds": 3.798427}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4236, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:54:27.240004-05:00", "timestamp": 1749992067.240004}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.799428", "seconds": 3.799428}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4236, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:54:27.241005-05:00", "timestamp": 1749992067.241005}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.800068", "seconds": 3.800068}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4236, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:54:27.241645-05:00", "timestamp": 1749992067.241645}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:03.806188", "seconds": 3.806188}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 26588, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:27.247765-05:00", "timestamp": 1749992067.247765}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:04.004416", "seconds": 4.004416}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 26588, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:27.445993-05:00", "timestamp": 1749992067.445993}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:04.005442", "seconds": 4.005442}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 26588, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:27.447019-05:00", "timestamp": 1749992067.447019}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:04.005816", "seconds": 4.005816}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 26588, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:27.447393-05:00", "timestamp": 1749992067.447393}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:04.006111", "seconds": 4.006111}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 50, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 26588, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:27.447688-05:00", "timestamp": 1749992067.447688}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:04.006405", "seconds": 4.006405}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 26588, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:27.447982-05:00", "timestamp": 1749992067.447982}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:04.006691", "seconds": 4.006691}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 26588, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:27.448268-05:00", "timestamp": 1749992067.448268}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:04.007017", "seconds": 4.007017}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 26588, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:27.448594-05:00", "timestamp": 1749992067.448594}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:04.007305", "seconds": 4.007305}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 26588, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:27.448882-05:00", "timestamp": 1749992067.448882}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:04.007585", "seconds": 4.007585}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 26588, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:27.449162-05:00", "timestamp": 1749992067.449162}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:04.007854", "seconds": 4.007854}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 26588, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:27.449431-05:00", "timestamp": 1749992067.449431}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:04.008168", "seconds": 4.008168}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 26588, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:27.449745-05:00", "timestamp": 1749992067.449745}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:04.008463", "seconds": 4.008463}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 26588, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:27.450040-05:00", "timestamp": 1749992067.45004}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:04.008775", "seconds": 4.008775}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 26588, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:27.450352-05:00", "timestamp": 1749992067.450352}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:04.009052", "seconds": 4.009052}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 26588, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:27.450629-05:00", "timestamp": 1749992067.450629}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:04.204668", "seconds": 4.204668}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 26588, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:27.646245-05:00", "timestamp": 1749992067.646245}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:04.205653", "seconds": 4.205653}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 26588, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:27.647230-05:00", "timestamp": 1749992067.64723}}}
{"text": "Received request for secure room analysis\n", "record": {"elapsed": {"repr": "0:00:04.212703", "seconds": 4.212703}, "exception": null, "extra": {"request_id": "f6ff4eb3-462b-4ed4-8fc6-b48ac8e7849b"}, "file": {"name": "router.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py"}, "function": "analyze_room_secure", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 84, "message": "Received request for secure room analysis", "module": "router", "name": "backend.api.router", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 26588, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:27.654280-05:00", "timestamp": 1749992067.65428}}}
{"text": "Service error during analysis: Invalid file type: text/plain\n", "record": {"elapsed": {"repr": "0:00:04.214297", "seconds": 4.214297}, "exception": null, "extra": {"request_id": "f6ff4eb3-462b-4ed4-8fc6-b48ac8e7849b"}, "file": {"name": "router.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py"}, "function": "analyze_room_secure", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 103, "message": "Service error during analysis: Invalid file type: text/plain", "module": "router", "name": "backend.api.router", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 26588, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:27.655874-05:00", "timestamp": 1749992067.655874}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:04.216712", "seconds": 4.216712}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 26588, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:27.658289-05:00", "timestamp": 1749992067.658289}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:04.422393", "seconds": 4.422393}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4236, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:54:27.863970-05:00", "timestamp": 1749992067.86397}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:04.423436", "seconds": 4.423436}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4236, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:54:27.865013-05:00", "timestamp": 1749992067.865013}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:04.424033", "seconds": 4.424033}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4236, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:54:27.865610-05:00", "timestamp": 1749992067.86561}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:04.429888", "seconds": 4.429888}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 11840, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:27.871465-05:00", "timestamp": 1749992067.871465}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:04.624814", "seconds": 4.624814}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 11840, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:28.066391-05:00", "timestamp": 1749992068.066391}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:04.625791", "seconds": 4.625791}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 11840, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:28.067368-05:00", "timestamp": 1749992068.067368}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:04.626147", "seconds": 4.626147}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 11840, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:28.067724-05:00", "timestamp": 1749992068.067724}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:04.626452", "seconds": 4.626452}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 50, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 11840, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:28.068029-05:00", "timestamp": 1749992068.068029}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:04.626772", "seconds": 4.626772}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 11840, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:28.068349-05:00", "timestamp": 1749992068.068349}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:04.627063", "seconds": 4.627063}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 11840, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:28.068640-05:00", "timestamp": 1749992068.06864}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:04.627378", "seconds": 4.627378}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 11840, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:28.068955-05:00", "timestamp": 1749992068.068955}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:04.627678", "seconds": 4.627678}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 11840, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:28.069255-05:00", "timestamp": 1749992068.069255}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:04.627970", "seconds": 4.62797}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 11840, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:28.069547-05:00", "timestamp": 1749992068.069547}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:04.628253", "seconds": 4.628253}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 11840, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:28.069830-05:00", "timestamp": 1749992068.06983}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:04.628577", "seconds": 4.628577}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 11840, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:28.070154-05:00", "timestamp": 1749992068.070154}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:04.628891", "seconds": 4.628891}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 11840, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:28.070468-05:00", "timestamp": 1749992068.070468}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:04.629215", "seconds": 4.629215}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 11840, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:28.070792-05:00", "timestamp": 1749992068.070792}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:04.629507", "seconds": 4.629507}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 11840, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:28.071084-05:00", "timestamp": 1749992068.071084}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:04.827890", "seconds": 4.82789}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 11840, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:28.269467-05:00", "timestamp": 1749992068.269467}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:04.828790", "seconds": 4.82879}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 11840, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:28.270367-05:00", "timestamp": 1749992068.270367}}}
{"text": "Retrieving 0 items from history.\n", "record": {"elapsed": {"repr": "0:00:04.833070", "seconds": 4.83307}, "exception": null, "extra": {"request_id": "2b2fdb0e-fb0d-4b38-89fb-b3f5265319f1"}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "get_history", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 25, "message": "Retrieving 0 items from history.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 11840, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:28.274647-05:00", "timestamp": 1749992068.274647}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:04.835198", "seconds": 4.835198}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 11840, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:28.276775-05:00", "timestamp": 1749992068.276775}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:05.057638", "seconds": 5.057638}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4236, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:54:28.499215-05:00", "timestamp": 1749992068.499215}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:05.058645", "seconds": 5.058645}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4236, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:54:28.500222-05:00", "timestamp": 1749992068.500222}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:05.059238", "seconds": 5.059238}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4236, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:54:28.500815-05:00", "timestamp": 1749992068.500815}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:05.064796", "seconds": 5.064796}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 2644, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:28.506373-05:00", "timestamp": 1749992068.506373}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:05.261769", "seconds": 5.261769}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 2644, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:28.703346-05:00", "timestamp": 1749992068.703346}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:05.262863", "seconds": 5.262863}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 2644, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:28.704440-05:00", "timestamp": 1749992068.70444}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:05.263265", "seconds": 5.263265}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 2644, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:28.704842-05:00", "timestamp": 1749992068.704842}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:05.263963", "seconds": 5.263963}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 50, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 2644, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:28.705540-05:00", "timestamp": 1749992068.70554}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:05.264450", "seconds": 5.26445}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 2644, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:28.706027-05:00", "timestamp": 1749992068.706027}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:05.264774", "seconds": 5.264774}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 2644, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:28.706351-05:00", "timestamp": 1749992068.706351}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:05.265062", "seconds": 5.265062}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 2644, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:28.706639-05:00", "timestamp": 1749992068.706639}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:05.265418", "seconds": 5.265418}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 2644, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:28.706995-05:00", "timestamp": 1749992068.706995}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:05.265733", "seconds": 5.265733}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 2644, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:28.707310-05:00", "timestamp": 1749992068.70731}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:05.266013", "seconds": 5.266013}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 2644, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:28.707590-05:00", "timestamp": 1749992068.70759}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:05.266333", "seconds": 5.266333}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 2644, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:28.707910-05:00", "timestamp": 1749992068.70791}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:05.266624", "seconds": 5.266624}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 2644, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:28.708201-05:00", "timestamp": 1749992068.708201}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:05.266920", "seconds": 5.26692}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 2644, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:28.708497-05:00", "timestamp": 1749992068.708497}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:05.267199", "seconds": 5.267199}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 2644, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:28.708776-05:00", "timestamp": 1749992068.708776}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:05.463170", "seconds": 5.46317}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 2644, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:28.904747-05:00", "timestamp": 1749992068.904747}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:05.464110", "seconds": 5.46411}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 2644, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:28.905687-05:00", "timestamp": 1749992068.905687}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:05.470668", "seconds": 5.470668}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 2644, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:28.912245-05:00", "timestamp": 1749992068.912245}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:05.670206", "seconds": 5.670206}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4236, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:54:29.111783-05:00", "timestamp": 1749992069.111783}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:05.670871", "seconds": 5.670871}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4236, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:54:29.112448-05:00", "timestamp": 1749992069.112448}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:05.671334", "seconds": 5.671334}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4236, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:54:29.112911-05:00", "timestamp": 1749992069.112911}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:05.676632", "seconds": 5.676632}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 21908, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:29.118209-05:00", "timestamp": 1749992069.118209}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:05.870442", "seconds": 5.870442}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 21908, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:29.312019-05:00", "timestamp": 1749992069.312019}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:05.871378", "seconds": 5.871378}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 21908, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:29.312955-05:00", "timestamp": 1749992069.312955}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:05.871722", "seconds": 5.871722}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 21908, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:29.313299-05:00", "timestamp": 1749992069.313299}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:05.872117", "seconds": 5.872117}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 50, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 21908, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:29.313694-05:00", "timestamp": 1749992069.313694}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:05.872438", "seconds": 5.872438}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 21908, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:29.314015-05:00", "timestamp": 1749992069.314015}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:05.872732", "seconds": 5.872732}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 21908, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:29.314309-05:00", "timestamp": 1749992069.314309}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:05.873020", "seconds": 5.87302}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 21908, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:29.314597-05:00", "timestamp": 1749992069.314597}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:05.873305", "seconds": 5.873305}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 21908, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:29.314882-05:00", "timestamp": 1749992069.314882}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:05.873587", "seconds": 5.873587}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 21908, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:29.315164-05:00", "timestamp": 1749992069.315164}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:05.873906", "seconds": 5.873906}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 21908, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:29.315483-05:00", "timestamp": 1749992069.315483}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:05.874274", "seconds": 5.874274}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 21908, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:29.315851-05:00", "timestamp": 1749992069.315851}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:05.874577", "seconds": 5.874577}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 21908, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:29.316154-05:00", "timestamp": 1749992069.316154}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:05.874882", "seconds": 5.874882}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 21908, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:29.316459-05:00", "timestamp": 1749992069.316459}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:05.875176", "seconds": 5.875176}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 21908, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:29.316753-05:00", "timestamp": 1749992069.316753}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:06.083550", "seconds": 6.08355}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 21908, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:29.525127-05:00", "timestamp": 1749992069.525127}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:06.084550", "seconds": 6.08455}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 21908, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:29.526127-05:00", "timestamp": 1749992069.526127}}}
{"text": "History cleared. Removed 0 items.\n", "record": {"elapsed": {"repr": "0:00:06.088916", "seconds": 6.088916}, "exception": null, "extra": {"request_id": "e1c43b8f-9974-43a9-8129-74684313a95a"}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "clear_history", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "History cleared. Removed 0 items.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 21908, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:29.530493-05:00", "timestamp": 1749992069.530493}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:06.091114", "seconds": 6.091114}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 21908, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:29.532691-05:00", "timestamp": 1749992069.532691}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:06.292537", "seconds": 6.292537}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4236, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:54:29.734114-05:00", "timestamp": 1749992069.734114}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:06.293744", "seconds": 6.293744}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4236, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:54:29.735321-05:00", "timestamp": 1749992069.735321}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:06.294521", "seconds": 6.294521}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4236, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:54:29.736098-05:00", "timestamp": 1749992069.736098}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:06.299325", "seconds": 6.299325}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4732, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:29.740902-05:00", "timestamp": 1749992069.740902}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:06.496300", "seconds": 6.4963}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4732, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:29.937877-05:00", "timestamp": 1749992069.937877}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:06.497240", "seconds": 6.49724}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4732, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:29.938817-05:00", "timestamp": 1749992069.938817}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:06.497561", "seconds": 6.497561}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4732, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:29.939138-05:00", "timestamp": 1749992069.939138}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:06.497871", "seconds": 6.497871}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 50, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4732, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:29.939448-05:00", "timestamp": 1749992069.939448}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:06.498249", "seconds": 6.498249}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4732, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:29.939826-05:00", "timestamp": 1749992069.939826}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:06.498548", "seconds": 6.498548}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4732, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:29.940125-05:00", "timestamp": 1749992069.940125}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:06.498824", "seconds": 6.498824}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4732, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:29.940401-05:00", "timestamp": 1749992069.940401}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:06.499101", "seconds": 6.499101}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4732, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:29.940678-05:00", "timestamp": 1749992069.940678}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:06.499379", "seconds": 6.499379}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4732, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:29.940956-05:00", "timestamp": 1749992069.940956}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:06.499648", "seconds": 6.499648}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4732, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:29.941225-05:00", "timestamp": 1749992069.941225}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:06.499998", "seconds": 6.499998}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4732, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:29.941575-05:00", "timestamp": 1749992069.941575}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:06.500317", "seconds": 6.500317}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4732, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:29.941894-05:00", "timestamp": 1749992069.941894}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:06.500637", "seconds": 6.500637}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4732, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:29.942214-05:00", "timestamp": 1749992069.942214}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:06.500907", "seconds": 6.500907}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4732, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:29.942484-05:00", "timestamp": 1749992069.942484}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:06.697145", "seconds": 6.697145}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4732, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:30.138722-05:00", "timestamp": 1749992070.138722}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:06.697717", "seconds": 6.697717}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4732, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:30.139294-05:00", "timestamp": 1749992070.139294}}}
{"text": "Retrieving 0 items from history.\n", "record": {"elapsed": {"repr": "0:00:06.701473", "seconds": 6.701473}, "exception": null, "extra": {"request_id": "a37c37a1-ff91-42ec-92cf-33a7ad57a5ca"}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "get_history", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 25, "message": "Retrieving 0 items from history.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4732, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:30.143050-05:00", "timestamp": 1749992070.14305}}}
{"text": "Received request for secure room analysis\n", "record": {"elapsed": {"repr": "0:00:06.706666", "seconds": 6.706666}, "exception": null, "extra": {"request_id": "aa214054-bdd7-434a-99a7-67dbbe59c1fe"}, "file": {"name": "router.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py"}, "function": "analyze_room_secure", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 84, "message": "Received request for secure room analysis", "module": "router", "name": "backend.api.router", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4732, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:30.148243-05:00", "timestamp": 1749992070.148243}}}
{"text": "Retrieving 0 items from history.\n", "record": {"elapsed": {"repr": "0:00:06.710020", "seconds": 6.71002}, "exception": null, "extra": {"request_id": "463d09fc-c418-4f61-a989-058a6a4c9364"}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "get_history", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 25, "message": "Retrieving 0 items from history.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4732, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:30.151597-05:00", "timestamp": 1749992070.151597}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:06.852770", "seconds": 6.85277}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 8156, "name": "MainProcess"}, "thread": {"id": 4732, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:54:30.294347-05:00", "timestamp": 1749992070.294347}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.244204", "seconds": 2.244204}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.133767-05:00", "timestamp": 1749992204.133767}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:02.246199", "seconds": 2.246199}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.135762-05:00", "timestamp": 1749992204.135762}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.246653", "seconds": 2.246653}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.136216-05:00", "timestamp": 1749992204.136216}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.246972", "seconds": 2.246972}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.136535-05:00", "timestamp": 1749992204.136535}}}
{"text": "Initializing application state.\n", "record": {"elapsed": {"repr": "0:00:02.247351", "seconds": 2.247351}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Initializing application state.", "module": "state", "name": "backend.core.state", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.136914-05:00", "timestamp": 1749992204.136914}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.247657", "seconds": 2.247657}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.137220-05:00", "timestamp": 1749992204.13722}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.247943", "seconds": 2.247943}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.137506-05:00", "timestamp": 1749992204.137506}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.248257", "seconds": 2.248257}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.137820-05:00", "timestamp": 1749992204.13782}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.248650", "seconds": 2.24865}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.138213-05:00", "timestamp": 1749992204.138213}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.248953", "seconds": 2.248953}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.138516-05:00", "timestamp": 1749992204.138516}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.249244", "seconds": 2.249244}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.138807-05:00", "timestamp": 1749992204.138807}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.249646", "seconds": 2.249646}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.139209-05:00", "timestamp": 1749992204.139209}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.249995", "seconds": 2.249995}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.139558-05:00", "timestamp": 1749992204.139558}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.250313", "seconds": 2.250313}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.139876-05:00", "timestamp": 1749992204.139876}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.250623", "seconds": 2.250623}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.140186-05:00", "timestamp": 1749992204.140186}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.551545", "seconds": 2.551545}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.441108-05:00", "timestamp": 1749992204.441108}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.552476", "seconds": 2.552476}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.442039-05:00", "timestamp": 1749992204.442039}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.564719", "seconds": 2.564719}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 17444, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.454282-05:00", "timestamp": 1749992204.454282}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:02.573845", "seconds": 2.573845}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8072, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:56:44.463408-05:00", "timestamp": 1749992204.463408}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.574560", "seconds": 2.57456}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8072, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:56:44.464123-05:00", "timestamp": 1749992204.464123}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.575033", "seconds": 2.575033}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8072, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:56:44.464596-05:00", "timestamp": 1749992204.464596}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.580459", "seconds": 2.580459}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8460, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.470022-05:00", "timestamp": 1749992204.470022}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:02.581026", "seconds": 2.581026}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8460, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.470589-05:00", "timestamp": 1749992204.470589}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.581341", "seconds": 2.581341}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8460, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.470904-05:00", "timestamp": 1749992204.470904}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.581680", "seconds": 2.58168}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8460, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.471243-05:00", "timestamp": 1749992204.471243}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:02.581984", "seconds": 2.581984}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 50, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8460, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.471547-05:00", "timestamp": 1749992204.471547}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.582284", "seconds": 2.582284}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8460, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.471847-05:00", "timestamp": 1749992204.471847}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.582565", "seconds": 2.582565}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8460, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.472128-05:00", "timestamp": 1749992204.472128}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.582839", "seconds": 2.582839}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8460, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.472402-05:00", "timestamp": 1749992204.472402}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.583111", "seconds": 2.583111}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8460, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.472674-05:00", "timestamp": 1749992204.472674}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.583410", "seconds": 2.58341}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8460, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.472973-05:00", "timestamp": 1749992204.472973}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.583681", "seconds": 2.583681}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8460, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.473244-05:00", "timestamp": 1749992204.473244}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.583977", "seconds": 2.583977}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8460, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.473540-05:00", "timestamp": 1749992204.47354}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.584275", "seconds": 2.584275}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8460, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.473838-05:00", "timestamp": 1749992204.473838}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.584572", "seconds": 2.584572}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8460, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.474135-05:00", "timestamp": 1749992204.474135}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.584886", "seconds": 2.584886}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8460, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.474449-05:00", "timestamp": 1749992204.474449}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.785095", "seconds": 2.785095}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8460, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.674658-05:00", "timestamp": 1749992204.674658}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.786010", "seconds": 2.78601}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8460, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.675573-05:00", "timestamp": 1749992204.675573}}}
{"text": "Received request for secure room analysis\n", "record": {"elapsed": {"repr": "0:00:02.794007", "seconds": 2.794007}, "exception": null, "extra": {"request_id": "401d218a-1824-47f6-87bf-73a4dc354ed4"}, "file": {"name": "router.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py"}, "function": "analyze_room_secure", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 84, "message": "Received request for secure room analysis", "module": "router", "name": "backend.api.router", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8460, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.683570-05:00", "timestamp": 1749992204.68357}}}
{"text": "Service error during analysis: Invalid file type: text/plain\n", "record": {"elapsed": {"repr": "0:00:02.796287", "seconds": 2.796287}, "exception": null, "extra": {"request_id": "401d218a-1824-47f6-87bf-73a4dc354ed4"}, "file": {"name": "router.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py"}, "function": "analyze_room_secure", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 103, "message": "Service error during analysis: Invalid file type: text/plain", "module": "router", "name": "backend.api.router", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8460, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.685850-05:00", "timestamp": 1749992204.68585}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.798758", "seconds": 2.798758}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8460, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.688321-05:00", "timestamp": 1749992204.688321}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:02.804871", "seconds": 2.804871}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8072, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:56:44.694434-05:00", "timestamp": 1749992204.694434}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.805420", "seconds": 2.80542}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8072, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:56:44.694983-05:00", "timestamp": 1749992204.694983}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.805807", "seconds": 2.805807}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8072, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:56:44.695370-05:00", "timestamp": 1749992204.69537}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.810414", "seconds": 2.810414}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8740, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.699977-05:00", "timestamp": 1749992204.699977}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:02.810953", "seconds": 2.810953}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8740, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.700516-05:00", "timestamp": 1749992204.700516}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.811272", "seconds": 2.811272}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8740, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.700835-05:00", "timestamp": 1749992204.700835}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.811604", "seconds": 2.811604}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8740, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.701167-05:00", "timestamp": 1749992204.701167}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:02.811901", "seconds": 2.811901}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 50, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8740, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.701464-05:00", "timestamp": 1749992204.701464}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.812187", "seconds": 2.812187}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8740, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.701750-05:00", "timestamp": 1749992204.70175}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.812480", "seconds": 2.81248}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8740, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.702043-05:00", "timestamp": 1749992204.702043}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.812751", "seconds": 2.812751}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8740, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.702314-05:00", "timestamp": 1749992204.702314}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.813030", "seconds": 2.81303}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8740, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.702593-05:00", "timestamp": 1749992204.702593}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.813338", "seconds": 2.813338}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8740, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.702901-05:00", "timestamp": 1749992204.702901}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.813620", "seconds": 2.81362}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8740, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.703183-05:00", "timestamp": 1749992204.703183}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.813957", "seconds": 2.813957}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8740, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.703520-05:00", "timestamp": 1749992204.70352}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.814256", "seconds": 2.814256}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8740, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.703819-05:00", "timestamp": 1749992204.703819}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.814573", "seconds": 2.814573}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8740, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.704136-05:00", "timestamp": 1749992204.704136}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.814872", "seconds": 2.814872}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8740, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.704435-05:00", "timestamp": 1749992204.704435}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:03.011819", "seconds": 3.011819}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8740, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.901382-05:00", "timestamp": 1749992204.901382}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:03.012765", "seconds": 3.012765}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8740, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.902328-05:00", "timestamp": 1749992204.902328}}}
{"text": "Retrieving 0 items from history.\n", "record": {"elapsed": {"repr": "0:00:03.017805", "seconds": 3.017805}, "exception": null, "extra": {"request_id": "9ec76c3c-4da8-4cd1-96b8-8bb9dde4c20f"}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "get_history", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 25, "message": "Retrieving 0 items from history.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8740, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.907368-05:00", "timestamp": 1749992204.907368}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:03.020446", "seconds": 3.020446}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8740, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.910009-05:00", "timestamp": 1749992204.910009}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:03.025014", "seconds": 3.025014}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8072, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:56:44.914577-05:00", "timestamp": 1749992204.914577}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.025585", "seconds": 3.025585}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8072, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:56:44.915148-05:00", "timestamp": 1749992204.915148}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.026044", "seconds": 3.026044}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8072, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:56:44.915607-05:00", "timestamp": 1749992204.915607}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:03.031296", "seconds": 3.031296}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 25820, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.920859-05:00", "timestamp": 1749992204.920859}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:03.031864", "seconds": 3.031864}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 25820, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.921427-05:00", "timestamp": 1749992204.921427}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.032197", "seconds": 3.032197}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 25820, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.921760-05:00", "timestamp": 1749992204.92176}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.032512", "seconds": 3.032512}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 25820, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.922075-05:00", "timestamp": 1749992204.922075}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:03.032846", "seconds": 3.032846}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 50, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 25820, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.922409-05:00", "timestamp": 1749992204.922409}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:03.033141", "seconds": 3.033141}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 25820, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.922704-05:00", "timestamp": 1749992204.922704}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:03.033481", "seconds": 3.033481}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 25820, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.923044-05:00", "timestamp": 1749992204.923044}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:03.033768", "seconds": 3.033768}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 25820, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.923331-05:00", "timestamp": 1749992204.923331}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:03.034047", "seconds": 3.034047}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 25820, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.923610-05:00", "timestamp": 1749992204.92361}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:03.034345", "seconds": 3.034345}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 25820, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.923908-05:00", "timestamp": 1749992204.923908}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:03.034662", "seconds": 3.034662}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 25820, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.924225-05:00", "timestamp": 1749992204.924225}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:03.034984", "seconds": 3.034984}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 25820, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.924547-05:00", "timestamp": 1749992204.924547}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:03.035286", "seconds": 3.035286}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 25820, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.924849-05:00", "timestamp": 1749992204.924849}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:03.035580", "seconds": 3.03558}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 25820, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.925143-05:00", "timestamp": 1749992204.925143}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:03.035850", "seconds": 3.03585}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 25820, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:44.925413-05:00", "timestamp": 1749992204.925413}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:03.235771", "seconds": 3.235771}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 25820, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.125334-05:00", "timestamp": 1749992205.125334}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:03.236657", "seconds": 3.236657}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 25820, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.126220-05:00", "timestamp": 1749992205.12622}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:03.244417", "seconds": 3.244417}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 25820, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.133980-05:00", "timestamp": 1749992205.13398}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:03.250363", "seconds": 3.250363}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8072, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:56:45.139926-05:00", "timestamp": 1749992205.139926}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.250956", "seconds": 3.250956}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8072, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:56:45.140519-05:00", "timestamp": 1749992205.140519}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.251367", "seconds": 3.251367}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8072, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:56:45.140930-05:00", "timestamp": 1749992205.14093}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:03.256646", "seconds": 3.256646}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 16628, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.146209-05:00", "timestamp": 1749992205.146209}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:03.257212", "seconds": 3.257212}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 16628, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.146775-05:00", "timestamp": 1749992205.146775}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.257537", "seconds": 3.257537}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 16628, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.147100-05:00", "timestamp": 1749992205.1471}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.257831", "seconds": 3.257831}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 16628, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.147394-05:00", "timestamp": 1749992205.147394}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:03.258130", "seconds": 3.25813}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 50, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 16628, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.147693-05:00", "timestamp": 1749992205.147693}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:03.258483", "seconds": 3.258483}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 16628, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.148046-05:00", "timestamp": 1749992205.148046}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:03.258822", "seconds": 3.258822}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 16628, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.148385-05:00", "timestamp": 1749992205.148385}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:03.259116", "seconds": 3.259116}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 16628, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.148679-05:00", "timestamp": 1749992205.148679}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:03.259435", "seconds": 3.259435}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 16628, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.148998-05:00", "timestamp": 1749992205.148998}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:03.259742", "seconds": 3.259742}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 16628, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.149305-05:00", "timestamp": 1749992205.149305}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:03.260026", "seconds": 3.260026}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 16628, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.149589-05:00", "timestamp": 1749992205.149589}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:03.260428", "seconds": 3.260428}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 16628, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.149991-05:00", "timestamp": 1749992205.149991}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:03.260931", "seconds": 3.260931}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 16628, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.150494-05:00", "timestamp": 1749992205.150494}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:03.261359", "seconds": 3.261359}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 16628, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.150922-05:00", "timestamp": 1749992205.150922}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:03.261676", "seconds": 3.261676}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 16628, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.151239-05:00", "timestamp": 1749992205.151239}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:03.460256", "seconds": 3.460256}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 16628, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.349819-05:00", "timestamp": 1749992205.349819}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:03.461174", "seconds": 3.461174}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 16628, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.350737-05:00", "timestamp": 1749992205.350737}}}
{"text": "History cleared. Removed 0 items.\n", "record": {"elapsed": {"repr": "0:00:03.466547", "seconds": 3.466547}, "exception": null, "extra": {"request_id": "f45ff621-630d-4b4b-ab11-eb441cc24dda"}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "clear_history", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "History cleared. Removed 0 items.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 16628, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.356110-05:00", "timestamp": 1749992205.35611}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:03.469148", "seconds": 3.469148}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 16628, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.358711-05:00", "timestamp": 1749992205.358711}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:03.474334", "seconds": 3.474334}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8072, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:56:45.363897-05:00", "timestamp": 1749992205.363897}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.474827", "seconds": 3.474827}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8072, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:56:45.364390-05:00", "timestamp": 1749992205.36439}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.475261", "seconds": 3.475261}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 8072, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:56:45.364824-05:00", "timestamp": 1749992205.364824}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:03.480468", "seconds": 3.480468}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 19892, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.370031-05:00", "timestamp": 1749992205.370031}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:03.481049", "seconds": 3.481049}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 19892, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.370612-05:00", "timestamp": 1749992205.370612}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.481454", "seconds": 3.481454}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 19892, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.371017-05:00", "timestamp": 1749992205.371017}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.481780", "seconds": 3.48178}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 19892, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.371343-05:00", "timestamp": 1749992205.371343}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:03.482076", "seconds": 3.482076}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 50, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 19892, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.371639-05:00", "timestamp": 1749992205.371639}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:03.482376", "seconds": 3.482376}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 19892, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.371939-05:00", "timestamp": 1749992205.371939}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:03.482679", "seconds": 3.482679}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 19892, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.372242-05:00", "timestamp": 1749992205.372242}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:03.483142", "seconds": 3.483142}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 19892, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.372705-05:00", "timestamp": 1749992205.372705}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:03.483565", "seconds": 3.483565}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 19892, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.373128-05:00", "timestamp": 1749992205.373128}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:03.483926", "seconds": 3.483926}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 19892, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.373489-05:00", "timestamp": 1749992205.373489}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:03.484229", "seconds": 3.484229}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 19892, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.373792-05:00", "timestamp": 1749992205.373792}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:03.484555", "seconds": 3.484555}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 19892, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.374118-05:00", "timestamp": 1749992205.374118}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:03.484874", "seconds": 3.484874}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 19892, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.374437-05:00", "timestamp": 1749992205.374437}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:03.485185", "seconds": 3.485185}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 19892, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.374748-05:00", "timestamp": 1749992205.374748}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:03.485478", "seconds": 3.485478}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 19892, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.375041-05:00", "timestamp": 1749992205.375041}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:03.682796", "seconds": 3.682796}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 19892, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.572359-05:00", "timestamp": 1749992205.572359}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:03.683683", "seconds": 3.683683}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 19892, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.573246-05:00", "timestamp": 1749992205.573246}}}
{"text": "Retrieving 0 items from history.\n", "record": {"elapsed": {"repr": "0:00:03.688106", "seconds": 3.688106}, "exception": null, "extra": {"request_id": "45fd00f6-15f4-4aab-94fb-a2ddfab9e127"}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "get_history", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 25, "message": "Retrieving 0 items from history.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 19892, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.577669-05:00", "timestamp": 1749992205.577669}}}
{"text": "Received request for secure room analysis\n", "record": {"elapsed": {"repr": "0:00:03.692874", "seconds": 3.692874}, "exception": null, "extra": {"request_id": "8fcffe69-34f9-4e9d-8cca-b6bf49cf57c2"}, "file": {"name": "router.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py"}, "function": "analyze_room_secure", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 84, "message": "Received request for secure room analysis", "module": "router", "name": "backend.api.router", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 19892, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.582437-05:00", "timestamp": 1749992205.582437}}}
{"text": "Retrieving 0 items from history.\n", "record": {"elapsed": {"repr": "0:00:03.695526", "seconds": 3.695526}, "exception": null, "extra": {"request_id": "a0d660bc-77e0-462d-8ce3-161fbeb32fd9"}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "get_history", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 25, "message": "Retrieving 0 items from history.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 19892, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.585089-05:00", "timestamp": 1749992205.585089}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:03.841045", "seconds": 3.841045}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 17388, "name": "MainProcess"}, "thread": {"id": 19892, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:56:45.730608-05:00", "timestamp": 1749992205.730608}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.211918", "seconds": 2.211918}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 27064, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:23.655485-05:00", "timestamp": 1749992243.655485}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:02.213971", "seconds": 2.213971}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 27064, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:23.657538-05:00", "timestamp": 1749992243.657538}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.214649", "seconds": 2.214649}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 27064, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:23.658216-05:00", "timestamp": 1749992243.658216}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.215271", "seconds": 2.215271}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 27064, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:23.658838-05:00", "timestamp": 1749992243.658838}}}
{"text": "Initializing application state.\n", "record": {"elapsed": {"repr": "0:00:02.215653", "seconds": 2.215653}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Initializing application state.", "module": "state", "name": "backend.core.state", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 27064, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:23.659220-05:00", "timestamp": 1749992243.65922}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.215997", "seconds": 2.215997}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 27064, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:23.659564-05:00", "timestamp": 1749992243.659564}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.216287", "seconds": 2.216287}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 27064, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:23.659854-05:00", "timestamp": 1749992243.659854}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.216577", "seconds": 2.216577}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 27064, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:23.660144-05:00", "timestamp": 1749992243.660144}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.216890", "seconds": 2.21689}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 27064, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:23.660457-05:00", "timestamp": 1749992243.660457}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.217203", "seconds": 2.217203}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 27064, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:23.660770-05:00", "timestamp": 1749992243.66077}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.217490", "seconds": 2.21749}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 27064, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:23.661057-05:00", "timestamp": 1749992243.661057}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.217819", "seconds": 2.217819}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 27064, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:23.661386-05:00", "timestamp": 1749992243.661386}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.218130", "seconds": 2.21813}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 27064, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:23.661697-05:00", "timestamp": 1749992243.661697}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.218438", "seconds": 2.218438}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 27064, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:23.662005-05:00", "timestamp": 1749992243.662005}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.218717", "seconds": 2.218717}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 27064, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:23.662284-05:00", "timestamp": 1749992243.662284}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.537534", "seconds": 2.537534}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 27064, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:23.981101-05:00", "timestamp": 1749992243.981101}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.538504", "seconds": 2.538504}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 27064, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:23.982071-05:00", "timestamp": 1749992243.982071}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.553622", "seconds": 2.553622}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 27064, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:23.997189-05:00", "timestamp": 1749992243.997189}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:02.563346", "seconds": 2.563346}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 9116, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:57:24.006913-05:00", "timestamp": 1749992244.006913}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.564093", "seconds": 2.564093}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 9116, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:57:24.007660-05:00", "timestamp": 1749992244.00766}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.564561", "seconds": 2.564561}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 9116, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:57:24.008128-05:00", "timestamp": 1749992244.008128}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.570802", "seconds": 2.570802}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 13640, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.014369-05:00", "timestamp": 1749992244.014369}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:02.571399", "seconds": 2.571399}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 13640, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.014966-05:00", "timestamp": 1749992244.014966}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.571719", "seconds": 2.571719}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 13640, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.015286-05:00", "timestamp": 1749992244.015286}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.572033", "seconds": 2.572033}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 13640, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.015600-05:00", "timestamp": 1749992244.0156}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:02.572323", "seconds": 2.572323}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 50, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 13640, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.015890-05:00", "timestamp": 1749992244.01589}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.572652", "seconds": 2.572652}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 13640, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.016219-05:00", "timestamp": 1749992244.016219}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.572955", "seconds": 2.572955}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 13640, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.016522-05:00", "timestamp": 1749992244.016522}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.573248", "seconds": 2.573248}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 13640, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.016815-05:00", "timestamp": 1749992244.016815}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.573604", "seconds": 2.573604}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 13640, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.017171-05:00", "timestamp": 1749992244.017171}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.573934", "seconds": 2.573934}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 13640, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.017501-05:00", "timestamp": 1749992244.017501}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.574217", "seconds": 2.574217}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 13640, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.017784-05:00", "timestamp": 1749992244.017784}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.574573", "seconds": 2.574573}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 13640, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.018140-05:00", "timestamp": 1749992244.01814}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.574879", "seconds": 2.574879}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 13640, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.018446-05:00", "timestamp": 1749992244.018446}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.575177", "seconds": 2.575177}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 13640, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.018744-05:00", "timestamp": 1749992244.018744}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.575452", "seconds": 2.575452}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 13640, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.019019-05:00", "timestamp": 1749992244.019019}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.777032", "seconds": 2.777032}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 13640, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.220599-05:00", "timestamp": 1749992244.220599}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.777875", "seconds": 2.777875}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 13640, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.221442-05:00", "timestamp": 1749992244.221442}}}
{"text": "Received request for secure room analysis\n", "record": {"elapsed": {"repr": "0:00:02.785712", "seconds": 2.785712}, "exception": null, "extra": {"request_id": "5b29903d-6154-406b-971f-74091a679acc"}, "file": {"name": "router.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py"}, "function": "analyze_room_secure", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 84, "message": "Received request for secure room analysis", "module": "router", "name": "backend.api.router", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 13640, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.229279-05:00", "timestamp": 1749992244.229279}}}
{"text": "Service error during analysis: Invalid file type: text/plain\n", "record": {"elapsed": {"repr": "0:00:02.788320", "seconds": 2.78832}, "exception": null, "extra": {"request_id": "5b29903d-6154-406b-971f-74091a679acc"}, "file": {"name": "router.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py"}, "function": "analyze_room_secure", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 103, "message": "Service error during analysis: Invalid file type: text/plain", "module": "router", "name": "backend.api.router", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 13640, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.231887-05:00", "timestamp": 1749992244.231887}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.791328", "seconds": 2.791328}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 13640, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.234895-05:00", "timestamp": 1749992244.234895}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:02.797382", "seconds": 2.797382}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 9116, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:57:24.240949-05:00", "timestamp": 1749992244.240949}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.798092", "seconds": 2.798092}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 9116, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:57:24.241659-05:00", "timestamp": 1749992244.241659}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.798596", "seconds": 2.798596}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 9116, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:57:24.242163-05:00", "timestamp": 1749992244.242163}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.803700", "seconds": 2.8037}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20396, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.247267-05:00", "timestamp": 1749992244.247267}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:02.804327", "seconds": 2.804327}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20396, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.247894-05:00", "timestamp": 1749992244.247894}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.804670", "seconds": 2.80467}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20396, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.248237-05:00", "timestamp": 1749992244.248237}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.804997", "seconds": 2.804997}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20396, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.248564-05:00", "timestamp": 1749992244.248564}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:02.805306", "seconds": 2.805306}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 50, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20396, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.248873-05:00", "timestamp": 1749992244.248873}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.805652", "seconds": 2.805652}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20396, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.249219-05:00", "timestamp": 1749992244.249219}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.805948", "seconds": 2.805948}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20396, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.249515-05:00", "timestamp": 1749992244.249515}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.806229", "seconds": 2.806229}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20396, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.249796-05:00", "timestamp": 1749992244.249796}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.806510", "seconds": 2.80651}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20396, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.250077-05:00", "timestamp": 1749992244.250077}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.806795", "seconds": 2.806795}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20396, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.250362-05:00", "timestamp": 1749992244.250362}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.807063", "seconds": 2.807063}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20396, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.250630-05:00", "timestamp": 1749992244.25063}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.807399", "seconds": 2.807399}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20396, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.250966-05:00", "timestamp": 1749992244.250966}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.807702", "seconds": 2.807702}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20396, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.251269-05:00", "timestamp": 1749992244.251269}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.808003", "seconds": 2.808003}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20396, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.251570-05:00", "timestamp": 1749992244.25157}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.808283", "seconds": 2.808283}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20396, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.251850-05:00", "timestamp": 1749992244.25185}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:03.005840", "seconds": 3.00584}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20396, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.449407-05:00", "timestamp": 1749992244.449407}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:03.006795", "seconds": 3.006795}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20396, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.450362-05:00", "timestamp": 1749992244.450362}}}
{"text": "Retrieving 0 items from history.\n", "record": {"elapsed": {"repr": "0:00:03.011033", "seconds": 3.011033}, "exception": null, "extra": {"request_id": "db637ca0-ef7e-4a48-bcba-169b933895d2"}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "get_history", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 25, "message": "Retrieving 0 items from history.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20396, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.454600-05:00", "timestamp": 1749992244.4546}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:03.014274", "seconds": 3.014274}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20396, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.457841-05:00", "timestamp": 1749992244.457841}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:03.019768", "seconds": 3.019768}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 9116, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:57:24.463335-05:00", "timestamp": 1749992244.463335}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.020529", "seconds": 3.020529}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 9116, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:57:24.464096-05:00", "timestamp": 1749992244.464096}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.020987", "seconds": 3.020987}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 9116, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:57:24.464554-05:00", "timestamp": 1749992244.464554}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:03.026663", "seconds": 3.026663}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 1972, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.470230-05:00", "timestamp": 1749992244.47023}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:03.027377", "seconds": 3.027377}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 1972, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.470944-05:00", "timestamp": 1749992244.470944}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.027809", "seconds": 3.027809}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 1972, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.471376-05:00", "timestamp": 1749992244.471376}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.028189", "seconds": 3.028189}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 1972, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.471756-05:00", "timestamp": 1749992244.471756}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:03.028510", "seconds": 3.02851}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 50, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 1972, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.472077-05:00", "timestamp": 1749992244.472077}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:03.028877", "seconds": 3.028877}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 1972, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.472444-05:00", "timestamp": 1749992244.472444}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:03.029236", "seconds": 3.029236}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 1972, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.472803-05:00", "timestamp": 1749992244.472803}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:03.029522", "seconds": 3.029522}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 1972, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.473089-05:00", "timestamp": 1749992244.473089}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:03.029812", "seconds": 3.029812}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 1972, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.473379-05:00", "timestamp": 1749992244.473379}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:03.030136", "seconds": 3.030136}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 1972, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.473703-05:00", "timestamp": 1749992244.473703}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:03.030429", "seconds": 3.030429}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 1972, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.473996-05:00", "timestamp": 1749992244.473996}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:03.030747", "seconds": 3.030747}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 1972, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.474314-05:00", "timestamp": 1749992244.474314}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:03.031121", "seconds": 3.031121}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 1972, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.474688-05:00", "timestamp": 1749992244.474688}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:03.031429", "seconds": 3.031429}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 1972, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.474996-05:00", "timestamp": 1749992244.474996}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:03.031702", "seconds": 3.031702}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 1972, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.475269-05:00", "timestamp": 1749992244.475269}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:03.230545", "seconds": 3.230545}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 1972, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.674112-05:00", "timestamp": 1749992244.674112}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:03.231128", "seconds": 3.231128}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 1972, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.674695-05:00", "timestamp": 1749992244.674695}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:03.237909", "seconds": 3.237909}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 1972, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.681476-05:00", "timestamp": 1749992244.681476}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:03.243086", "seconds": 3.243086}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 9116, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:57:24.686653-05:00", "timestamp": 1749992244.686653}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.243649", "seconds": 3.243649}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 9116, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:57:24.687216-05:00", "timestamp": 1749992244.687216}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.244075", "seconds": 3.244075}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 9116, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:57:24.687642-05:00", "timestamp": 1749992244.687642}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:03.248089", "seconds": 3.248089}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 27372, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.691656-05:00", "timestamp": 1749992244.691656}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:03.248579", "seconds": 3.248579}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 27372, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.692146-05:00", "timestamp": 1749992244.692146}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.248967", "seconds": 3.248967}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 27372, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.692534-05:00", "timestamp": 1749992244.692534}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.249271", "seconds": 3.249271}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 27372, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.692838-05:00", "timestamp": 1749992244.692838}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:03.249558", "seconds": 3.249558}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 50, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 27372, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.693125-05:00", "timestamp": 1749992244.693125}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:03.249865", "seconds": 3.249865}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 27372, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.693432-05:00", "timestamp": 1749992244.693432}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:03.250149", "seconds": 3.250149}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 27372, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.693716-05:00", "timestamp": 1749992244.693716}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:03.250423", "seconds": 3.250423}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 27372, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.693990-05:00", "timestamp": 1749992244.69399}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:03.250730", "seconds": 3.25073}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 27372, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.694297-05:00", "timestamp": 1749992244.694297}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:03.251021", "seconds": 3.251021}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 27372, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.694588-05:00", "timestamp": 1749992244.694588}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:03.251296", "seconds": 3.251296}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 27372, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.694863-05:00", "timestamp": 1749992244.694863}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:03.251603", "seconds": 3.251603}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 27372, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.695170-05:00", "timestamp": 1749992244.69517}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:03.251900", "seconds": 3.2519}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 27372, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.695467-05:00", "timestamp": 1749992244.695467}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:03.252190", "seconds": 3.25219}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 27372, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.695757-05:00", "timestamp": 1749992244.695757}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:03.252474", "seconds": 3.252474}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 27372, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.696041-05:00", "timestamp": 1749992244.696041}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:03.450618", "seconds": 3.450618}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 27372, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.894185-05:00", "timestamp": 1749992244.894185}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:03.451558", "seconds": 3.451558}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 27372, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.895125-05:00", "timestamp": 1749992244.895125}}}
{"text": "History cleared. Removed 0 items.\n", "record": {"elapsed": {"repr": "0:00:03.456934", "seconds": 3.456934}, "exception": null, "extra": {"request_id": "59989d18-45d4-4797-a7b6-eb950eac5d1c"}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "clear_history", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "History cleared. Removed 0 items.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 27372, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.900501-05:00", "timestamp": 1749992244.900501}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:03.459630", "seconds": 3.45963}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 27372, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.903197-05:00", "timestamp": 1749992244.903197}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:03.464315", "seconds": 3.464315}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 9116, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:57:24.907882-05:00", "timestamp": 1749992244.907882}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.464881", "seconds": 3.464881}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 9116, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:57:24.908448-05:00", "timestamp": 1749992244.908448}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.465284", "seconds": 3.465284}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 9116, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:57:24.908851-05:00", "timestamp": 1749992244.908851}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:03.469680", "seconds": 3.46968}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20428, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.913247-05:00", "timestamp": 1749992244.913247}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:03.470243", "seconds": 3.470243}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20428, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.913810-05:00", "timestamp": 1749992244.91381}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.470594", "seconds": 3.470594}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20428, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.914161-05:00", "timestamp": 1749992244.914161}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.470957", "seconds": 3.470957}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20428, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.914524-05:00", "timestamp": 1749992244.914524}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:03.471269", "seconds": 3.471269}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 50, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20428, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.914836-05:00", "timestamp": 1749992244.914836}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:03.471577", "seconds": 3.471577}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20428, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.915144-05:00", "timestamp": 1749992244.915144}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:03.471874", "seconds": 3.471874}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20428, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.915441-05:00", "timestamp": 1749992244.915441}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:03.472173", "seconds": 3.472173}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20428, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.915740-05:00", "timestamp": 1749992244.91574}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:03.472495", "seconds": 3.472495}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20428, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.916062-05:00", "timestamp": 1749992244.916062}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:03.472784", "seconds": 3.472784}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20428, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.916351-05:00", "timestamp": 1749992244.916351}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:03.473051", "seconds": 3.473051}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20428, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.916618-05:00", "timestamp": 1749992244.916618}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:03.473375", "seconds": 3.473375}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20428, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.916942-05:00", "timestamp": 1749992244.916942}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:03.473686", "seconds": 3.473686}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20428, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.917253-05:00", "timestamp": 1749992244.917253}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:03.473984", "seconds": 3.473984}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20428, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.917551-05:00", "timestamp": 1749992244.917551}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:03.474337", "seconds": 3.474337}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20428, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:24.917904-05:00", "timestamp": 1749992244.917904}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:03.674391", "seconds": 3.674391}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20428, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:25.117958-05:00", "timestamp": 1749992245.117958}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:03.675352", "seconds": 3.675352}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20428, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:25.118919-05:00", "timestamp": 1749992245.118919}}}
{"text": "Retrieving 0 items from history.\n", "record": {"elapsed": {"repr": "0:00:03.680048", "seconds": 3.680048}, "exception": null, "extra": {"request_id": "5338245f-653d-4e5a-bee0-4fc97675266c"}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "get_history", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 25, "message": "Retrieving 0 items from history.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20428, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:25.123615-05:00", "timestamp": 1749992245.123615}}}
{"text": "Received request for secure room analysis\n", "record": {"elapsed": {"repr": "0:00:03.685039", "seconds": 3.685039}, "exception": null, "extra": {"request_id": "212f1de0-f959-4831-b6ab-20f09d889c96"}, "file": {"name": "router.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py"}, "function": "analyze_room_secure", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 84, "message": "Received request for secure room analysis", "module": "router", "name": "backend.api.router", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20428, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:25.128606-05:00", "timestamp": 1749992245.128606}}}
{"text": "pyvips not available, returning original image bytes. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:03.695623", "seconds": 3.695623}, "exception": null, "extra": {"request_id": "212f1de0-f959-4831-b6ab-20f09d889c96"}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "resize_image_with_vips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 42, "message": "pyvips not available, returning original image bytes. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20428, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:25.139190-05:00", "timestamp": 1749992245.13919}}}
{"text": "Added item to history. History now contains 1 items.\n", "record": {"elapsed": {"repr": "0:00:03.696567", "seconds": 3.696567}, "exception": null, "extra": {"request_id": "212f1de0-f959-4831-b6ab-20f09d889c96"}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "add_to_history", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 21, "message": "Added item to history. History now contains 1 items.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20428, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:25.140134-05:00", "timestamp": 1749992245.140134}}}
{"text": "Retrieving 1 items from history.\n", "record": {"elapsed": {"repr": "0:00:03.699264", "seconds": 3.699264}, "exception": null, "extra": {"request_id": "f16ab7a1-d342-448f-8bbb-6c3aeb9a95dc"}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "get_history", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 25, "message": "Retrieving 1 items from history.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20428, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:25.142831-05:00", "timestamp": 1749992245.142831}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:03.846306", "seconds": 3.846306}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 26544, "name": "MainProcess"}, "thread": {"id": 20428, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:25.289873-05:00", "timestamp": 1749992245.289873}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.213096", "seconds": 2.213096}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 23980, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:42.618137-05:00", "timestamp": 1749992262.618137}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:02.214985", "seconds": 2.214985}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 23980, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:42.620026-05:00", "timestamp": 1749992262.620026}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.215388", "seconds": 2.215388}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 23980, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:42.620429-05:00", "timestamp": 1749992262.620429}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.215701", "seconds": 2.215701}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 23980, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:42.620742-05:00", "timestamp": 1749992262.620742}}}
{"text": "Initializing application state.\n", "record": {"elapsed": {"repr": "0:00:02.216058", "seconds": 2.216058}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Initializing application state.", "module": "state", "name": "backend.core.state", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 23980, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:42.621099-05:00", "timestamp": 1749992262.621099}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.216378", "seconds": 2.216378}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 23980, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:42.621419-05:00", "timestamp": 1749992262.621419}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.216674", "seconds": 2.216674}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 23980, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:42.621715-05:00", "timestamp": 1749992262.621715}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.216989", "seconds": 2.216989}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 23980, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:42.622030-05:00", "timestamp": 1749992262.62203}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.217350", "seconds": 2.21735}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 23980, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:42.622391-05:00", "timestamp": 1749992262.622391}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.217657", "seconds": 2.217657}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 23980, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:42.622698-05:00", "timestamp": 1749992262.622698}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.218163", "seconds": 2.218163}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 23980, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:42.623204-05:00", "timestamp": 1749992262.623204}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.218614", "seconds": 2.218614}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 23980, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:42.623655-05:00", "timestamp": 1749992262.623655}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.218951", "seconds": 2.218951}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 23980, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:42.623992-05:00", "timestamp": 1749992262.623992}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.219272", "seconds": 2.219272}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 23980, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:42.624313-05:00", "timestamp": 1749992262.624313}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.219580", "seconds": 2.21958}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 23980, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:42.624621-05:00", "timestamp": 1749992262.624621}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.549254", "seconds": 2.549254}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 23980, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:42.954295-05:00", "timestamp": 1749992262.954295}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.550189", "seconds": 2.550189}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 23980, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:42.955230-05:00", "timestamp": 1749992262.95523}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.563341", "seconds": 2.563341}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 23980, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:42.968382-05:00", "timestamp": 1749992262.968382}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:02.572714", "seconds": 2.572714}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 7372, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:57:42.977755-05:00", "timestamp": 1749992262.977755}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.573292", "seconds": 2.573292}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 7372, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:57:42.978333-05:00", "timestamp": 1749992262.978333}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.573798", "seconds": 2.573798}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 7372, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:57:42.978839-05:00", "timestamp": 1749992262.978839}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.578204", "seconds": 2.578204}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 21992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:42.983245-05:00", "timestamp": 1749992262.983245}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:02.578803", "seconds": 2.578803}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 21992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:42.983844-05:00", "timestamp": 1749992262.983844}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.579251", "seconds": 2.579251}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 21992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:42.984292-05:00", "timestamp": 1749992262.984292}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.579768", "seconds": 2.579768}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 21992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:42.984809-05:00", "timestamp": 1749992262.984809}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:02.580211", "seconds": 2.580211}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 50, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 21992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:42.985252-05:00", "timestamp": 1749992262.985252}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.580549", "seconds": 2.580549}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 21992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:42.985590-05:00", "timestamp": 1749992262.98559}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.580855", "seconds": 2.580855}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 21992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:42.985896-05:00", "timestamp": 1749992262.985896}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.581148", "seconds": 2.581148}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 21992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:42.986189-05:00", "timestamp": 1749992262.986189}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.581437", "seconds": 2.581437}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 21992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:42.986478-05:00", "timestamp": 1749992262.986478}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.581722", "seconds": 2.581722}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 21992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:42.986763-05:00", "timestamp": 1749992262.986763}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.582029", "seconds": 2.582029}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 21992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:42.987070-05:00", "timestamp": 1749992262.98707}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.582355", "seconds": 2.582355}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 21992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:42.987396-05:00", "timestamp": 1749992262.987396}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.582652", "seconds": 2.582652}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 21992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:42.987693-05:00", "timestamp": 1749992262.987693}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.582947", "seconds": 2.582947}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 21992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:42.987988-05:00", "timestamp": 1749992262.987988}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.583289", "seconds": 2.583289}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 21992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:42.988330-05:00", "timestamp": 1749992262.98833}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.785234", "seconds": 2.785234}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 21992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.190275-05:00", "timestamp": 1749992263.190275}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.785822", "seconds": 2.785822}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 21992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.190863-05:00", "timestamp": 1749992263.190863}}}
{"text": "Received request for secure room analysis\n", "record": {"elapsed": {"repr": "0:00:02.792408", "seconds": 2.792408}, "exception": null, "extra": {"request_id": "9739e094-82c3-4f85-83c5-a339ea1146ef"}, "file": {"name": "router.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py"}, "function": "analyze_room_secure", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 84, "message": "Received request for secure room analysis", "module": "router", "name": "backend.api.router", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 21992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.197449-05:00", "timestamp": 1749992263.197449}}}
{"text": "Service error during analysis: Invalid file type: text/plain\n", "record": {"elapsed": {"repr": "0:00:02.794788", "seconds": 2.794788}, "exception": null, "extra": {"request_id": "9739e094-82c3-4f85-83c5-a339ea1146ef"}, "file": {"name": "router.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py"}, "function": "analyze_room_secure", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 103, "message": "Service error during analysis: Invalid file type: text/plain", "module": "router", "name": "backend.api.router", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 21992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.199829-05:00", "timestamp": 1749992263.199829}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.797914", "seconds": 2.797914}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 21992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.202955-05:00", "timestamp": 1749992263.202955}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:02.803804", "seconds": 2.803804}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 7372, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:57:43.208845-05:00", "timestamp": 1749992263.208845}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.804553", "seconds": 2.804553}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 7372, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:57:43.209594-05:00", "timestamp": 1749992263.209594}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.805044", "seconds": 2.805044}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 7372, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:57:43.210085-05:00", "timestamp": 1749992263.210085}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.810076", "seconds": 2.810076}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 12924, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.215117-05:00", "timestamp": 1749992263.215117}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:02.810678", "seconds": 2.810678}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 12924, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.215719-05:00", "timestamp": 1749992263.215719}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.811012", "seconds": 2.811012}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 12924, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.216053-05:00", "timestamp": 1749992263.216053}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.811311", "seconds": 2.811311}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 12924, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.216352-05:00", "timestamp": 1749992263.216352}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:02.811651", "seconds": 2.811651}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 50, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 12924, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.216692-05:00", "timestamp": 1749992263.216692}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.811953", "seconds": 2.811953}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 12924, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.216994-05:00", "timestamp": 1749992263.216994}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.812232", "seconds": 2.812232}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 12924, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.217273-05:00", "timestamp": 1749992263.217273}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.812504", "seconds": 2.812504}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 12924, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.217545-05:00", "timestamp": 1749992263.217545}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.812792", "seconds": 2.812792}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 12924, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.217833-05:00", "timestamp": 1749992263.217833}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.813075", "seconds": 2.813075}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 12924, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.218116-05:00", "timestamp": 1749992263.218116}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.813377", "seconds": 2.813377}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 12924, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.218418-05:00", "timestamp": 1749992263.218418}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.813770", "seconds": 2.81377}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 12924, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.218811-05:00", "timestamp": 1749992263.218811}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.814109", "seconds": 2.814109}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 12924, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.219150-05:00", "timestamp": 1749992263.21915}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.814420", "seconds": 2.81442}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 12924, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.219461-05:00", "timestamp": 1749992263.219461}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.814730", "seconds": 2.81473}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 12924, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.219771-05:00", "timestamp": 1749992263.219771}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:03.014530", "seconds": 3.01453}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 12924, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.419571-05:00", "timestamp": 1749992263.419571}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:03.015436", "seconds": 3.015436}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 12924, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.420477-05:00", "timestamp": 1749992263.420477}}}
{"text": "Retrieving 0 items from history.\n", "record": {"elapsed": {"repr": "0:00:03.020344", "seconds": 3.020344}, "exception": null, "extra": {"request_id": "e24b8663-e652-4a2f-92e7-72ca495b29a4"}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "get_history", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 25, "message": "Retrieving 0 items from history.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 12924, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.425385-05:00", "timestamp": 1749992263.425385}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:03.022996", "seconds": 3.022996}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 12924, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.428037-05:00", "timestamp": 1749992263.428037}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:03.028388", "seconds": 3.028388}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 7372, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:57:43.433429-05:00", "timestamp": 1749992263.433429}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.028878", "seconds": 3.028878}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 7372, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:57:43.433919-05:00", "timestamp": 1749992263.433919}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.029287", "seconds": 3.029287}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 7372, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:57:43.434328-05:00", "timestamp": 1749992263.434328}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:03.034626", "seconds": 3.034626}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 22244, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.439667-05:00", "timestamp": 1749992263.439667}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:03.035195", "seconds": 3.035195}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 22244, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.440236-05:00", "timestamp": 1749992263.440236}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.035525", "seconds": 3.035525}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 22244, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.440566-05:00", "timestamp": 1749992263.440566}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.035834", "seconds": 3.035834}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 22244, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.440875-05:00", "timestamp": 1749992263.440875}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:03.036184", "seconds": 3.036184}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 50, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 22244, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.441225-05:00", "timestamp": 1749992263.441225}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:03.036494", "seconds": 3.036494}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 22244, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.441535-05:00", "timestamp": 1749992263.441535}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:03.036789", "seconds": 3.036789}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 22244, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.441830-05:00", "timestamp": 1749992263.44183}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:03.037070", "seconds": 3.03707}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 22244, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.442111-05:00", "timestamp": 1749992263.442111}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:03.037351", "seconds": 3.037351}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 22244, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.442392-05:00", "timestamp": 1749992263.442392}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:03.037639", "seconds": 3.037639}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 22244, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.442680-05:00", "timestamp": 1749992263.44268}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:03.037941", "seconds": 3.037941}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 22244, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.442982-05:00", "timestamp": 1749992263.442982}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:03.038328", "seconds": 3.038328}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 22244, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.443369-05:00", "timestamp": 1749992263.443369}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:03.038667", "seconds": 3.038667}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 22244, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.443708-05:00", "timestamp": 1749992263.443708}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:03.038993", "seconds": 3.038993}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 22244, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.444034-05:00", "timestamp": 1749992263.444034}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:03.039285", "seconds": 3.039285}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 22244, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.444326-05:00", "timestamp": 1749992263.444326}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:03.237902", "seconds": 3.237902}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 22244, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.642943-05:00", "timestamp": 1749992263.642943}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:03.238788", "seconds": 3.238788}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 22244, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.643829-05:00", "timestamp": 1749992263.643829}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:03.244996", "seconds": 3.244996}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 22244, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.650037-05:00", "timestamp": 1749992263.650037}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:03.250346", "seconds": 3.250346}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 7372, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:57:43.655387-05:00", "timestamp": 1749992263.655387}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.250932", "seconds": 3.250932}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 7372, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:57:43.655973-05:00", "timestamp": 1749992263.655973}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.251364", "seconds": 3.251364}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 7372, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:57:43.656405-05:00", "timestamp": 1749992263.656405}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:03.256146", "seconds": 3.256146}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 27588, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.661187-05:00", "timestamp": 1749992263.661187}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:03.256762", "seconds": 3.256762}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 27588, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.661803-05:00", "timestamp": 1749992263.661803}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.257097", "seconds": 3.257097}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 27588, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.662138-05:00", "timestamp": 1749992263.662138}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.257400", "seconds": 3.2574}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 27588, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.662441-05:00", "timestamp": 1749992263.662441}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:03.257681", "seconds": 3.257681}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 50, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 27588, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.662722-05:00", "timestamp": 1749992263.662722}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:03.257962", "seconds": 3.257962}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 27588, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.663003-05:00", "timestamp": 1749992263.663003}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:03.258269", "seconds": 3.258269}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 27588, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.663310-05:00", "timestamp": 1749992263.66331}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:03.258551", "seconds": 3.258551}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 27588, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.663592-05:00", "timestamp": 1749992263.663592}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:03.258845", "seconds": 3.258845}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 27588, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.663886-05:00", "timestamp": 1749992263.663886}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:03.259126", "seconds": 3.259126}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 27588, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.664167-05:00", "timestamp": 1749992263.664167}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:03.259401", "seconds": 3.259401}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 27588, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.664442-05:00", "timestamp": 1749992263.664442}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:03.259705", "seconds": 3.259705}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 27588, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.664746-05:00", "timestamp": 1749992263.664746}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:03.260010", "seconds": 3.26001}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 27588, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.665051-05:00", "timestamp": 1749992263.665051}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:03.260375", "seconds": 3.260375}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 27588, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.665416-05:00", "timestamp": 1749992263.665416}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:03.260668", "seconds": 3.260668}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 27588, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.665709-05:00", "timestamp": 1749992263.665709}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:03.458963", "seconds": 3.458963}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 27588, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.864004-05:00", "timestamp": 1749992263.864004}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:03.459855", "seconds": 3.459855}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 27588, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.864896-05:00", "timestamp": 1749992263.864896}}}
{"text": "History cleared. Removed 0 items.\n", "record": {"elapsed": {"repr": "0:00:03.466071", "seconds": 3.466071}, "exception": null, "extra": {"request_id": "771a57dc-64d0-498a-a540-2377578c3c7b"}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "clear_history", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "History cleared. Removed 0 items.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 27588, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.871112-05:00", "timestamp": 1749992263.871112}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:03.468901", "seconds": 3.468901}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 27588, "name": "Thread-7 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.873942-05:00", "timestamp": 1749992263.873942}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:03.474125", "seconds": 3.474125}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 7372, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:57:43.879166-05:00", "timestamp": 1749992263.879166}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.474602", "seconds": 3.474602}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 7372, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:57:43.879643-05:00", "timestamp": 1749992263.879643}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.474984", "seconds": 3.474984}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 7372, "name": "MainThread"}, "time": {"repr": "2025-06-15 07:57:43.880025-05:00", "timestamp": 1749992263.880025}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:03.479837", "seconds": 3.479837}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 11996, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.884878-05:00", "timestamp": 1749992263.884878}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:03.480377", "seconds": 3.480377}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 11996, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.885418-05:00", "timestamp": 1749992263.885418}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.480768", "seconds": 3.480768}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 11996, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.885809-05:00", "timestamp": 1749992263.885809}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.481085", "seconds": 3.481085}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 11996, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.886126-05:00", "timestamp": 1749992263.886126}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:03.481379", "seconds": 3.481379}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\core\\state.py"}, "function": "initialize_state", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 50, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "backend.core.state", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 11996, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.886420-05:00", "timestamp": 1749992263.88642}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:03.481684", "seconds": 3.481684}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 11996, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.886725-05:00", "timestamp": 1749992263.886725}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:03.481966", "seconds": 3.481966}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 11996, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.887007-05:00", "timestamp": 1749992263.887007}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:03.482284", "seconds": 3.482284}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: test_model", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 11996, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.887325-05:00", "timestamp": 1749992263.887325}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:03.482574", "seconds": 3.482574}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: True", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 11996, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.887615-05:00", "timestamp": 1749992263.887615}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:03.482847", "seconds": 3.482847}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 11996, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.887888-05:00", "timestamp": 1749992263.887888}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:03.483124", "seconds": 3.483124}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 11996, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.888165-05:00", "timestamp": 1749992263.888165}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:03.483451", "seconds": 3.483451}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 11996, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.888492-05:00", "timestamp": 1749992263.888492}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:03.483791", "seconds": 3.483791}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 11996, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.888832-05:00", "timestamp": 1749992263.888832}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:03.484223", "seconds": 3.484223}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 11996, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.889264-05:00", "timestamp": 1749992263.889264}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:03.484623", "seconds": 3.484623}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 11996, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:43.889664-05:00", "timestamp": 1749992263.889664}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:03.683399", "seconds": 3.683399}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 11996, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:44.088440-05:00", "timestamp": 1749992264.08844}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:03.684300", "seconds": 3.6843}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 11996, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:44.089341-05:00", "timestamp": 1749992264.089341}}}
{"text": "Retrieving 0 items from history.\n", "record": {"elapsed": {"repr": "0:00:03.689314", "seconds": 3.689314}, "exception": null, "extra": {"request_id": "eb4e8af1-b305-4faf-871d-efcc63eb1e20"}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "get_history", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 25, "message": "Retrieving 0 items from history.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 11996, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:44.094355-05:00", "timestamp": 1749992264.094355}}}
{"text": "Received request for secure room analysis\n", "record": {"elapsed": {"repr": "0:00:03.694517", "seconds": 3.694517}, "exception": null, "extra": {"request_id": "86b8e525-dbf7-4756-a12c-757025133b24"}, "file": {"name": "router.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\api\\router.py"}, "function": "analyze_room_secure", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 84, "message": "Received request for secure room analysis", "module": "router", "name": "backend.api.router", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 11996, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:44.099558-05:00", "timestamp": 1749992264.099558}}}
{"text": "pyvips not available, returning original image bytes. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'\n", "record": {"elapsed": {"repr": "0:00:03.699096", "seconds": 3.699096}, "exception": null, "extra": {"request_id": "86b8e525-dbf7-4756-a12c-757025133b24"}, "file": {"name": "image_processing.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\utils\\image_processing.py"}, "function": "resize_image_with_vips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 42, "message": "pyvips not available, returning original image bytes. Error: cannot load library 'libvips-42.dll': error 0x7e.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips-42.dll'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 11996, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:44.104137-05:00", "timestamp": 1749992264.104137}}}
{"text": "Added item to history. History now contains 1 items.\n", "record": {"elapsed": {"repr": "0:00:03.700522", "seconds": 3.700522}, "exception": null, "extra": {"request_id": "86b8e525-dbf7-4756-a12c-757025133b24"}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "add_to_history", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 21, "message": "Added item to history. History now contains 1 items.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 11996, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:44.105563-05:00", "timestamp": 1749992264.105563}}}
{"text": "Retrieving 1 items from history.\n", "record": {"elapsed": {"repr": "0:00:03.702979", "seconds": 3.702979}, "exception": null, "extra": {"request_id": "22c96a7e-22dc-4c16-a4ed-60a5dab9e976"}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "get_history", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 25, "message": "Retrieving 1 items from history.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 11996, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:44.108020-05:00", "timestamp": 1749992264.10802}}}
{"text": "History cleared. Removed 1 items.\n", "record": {"elapsed": {"repr": "0:00:03.704738", "seconds": 3.704738}, "exception": null, "extra": {"request_id": "f4543a73-a922-462d-9a6a-795ee6bce1c0"}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "clear_history", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "History cleared. Removed 1 items.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 11996, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:44.109779-05:00", "timestamp": 1749992264.109779}}}
{"text": "Retrieving 0 items from history.\n", "record": {"elapsed": {"repr": "0:00:03.706810", "seconds": 3.70681}, "exception": null, "extra": {"request_id": "cf75a99e-c196-4fbd-9125-62311b1928e8"}, "file": {"name": "history_service.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\services\\history_service.py"}, "function": "get_history", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 25, "message": "Retrieving 0 items from history.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 11996, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:44.111851-05:00", "timestamp": 1749992264.111851}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:03.709147", "seconds": 3.709147}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\dmjtx\\Github\\AI-Room-Cleaner\\ai_room_cleaner\\ai_room_cleaner\\backend\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "backend.main", "process": {"id": 6664, "name": "MainProcess"}, "thread": {"id": 11996, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-15 07:57:44.114188-05:00", "timestamp": 1749992264.114188}}}
