{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.749784", "seconds": 1.749784}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 133015535651712, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:48:30.294128+00:00", "timestamp": 1750020510.294128}}}
{"text": "Failed to initialize application state: 500: OpenAI API key is not configured.\n", "record": {"elapsed": {"repr": "0:00:01.751242", "seconds": 1.751242}, "exception": null, "extra": {"exc_info": true}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 56, "message": "Failed to initialize application state: 500: OpenAI API key is not configured.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 133015535651712, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:48:30.295586+00:00", "timestamp": 1750020510.295586}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.748120", "seconds": 1.74812}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134580776254336, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:48:34.480216+00:00", "timestamp": 1750020514.480216}}}
{"text": "Failed to initialize application state: 500: OpenAI API key is not configured.\n", "record": {"elapsed": {"repr": "0:00:01.749630", "seconds": 1.74963}, "exception": null, "extra": {"exc_info": true}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 56, "message": "Failed to initialize application state: 500: OpenAI API key is not configured.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134580776254336, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:48:34.481726+00:00", "timestamp": 1750020514.481726}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.726112", "seconds": 1.726112}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 138218631465856, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:48:38.616153+00:00", "timestamp": 1750020518.616153}}}
{"text": "Failed to initialize application state: 500: OpenAI API key is not configured.\n", "record": {"elapsed": {"repr": "0:00:01.727899", "seconds": 1.727899}, "exception": null, "extra": {"exc_info": true}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 56, "message": "Failed to initialize application state: 500: OpenAI API key is not configured.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 138218631465856, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:48:38.617940+00:00", "timestamp": 1750020518.61794}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.763642", "seconds": 1.763642}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 136191353068416, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:48:42.971730+00:00", "timestamp": 1750020522.97173}}}
{"text": "Failed to initialize application state: 500: OpenAI API key is not configured.\n", "record": {"elapsed": {"repr": "0:00:01.765723", "seconds": 1.765723}, "exception": null, "extra": {"exc_info": true}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 56, "message": "Failed to initialize application state: 500: OpenAI API key is not configured.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 136191353068416, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:48:42.973811+00:00", "timestamp": 1750020522.973811}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.735889", "seconds": 1.735889}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139825767156608, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:48:47.643016+00:00", "timestamp": 1750020527.643016}}}
{"text": "Failed to initialize application state: 500: OpenAI API key is not configured.\n", "record": {"elapsed": {"repr": "0:00:01.737037", "seconds": 1.737037}, "exception": null, "extra": {"exc_info": true}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 56, "message": "Failed to initialize application state: 500: OpenAI API key is not configured.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139825767156608, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:48:47.644164+00:00", "timestamp": 1750020527.644164}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.736100", "seconds": 1.7361}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 138812578315136, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:48:53.186460+00:00", "timestamp": 1750020533.18646}}}
{"text": "Failed to initialize application state: 500: OpenAI API key is not configured.\n", "record": {"elapsed": {"repr": "0:00:01.737898", "seconds": 1.737898}, "exception": null, "extra": {"exc_info": true}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 56, "message": "Failed to initialize application state: 500: OpenAI API key is not configured.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 138812578315136, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:48:53.188258+00:00", "timestamp": 1750020533.188258}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.710166", "seconds": 1.710166}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123365227514752, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:49:00.302700+00:00", "timestamp": 1750020540.3027}}}
{"text": "Failed to initialize application state: 500: OpenAI API key is not configured.\n", "record": {"elapsed": {"repr": "0:00:01.712062", "seconds": 1.712062}, "exception": null, "extra": {"exc_info": true}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 56, "message": "Failed to initialize application state: 500: OpenAI API key is not configured.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123365227514752, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:49:00.304596+00:00", "timestamp": 1750020540.304596}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.893956", "seconds": 1.893956}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126105898568576, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:49:10.815145+00:00", "timestamp": 1750020550.815145}}}
{"text": "Failed to initialize application state: 500: OpenAI API key is not configured.\n", "record": {"elapsed": {"repr": "0:00:01.895364", "seconds": 1.895364}, "exception": null, "extra": {"exc_info": true}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 56, "message": "Failed to initialize application state: 500: OpenAI API key is not configured.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126105898568576, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:49:10.816553+00:00", "timestamp": 1750020550.816553}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.713931", "seconds": 1.713931}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126500648688512, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:50:05.826607+00:00", "timestamp": 1750020605.826607}}}
{"text": "Failed to initialize application state: 500: Google API key is not configured.\n", "record": {"elapsed": {"repr": "0:00:01.714683", "seconds": 1.714683}, "exception": null, "extra": {"exc_info": true}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 56, "message": "Failed to initialize application state: 500: Google API key is not configured.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126500648688512, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:50:05.827359+00:00", "timestamp": 1750020605.827359}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.748194", "seconds": 1.748194}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139452977232768, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:50:10.096646+00:00", "timestamp": 1750020610.096646}}}
{"text": "Failed to initialize application state: 500: Google API key is not configured.\n", "record": {"elapsed": {"repr": "0:00:01.748764", "seconds": 1.748764}, "exception": null, "extra": {"exc_info": true}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 56, "message": "Failed to initialize application state: 500: Google API key is not configured.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139452977232768, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:50:10.097216+00:00", "timestamp": 1750020610.097216}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.783820", "seconds": 1.78382}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 129774424501120, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:50:14.298995+00:00", "timestamp": 1750020614.298995}}}
{"text": "Failed to initialize application state: 500: Google API key is not configured.\n", "record": {"elapsed": {"repr": "0:00:01.784404", "seconds": 1.784404}, "exception": null, "extra": {"exc_info": true}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 56, "message": "Failed to initialize application state: 500: Google API key is not configured.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 129774424501120, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:50:14.299579+00:00", "timestamp": 1750020614.299579}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.740645", "seconds": 1.740645}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 136741476899712, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:50:18.623011+00:00", "timestamp": 1750020618.623011}}}
{"text": "Failed to initialize application state: 500: Google API key is not configured.\n", "record": {"elapsed": {"repr": "0:00:01.741389", "seconds": 1.741389}, "exception": null, "extra": {"exc_info": true}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 56, "message": "Failed to initialize application state: 500: Google API key is not configured.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 136741476899712, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:50:18.623755+00:00", "timestamp": 1750020618.623755}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.738485", "seconds": 1.738485}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 127779712859008, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:50:23.388337+00:00", "timestamp": 1750020623.388337}}}
{"text": "Failed to initialize application state: 500: Google API key is not configured.\n", "record": {"elapsed": {"repr": "0:00:01.739681", "seconds": 1.739681}, "exception": null, "extra": {"exc_info": true}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 56, "message": "Failed to initialize application state: 500: Google API key is not configured.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 127779712859008, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:50:23.389533+00:00", "timestamp": 1750020623.389533}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.766843", "seconds": 1.766843}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135550283860864, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:50:28.945955+00:00", "timestamp": 1750020628.945955}}}
{"text": "Failed to initialize application state: 500: Google API key is not configured.\n", "record": {"elapsed": {"repr": "0:00:01.768213", "seconds": 1.768213}, "exception": null, "extra": {"exc_info": true}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 56, "message": "Failed to initialize application state: 500: Google API key is not configured.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135550283860864, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:50:28.947325+00:00", "timestamp": 1750020628.947325}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.727873", "seconds": 1.727873}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 128676411345792, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:50:36.049341+00:00", "timestamp": 1750020636.049341}}}
{"text": "Failed to initialize application state: 500: Google API key is not configured.\n", "record": {"elapsed": {"repr": "0:00:01.728457", "seconds": 1.728457}, "exception": null, "extra": {"exc_info": true}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 56, "message": "Failed to initialize application state: 500: Google API key is not configured.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 128676411345792, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:50:36.049925+00:00", "timestamp": 1750020636.049925}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.748948", "seconds": 1.748948}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134945970797440, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:50:46.377149+00:00", "timestamp": 1750020646.377149}}}
{"text": "Failed to initialize application state: 500: Google API key is not configured.\n", "record": {"elapsed": {"repr": "0:00:01.749754", "seconds": 1.749754}, "exception": null, "extra": {"exc_info": true}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 56, "message": "Failed to initialize application state: 500: Google API key is not configured.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134945970797440, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:50:46.377955+00:00", "timestamp": 1750020646.377955}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.754295", "seconds": 1.754295}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 127209688529792, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:51:03.098015+00:00", "timestamp": 1750020663.098015}}}
{"text": "Failed to initialize application state: 500: Google API key is not configured.\n", "record": {"elapsed": {"repr": "0:00:01.755059", "seconds": 1.755059}, "exception": null, "extra": {"exc_info": true}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 56, "message": "Failed to initialize application state: 500: Google API key is not configured.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 127209688529792, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:51:03.098779+00:00", "timestamp": 1750020663.098779}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.725093", "seconds": 1.725093}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 136295376808832, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:52:38.384174+00:00", "timestamp": 1750020758.384174}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:01.753673", "seconds": 1.753673}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 136295376808832, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:52:38.412754+00:00", "timestamp": 1750020758.412754}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:01.754259", "seconds": 1.754259}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 136295376808832, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:52:38.413340+00:00", "timestamp": 1750020758.41334}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:01.754835", "seconds": 1.754835}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 136295376808832, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:52:38.413916+00:00", "timestamp": 1750020758.413916}}}
{"text": "Initializing application state.\n", "record": {"elapsed": {"repr": "0:00:01.755303", "seconds": 1.755303}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/backend/core/state.py"}, "function": "initialize_state", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Initializing application state.", "module": "state", "name": "backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 136295376808832, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:52:38.414384+00:00", "timestamp": 1750020758.414384}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:01.755854", "seconds": 1.755854}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 136295376808832, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:52:38.414935+00:00", "timestamp": 1750020758.414935}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:01.756305", "seconds": 1.756305}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 136295376808832, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:52:38.415386+00:00", "timestamp": 1750020758.415386}}}
{"text": "AI Model: gpt-4-turbo\n", "record": {"elapsed": {"repr": "0:00:01.756583", "seconds": 1.756583}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: gpt-4-turbo", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 136295376808832, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:52:38.415664+00:00", "timestamp": 1750020758.415664}}}
{"text": "API Key configured: False\n", "record": {"elapsed": {"repr": "0:00:01.756886", "seconds": 1.756886}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: False", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 136295376808832, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:52:38.415967+00:00", "timestamp": 1750020758.415967}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:01.757166", "seconds": 1.757166}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 136295376808832, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:52:38.416247+00:00", "timestamp": 1750020758.416247}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:01.757432", "seconds": 1.757432}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 136295376808832, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:52:38.416513+00:00", "timestamp": 1750020758.416513}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:01.757783", "seconds": 1.757783}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 136295376808832, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:52:38.416864+00:00", "timestamp": 1750020758.416864}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:01.758089", "seconds": 1.758089}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 136295376808832, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:52:38.417170+00:00", "timestamp": 1750020758.41717}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:01.758363", "seconds": 1.758363}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 136295376808832, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:52:38.417444+00:00", "timestamp": 1750020758.417444}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:01.758616", "seconds": 1.758616}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 136295376808832, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:52:38.417697+00:00", "timestamp": 1750020758.417697}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:01.775083", "seconds": 1.775083}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 136295376808832, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:52:38.434164+00:00", "timestamp": 1750020758.434164}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:01.775777", "seconds": 1.775777}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 136295376808832, "name": "MainThread"}, "time": {"repr": "2025-06-15 20:52:38.434858+00:00", "timestamp": 1750020758.434858}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:10:21.481374", "seconds": 621.481374}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 136295376808832, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:02:58.140455+00:00", "timestamp": 1750021378.140455}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.405846", "seconds": 2.405846}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135494621490048, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:03:10.413049+00:00", "timestamp": 1750021390.413049}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.451169", "seconds": 2.451169}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 21, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135494621490048, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:03:10.458372+00:00", "timestamp": 1750021390.458372}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.452134", "seconds": 2.452134}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135494621490048, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:03:10.459337+00:00", "timestamp": 1750021390.459337}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.452720", "seconds": 2.45272}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135494621490048, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:03:10.459923+00:00", "timestamp": 1750021390.459923}}}
{"text": "Initializing application state.\n", "record": {"elapsed": {"repr": "0:00:02.453094", "seconds": 2.453094}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/backend/core/state.py"}, "function": "initialize_state", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Initializing application state.", "module": "state", "name": "backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135494621490048, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:03:10.460297+00:00", "timestamp": 1750021390.460297}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.453476", "seconds": 2.453476}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135494621490048, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:03:10.460679+00:00", "timestamp": 1750021390.460679}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.453830", "seconds": 2.45383}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135494621490048, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:03:10.461033+00:00", "timestamp": 1750021390.461033}}}
{"text": "AI Model: gpt-4-turbo\n", "record": {"elapsed": {"repr": "0:00:02.454198", "seconds": 2.454198}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: gpt-4-turbo", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135494621490048, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:03:10.461401+00:00", "timestamp": 1750021390.461401}}}
{"text": "API Key configured: False\n", "record": {"elapsed": {"repr": "0:00:02.454590", "seconds": 2.45459}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: False", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135494621490048, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:03:10.461793+00:00", "timestamp": 1750021390.461793}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.456641", "seconds": 2.456641}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135494621490048, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:03:10.463844+00:00", "timestamp": 1750021390.463844}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.457243", "seconds": 2.457243}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135494621490048, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:03:10.464446+00:00", "timestamp": 1750021390.464446}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.457955", "seconds": 2.457955}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135494621490048, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:03:10.465158+00:00", "timestamp": 1750021390.465158}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.459371", "seconds": 2.459371}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135494621490048, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:03:10.466574+00:00", "timestamp": 1750021390.466574}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.460191", "seconds": 2.460191}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135494621490048, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:03:10.467394+00:00", "timestamp": 1750021390.467394}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.460701", "seconds": 2.460701}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135494621490048, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:03:10.467904+00:00", "timestamp": 1750021390.467904}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.483262", "seconds": 2.483262}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135494621490048, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:03:10.490465+00:00", "timestamp": 1750021390.490465}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.483753", "seconds": 2.483753}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135494621490048, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:03:10.490956+00:00", "timestamp": 1750021390.490956}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:01:08.408729", "seconds": 68.408729}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135494621490048, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:04:16.415932+00:00", "timestamp": 1750021456.415932}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.965405", "seconds": 1.965405}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 128756288019328, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:06:45.548533+00:00", "timestamp": 1750021605.548533}}}
{"text": "pyvips configured with cache_max=100\n", "record": {"elapsed": {"repr": "0:00:02.001331", "seconds": 2.001331}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 26, "message": "pyvips configured with cache_max=100", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 128756288019328, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:06:45.584459+00:00", "timestamp": 1750021605.584459}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.002185", "seconds": 2.002185}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 128756288019328, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:06:45.585313+00:00", "timestamp": 1750021605.585313}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.002888", "seconds": 2.002888}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 128756288019328, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:06:45.586016+00:00", "timestamp": 1750021605.586016}}}
{"text": "Initializing application state.\n", "record": {"elapsed": {"repr": "0:00:02.003359", "seconds": 2.003359}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/backend/core/state.py"}, "function": "initialize_state", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Initializing application state.", "module": "state", "name": "backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 128756288019328, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:06:45.586487+00:00", "timestamp": 1750021605.586487}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.003826", "seconds": 2.003826}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 128756288019328, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:06:45.586954+00:00", "timestamp": 1750021605.586954}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.004179", "seconds": 2.004179}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 128756288019328, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:06:45.587307+00:00", "timestamp": 1750021605.587307}}}
{"text": "AI Model: gpt-4-turbo\n", "record": {"elapsed": {"repr": "0:00:02.004511", "seconds": 2.004511}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: gpt-4-turbo", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 128756288019328, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:06:45.587639+00:00", "timestamp": 1750021605.587639}}}
{"text": "API Key configured: False\n", "record": {"elapsed": {"repr": "0:00:02.004906", "seconds": 2.004906}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: False", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 128756288019328, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:06:45.588034+00:00", "timestamp": 1750021605.588034}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.005250", "seconds": 2.00525}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 128756288019328, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:06:45.588378+00:00", "timestamp": 1750021605.588378}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.005657", "seconds": 2.005657}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 128756288019328, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:06:45.588785+00:00", "timestamp": 1750021605.588785}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.006210", "seconds": 2.00621}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 128756288019328, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:06:45.589338+00:00", "timestamp": 1750021605.589338}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.006848", "seconds": 2.006848}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 128756288019328, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:06:45.589976+00:00", "timestamp": 1750021605.589976}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.007547", "seconds": 2.007547}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 128756288019328, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:06:45.590675+00:00", "timestamp": 1750021605.590675}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.008032", "seconds": 2.008032}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 128756288019328, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:06:45.591160+00:00", "timestamp": 1750021605.59116}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.032442", "seconds": 2.032442}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 128756288019328, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:06:45.615570+00:00", "timestamp": 1750021605.61557}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.032996", "seconds": 2.032996}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 128756288019328, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:06:45.616124+00:00", "timestamp": 1750021605.616124}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:01:48.477456", "seconds": 108.477456}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 128756288019328, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:08:32.060584+00:00", "timestamp": 1750021712.060584}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.823745", "seconds": 1.823745}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134119951416192, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:09:37.898465+00:00", "timestamp": 1750021777.898465}}}
{"text": "Failed to initialize application state: 500: Google API key is not configured.\n", "record": {"elapsed": {"repr": "0:00:01.824448", "seconds": 1.824448}, "exception": null, "extra": {"exc_info": true}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 56, "message": "Failed to initialize application state: 500: Google API key is not configured.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134119951416192, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:09:37.899168+00:00", "timestamp": 1750021777.899168}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.878930", "seconds": 1.87893}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135593184033664, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:09:42.368588+00:00", "timestamp": 1750021782.368588}}}
{"text": "Failed to initialize application state: 500: Google API key is not configured.\n", "record": {"elapsed": {"repr": "0:00:01.879585", "seconds": 1.879585}, "exception": null, "extra": {"exc_info": true}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 56, "message": "Failed to initialize application state: 500: Google API key is not configured.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135593184033664, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:09:42.369243+00:00", "timestamp": 1750021782.369243}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.876489", "seconds": 1.876489}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 127381434891136, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:09:46.770866+00:00", "timestamp": 1750021786.770866}}}
{"text": "Failed to initialize application state: 500: Google API key is not configured.\n", "record": {"elapsed": {"repr": "0:00:01.877239", "seconds": 1.877239}, "exception": null, "extra": {"exc_info": true}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 56, "message": "Failed to initialize application state: 500: Google API key is not configured.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 127381434891136, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:09:46.771616+00:00", "timestamp": 1750021786.771616}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.895820", "seconds": 1.89582}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 136862088616832, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:09:51.341005+00:00", "timestamp": 1750021791.341005}}}
{"text": "Failed to initialize application state: 500: Google API key is not configured.\n", "record": {"elapsed": {"repr": "0:00:01.896799", "seconds": 1.896799}, "exception": null, "extra": {"exc_info": true}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 56, "message": "Failed to initialize application state: 500: Google API key is not configured.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 136862088616832, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:09:51.341984+00:00", "timestamp": 1750021791.341984}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.854399", "seconds": 1.854399}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 137580634909568, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:09:56.221064+00:00", "timestamp": 1750021796.221064}}}
{"text": "Failed to initialize application state: 500: Google API key is not configured.\n", "record": {"elapsed": {"repr": "0:00:01.855019", "seconds": 1.855019}, "exception": null, "extra": {"exc_info": true}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 56, "message": "Failed to initialize application state: 500: Google API key is not configured.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 137580634909568, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:09:56.221684+00:00", "timestamp": 1750021796.221684}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.872566", "seconds": 1.872566}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 125380506708864, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:10:01.975640+00:00", "timestamp": 1750021801.97564}}}
{"text": "Failed to initialize application state: 500: Google API key is not configured.\n", "record": {"elapsed": {"repr": "0:00:01.873278", "seconds": 1.873278}, "exception": null, "extra": {"exc_info": true}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 56, "message": "Failed to initialize application state: 500: Google API key is not configured.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 125380506708864, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:10:01.976352+00:00", "timestamp": 1750021801.976352}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.890883", "seconds": 1.890883}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 128219700722560, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:10:09.310565+00:00", "timestamp": 1750021809.310565}}}
{"text": "Failed to initialize application state: 500: Google API key is not configured.\n", "record": {"elapsed": {"repr": "0:00:01.891757", "seconds": 1.891757}, "exception": null, "extra": {"exc_info": true}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 56, "message": "Failed to initialize application state: 500: Google API key is not configured.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 128219700722560, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:10:09.311439+00:00", "timestamp": 1750021809.311439}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.949971", "seconds": 1.949971}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124283813399424, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:10:19.948207+00:00", "timestamp": 1750021819.948207}}}
{"text": "Failed to initialize application state: 500: Google API key is not configured.\n", "record": {"elapsed": {"repr": "0:00:01.950812", "seconds": 1.950812}, "exception": null, "extra": {"exc_info": true}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 56, "message": "Failed to initialize application state: 500: Google API key is not configured.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124283813399424, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:10:19.949048+00:00", "timestamp": 1750021819.949048}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.887402", "seconds": 1.887402}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135765705907072, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:10:36.823257+00:00", "timestamp": 1750021836.823257}}}
{"text": "Failed to initialize application state: 500: Google API key is not configured.\n", "record": {"elapsed": {"repr": "0:00:01.888149", "seconds": 1.888149}, "exception": null, "extra": {"exc_info": true}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 56, "message": "Failed to initialize application state: 500: Google API key is not configured.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135765705907072, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:10:36.824004+00:00", "timestamp": 1750021836.824004}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.760496", "seconds": 2.760496}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "__main__", "process": {"id": 80, "name": "MainProcess"}, "thread": {"id": 136385505745792, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:16:50.662251+00:00", "timestamp": 1750022210.662251}}}
{"text": "Failed to initialize application state: 500: Google API key is not configured.\n", "record": {"elapsed": {"repr": "0:00:02.761193", "seconds": 2.761193}, "exception": null, "extra": {"exc_info": true}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 56, "message": "Failed to initialize application state: 500: Google API key is not configured.", "module": "main", "name": "__main__", "process": {"id": 80, "name": "MainProcess"}, "thread": {"id": 136385505745792, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:16:50.662948+00:00", "timestamp": 1750022210.662948}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.790547", "seconds": 2.790547}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139405888142208, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:18:08.528006+00:00", "timestamp": 1750022288.528006}}}
{"text": "pyvips configured with cache_max=100\n", "record": {"elapsed": {"repr": "0:00:02.840956", "seconds": 2.840956}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 26, "message": "pyvips configured with cache_max=100", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139405888142208, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:18:08.578415+00:00", "timestamp": 1750022288.578415}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.841801", "seconds": 2.841801}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139405888142208, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:18:08.579260+00:00", "timestamp": 1750022288.57926}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.842264", "seconds": 2.842264}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139405888142208, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:18:08.579723+00:00", "timestamp": 1750022288.579723}}}
{"text": "Initializing application state.\n", "record": {"elapsed": {"repr": "0:00:02.842629", "seconds": 2.842629}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/backend/core/state.py"}, "function": "initialize_state", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Initializing application state.", "module": "state", "name": "backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139405888142208, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:18:08.580088+00:00", "timestamp": 1750022288.580088}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.843024", "seconds": 2.843024}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139405888142208, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:18:08.580483+00:00", "timestamp": 1750022288.580483}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.843386", "seconds": 2.843386}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139405888142208, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:18:08.580845+00:00", "timestamp": 1750022288.580845}}}
{"text": "AI Model: gpt-4-turbo\n", "record": {"elapsed": {"repr": "0:00:02.843794", "seconds": 2.843794}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: gpt-4-turbo", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139405888142208, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:18:08.581253+00:00", "timestamp": 1750022288.581253}}}
{"text": "API Key configured: False\n", "record": {"elapsed": {"repr": "0:00:02.844326", "seconds": 2.844326}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: False", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139405888142208, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:18:08.581785+00:00", "timestamp": 1750022288.581785}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.844724", "seconds": 2.844724}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139405888142208, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:18:08.582183+00:00", "timestamp": 1750022288.582183}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.845162", "seconds": 2.845162}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139405888142208, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:18:08.582621+00:00", "timestamp": 1750022288.582621}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.845550", "seconds": 2.84555}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139405888142208, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:18:08.583009+00:00", "timestamp": 1750022288.583009}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.845917", "seconds": 2.845917}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139405888142208, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:18:08.583376+00:00", "timestamp": 1750022288.583376}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.846300", "seconds": 2.8463}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139405888142208, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:18:08.583759+00:00", "timestamp": 1750022288.583759}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.846641", "seconds": 2.846641}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139405888142208, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:18:08.584100+00:00", "timestamp": 1750022288.5841}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.861997", "seconds": 2.861997}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139405888142208, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:18:08.599456+00:00", "timestamp": 1750022288.599456}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.862543", "seconds": 2.862543}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139405888142208, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:18:08.600002+00:00", "timestamp": 1750022288.600002}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:47.201814", "seconds": 47.201814}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139405888142208, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:18:52.939273+00:00", "timestamp": 1750022332.939273}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.716855", "seconds": 2.716855}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "__main__", "process": {"id": 13, "name": "MainProcess"}, "thread": {"id": 129844079479680, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:19:37.462678+00:00", "timestamp": 1750022377.462678}}}
{"text": "pyvips configured with cache_max=100\n", "record": {"elapsed": {"repr": "0:00:02.763296", "seconds": 2.763296}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 26, "message": "pyvips configured with cache_max=100", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 13, "name": "MainProcess"}, "thread": {"id": 129844079479680, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:19:37.509119+00:00", "timestamp": 1750022377.509119}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.763941", "seconds": 2.763941}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 13, "name": "MainProcess"}, "thread": {"id": 129844079479680, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:19:37.509764+00:00", "timestamp": 1750022377.509764}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.764384", "seconds": 2.764384}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 13, "name": "MainProcess"}, "thread": {"id": 129844079479680, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:19:37.510207+00:00", "timestamp": 1750022377.510207}}}
{"text": "Initializing application state.\n", "record": {"elapsed": {"repr": "0:00:02.764885", "seconds": 2.764885}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/backend/core/state.py"}, "function": "initialize_state", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Initializing application state.", "module": "state", "name": "backend.core.state", "process": {"id": 13, "name": "MainProcess"}, "thread": {"id": 129844079479680, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:19:37.510708+00:00", "timestamp": 1750022377.510708}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.765545", "seconds": 2.765545}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "__main__", "process": {"id": 13, "name": "MainProcess"}, "thread": {"id": 129844079479680, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:19:37.511368+00:00", "timestamp": 1750022377.511368}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.765919", "seconds": 2.765919}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "__main__", "process": {"id": 13, "name": "MainProcess"}, "thread": {"id": 129844079479680, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:19:37.511742+00:00", "timestamp": 1750022377.511742}}}
{"text": "AI Model: gpt-4-turbo\n", "record": {"elapsed": {"repr": "0:00:02.766228", "seconds": 2.766228}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: gpt-4-turbo", "module": "main", "name": "__main__", "process": {"id": 13, "name": "MainProcess"}, "thread": {"id": 129844079479680, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:19:37.512051+00:00", "timestamp": 1750022377.512051}}}
{"text": "API Key configured: False\n", "record": {"elapsed": {"repr": "0:00:02.766555", "seconds": 2.766555}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: False", "module": "main", "name": "__main__", "process": {"id": 13, "name": "MainProcess"}, "thread": {"id": 129844079479680, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:19:37.512378+00:00", "timestamp": 1750022377.512378}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.766942", "seconds": 2.766942}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "__main__", "process": {"id": 13, "name": "MainProcess"}, "thread": {"id": 129844079479680, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:19:37.512765+00:00", "timestamp": 1750022377.512765}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.767329", "seconds": 2.767329}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "__main__", "process": {"id": 13, "name": "MainProcess"}, "thread": {"id": 129844079479680, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:19:37.513152+00:00", "timestamp": 1750022377.513152}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.767694", "seconds": 2.767694}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "__main__", "process": {"id": 13, "name": "MainProcess"}, "thread": {"id": 129844079479680, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:19:37.513517+00:00", "timestamp": 1750022377.513517}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.768054", "seconds": 2.768054}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "__main__", "process": {"id": 13, "name": "MainProcess"}, "thread": {"id": 129844079479680, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:19:37.513877+00:00", "timestamp": 1750022377.513877}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.768414", "seconds": 2.768414}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "__main__", "process": {"id": 13, "name": "MainProcess"}, "thread": {"id": 129844079479680, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:19:37.514237+00:00", "timestamp": 1750022377.514237}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.768753", "seconds": 2.768753}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "__main__", "process": {"id": 13, "name": "MainProcess"}, "thread": {"id": 129844079479680, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:19:37.514576+00:00", "timestamp": 1750022377.514576}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.783710", "seconds": 2.78371}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "__main__", "process": {"id": 13, "name": "MainProcess"}, "thread": {"id": 129844079479680, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:19:37.529533+00:00", "timestamp": 1750022377.529533}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.784365", "seconds": 2.784365}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "__main__", "process": {"id": 13, "name": "MainProcess"}, "thread": {"id": 129844079479680, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:19:37.530188+00:00", "timestamp": 1750022377.530188}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:57.053417", "seconds": 57.053417}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 68, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "__main__", "process": {"id": 13, "name": "MainProcess"}, "thread": {"id": 129844079479680, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:20:31.799240+00:00", "timestamp": 1750022431.79924}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.928862", "seconds": 1.928862}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 27, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 138532940929920, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:22:45.839012+00:00", "timestamp": 1750022565.839012}}}
{"text": "pyvips configured with cache_max=100\n", "record": {"elapsed": {"repr": "0:00:01.958330", "seconds": 1.95833}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 26, "message": "pyvips configured with cache_max=100", "module": "image_processing", "name": "backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 138532940929920, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:22:45.868480+00:00", "timestamp": 1750022565.86848}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:01.958866", "seconds": 1.958866}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 138532940929920, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:22:45.869016+00:00", "timestamp": 1750022565.869016}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:01.959324", "seconds": 1.959324}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 138532940929920, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:22:45.869474+00:00", "timestamp": 1750022565.869474}}}
{"text": "Initializing application state.\n", "record": {"elapsed": {"repr": "0:00:01.959692", "seconds": 1.959692}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/backend/core/state.py"}, "function": "initialize_state", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 53, "message": "Initializing application state.", "module": "state", "name": "backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 138532940929920, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:22:45.869842+00:00", "timestamp": 1750022565.869842}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:01.960294", "seconds": 1.960294}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "AI service and application state initialized.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 138532940929920, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:22:45.870444+00:00", "timestamp": 1750022565.870444}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:01.960895", "seconds": 1.960895}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "Camera Entity: Not set", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 138532940929920, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:22:45.871045+00:00", "timestamp": 1750022565.871045}}}
{"text": "AI Model: gpt-4-turbo\n", "record": {"elapsed": {"repr": "0:00:01.961194", "seconds": 1.961194}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 39, "message": "AI Model: gpt-4-turbo", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 138532940929920, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:22:45.871344+00:00", "timestamp": 1750022565.871344}}}
{"text": "API Key configured: False\n", "record": {"elapsed": {"repr": "0:00:01.961482", "seconds": 1.961482}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 40, "message": "API Key configured: False", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 138532940929920, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:22:45.871632+00:00", "timestamp": 1750022565.871632}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:01.961761", "seconds": 1.961761}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "Supervisor URL: None", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 138532940929920, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:22:45.871911+00:00", "timestamp": 1750022565.871911}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:01.962059", "seconds": 1.962059}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "Checking for frontend files...", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 138532940929920, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:22:45.872209+00:00", "timestamp": 1750022565.872209}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:01.962394", "seconds": 1.962394}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  index.html: ✓", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 138532940929920, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:22:45.872544+00:00", "timestamp": 1750022565.872544}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:01.962818", "seconds": 1.962818}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  style.css: ✓", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 138532940929920, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:22:45.872968+00:00", "timestamp": 1750022565.872968}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:01.963142", "seconds": 1.963142}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "  app.js: ✓", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 138532940929920, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:22:45.873292+00:00", "timestamp": 1750022565.873292}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:01.963411", "seconds": 1.963411}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "Essential configuration is valid.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 138532940929920, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:22:45.873561+00:00", "timestamp": 1750022565.873561}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:01.980003", "seconds": 1.980003}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 138532940929920, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:22:45.890153+00:00", "timestamp": 1750022565.890153}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:01.980622", "seconds": 1.980622}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 65, "message": "--- Startup Complete ---", "module": "main", "name": "__main__", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 138532940929920, "name": "MainThread"}, "time": {"repr": "2025-06-15 21:22:45.890772+00:00", "timestamp": 1750022565.890772}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.670556", "seconds": 2.670556}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:31:59.649765+00:00", "timestamp": 1750091519.649765}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.686087", "seconds": 2.686087}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:31:59.665296+00:00", "timestamp": 1750091519.665296}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.686911", "seconds": 2.686911}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:31:59.666120+00:00", "timestamp": 1750091519.66612}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.687366", "seconds": 2.687366}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:31:59.666575+00:00", "timestamp": 1750091519.666575}}}
{"text": "Application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.687735", "seconds": 2.687735}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Application state initialized.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:31:59.666944+00:00", "timestamp": 1750091519.666944}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.688145", "seconds": 2.688145}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:31:59.667354+00:00", "timestamp": 1750091519.667354}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.688570", "seconds": 2.68857}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: Not set", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:31:59.667779+00:00", "timestamp": 1750091519.667779}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.688902", "seconds": 2.688902}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: test_model", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:31:59.668111+00:00", "timestamp": 1750091519.668111}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.689154", "seconds": 2.689154}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:31:59.668363+00:00", "timestamp": 1750091519.668363}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.689583", "seconds": 2.689583}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: None", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:31:59.668792+00:00", "timestamp": 1750091519.668792}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.689825", "seconds": 2.689825}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:31:59.669034+00:00", "timestamp": 1750091519.669034}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.691452", "seconds": 2.691452}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:31:59.670661+00:00", "timestamp": 1750091519.670661}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.692605", "seconds": 2.692605}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:31:59.671814+00:00", "timestamp": 1750091519.671814}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.694103", "seconds": 2.694103}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:31:59.673312+00:00", "timestamp": 1750091519.673312}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.694474", "seconds": 2.694474}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:31:59.673683+00:00", "timestamp": 1750091519.673683}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.709920", "seconds": 2.70992}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:31:59.689129+00:00", "timestamp": 1750091519.689129}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.710510", "seconds": 2.71051}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:31:59.689719+00:00", "timestamp": 1750091519.689719}}}
{"text": "An unexpected error occurred\n  + Exception Group Traceback (most recent call last):\n  |\n  |   File \"/usr/local/lib/python3.13/site-packages/starlette/_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 177, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x7183e7de42d0>\n  |                │     └ <function create_task_group at 0x7183f0ac19e0>\n  |                └ <module 'anyio' from '/usr/local/lib/python3.13/site-packages/anyio/__init__.py'>\n  |   File \"/usr/local/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7183ec08d300>\n    |           │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x7183ec117100>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/test-app-exception', 'raw_path': b'/test-app-exception', '...\n    |           │    └ <function request_size_limit_middleware.<locals>.middleware at 0x7183ec0dbec0>\n    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7183ec13d2b0>\n    |\n    |   File \"/app/ai_room_cleaner/backend/middleware.py\", line 32, in middleware\n    |     await app(scope, receive, send)\n    |           │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7183ec08d300>\n    |           │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x7183ec117100>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/test-app-exception', 'raw_path': b'/test-app-exception', '...\n    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7183ec13d160>\n    |\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x7183efb3fe20>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"/usr/local/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError(\"object LoggingMiddleware can't be used in 'await' expression\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x7183ef96c6c0>\n    |     └ <contextlib._GeneratorContextManager object at 0x7183ec38cde0>\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7183ec08d260>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x7183ec13d550>\n    |                      │    └ <class 'ai_room_cleaner.backend.core.logging.LoggingMiddleware'>\n    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7183ec13d160>\n    |\n    | TypeError: object LoggingMiddleware can't be used in 'await' expression\n    +------------------------------------\n\n\nDuring handling of the above exception, another exception occurred:\n\n\nTraceback (most recent call last):\n\n  File \"/usr/local/lib/python3.13/threading.py\", line 1014, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x7183f1f780e0>\n    └ <Thread(Thread-2 (run_blocking_portal), started daemon 124811340674752)>\n  File \"/usr/local/lib/python3.13/threading.py\", line 1043, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x7183f21c3e20>\n    └ <Thread(Thread-2 (run_blocking_portal), started daemon 124811340674752)>\n  File \"/usr/local/lib/python3.13/threading.py\", line 994, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-2 (run_blocking_portal), started daemon 124811340674752)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-2 (run_blocking_portal), started daemon 124811340674752)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x7183ec0fc220>\n    └ <Thread(Thread-2 (run_blocking_portal), started daemon 124811340674752)>\n  File \"/usr/local/lib/python3.13/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x7183f0bdca40>\n    └ <module 'anyio._core._eventloop' from '/usr/local/lib/python3.13/site-packages/anyio/_core/_eventloop.py'>\n  File \"/usr/local/lib/python3.13/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x7183ec0fc0e0>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x7183ec0da200>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/usr/local/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x7183ecf63e20>\n           │      └ <function Runner.run at 0x7183f1526660>\n           └ <asyncio.runners.Runner object at 0x7183ec4874d0>\n  File \"/usr/local/lib/python3.13/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x7183f1524180>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x7183ec4874d0>\n  File \"/usr/local/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x7183f15240e0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/usr/local/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x7183f1525ee0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/usr/local/lib/python3.13/asyncio/base_events.py\", line 2042, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x7183f16231a0>\n    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x7183ef953e80>()>\n  File \"/usr/local/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x7183ef953e80>()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x7183ef953e80>()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x7183ef953e80>()>\n  File \"/usr/local/lib/python3.13/site-packages/anyio/from_thread.py\", line 221, in _call_func\n    retval = await retval_or_awaitable\n                   └ <coroutine object FastAPI.__call__ at 0x7183ec0a46d0>\n  File \"/usr/local/lib/python3.13/site-packages/fastapi/applications.py\", line 1054, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x7183ec08d580>\n                           │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x7183ec117100>\n                           └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/test-app-exception', 'raw_path': b'/test-app-exception', '...\n  File \"/usr/local/lib/python3.13/site-packages/starlette/applications.py\", line 112, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x7183ec08d580>\n          │    │                │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x7183ec117100>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/test-app-exception', 'raw_path': b'/test-app-exception', '...\n          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7183ec13d2b0>\n          └ <fastapi.applications.FastAPI object at 0x7183ecd79010>\n> File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7183ec08d300>\n          │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x7183ec117100>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/test-app-exception', 'raw_path': b'/test-app-exception', '...\n          │    └ <function request_size_limit_middleware.<locals>.middleware at 0x7183ec0dbec0>\n          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7183ec13d2b0>\n\n  File \"/app/ai_room_cleaner/backend/middleware.py\", line 32, in middleware\n    await app(scope, receive, send)\n          │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7183ec08d300>\n          │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x7183ec117100>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/test-app-exception', 'raw_path': b'/test-app-exception', '...\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7183ec13d160>\n\n  File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x7183efb3fe20>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"/usr/local/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError(\"object LoggingMiddleware can't be used in 'await' expression\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x7183ef96c6c0>\n    └ <contextlib._GeneratorContextManager object at 0x7183ec38cde0>\n  File \"/usr/local/lib/python3.13/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7183ec08d260>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7183ec13d550>\n                     │    └ <class 'ai_room_cleaner.backend.core.logging.LoggingMiddleware'>\n                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7183ec13d160>\n\nTypeError: object LoggingMiddleware can't be used in 'await' expression\n", "record": {"elapsed": {"repr": "0:00:02.712692", "seconds": 2.712692}, "exception": {"type": "TypeError", "value": "object LoggingMiddleware can't be used in 'await' expression", "traceback": true}, "extra": {"exc_info": "object LoggingMiddleware can't be used in 'await' expression"}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "generic_exception_handler", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 108, "message": "An unexpected error occurred", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:31:59.691901+00:00", "timestamp": 1750091519.691901}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.874694", "seconds": 2.874694}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:31:59.853903+00:00", "timestamp": 1750091519.853903}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.896775", "seconds": 2.896775}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:31:59.875984+00:00", "timestamp": 1750091519.875984}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.913691", "seconds": 2.913691}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:31:59.892900+00:00", "timestamp": 1750091519.8929}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.914205", "seconds": 2.914205}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:31:59.893414+00:00", "timestamp": 1750091519.893414}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.914452", "seconds": 2.914452}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:31:59.893661+00:00", "timestamp": 1750091519.893661}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:02.914674", "seconds": 2.914674}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:31:59.893883+00:00", "timestamp": 1750091519.893883}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.914926", "seconds": 2.914926}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:31:59.894135+00:00", "timestamp": 1750091519.894135}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.915148", "seconds": 2.915148}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: Not set", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:31:59.894357+00:00", "timestamp": 1750091519.894357}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.915369", "seconds": 2.915369}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: test_model", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:31:59.894578+00:00", "timestamp": 1750091519.894578}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.915584", "seconds": 2.915584}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:31:59.894793+00:00", "timestamp": 1750091519.894793}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.915795", "seconds": 2.915795}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: None", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:31:59.895004+00:00", "timestamp": 1750091519.895004}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.916010", "seconds": 2.91601}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:31:59.895219+00:00", "timestamp": 1750091519.895219}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.918146", "seconds": 2.918146}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:31:59.897355+00:00", "timestamp": 1750091519.897355}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.919256", "seconds": 2.919256}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:31:59.898465+00:00", "timestamp": 1750091519.898465}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.920258", "seconds": 2.920258}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:31:59.899467+00:00", "timestamp": 1750091519.899467}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.920490", "seconds": 2.92049}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:31:59.899699+00:00", "timestamp": 1750091519.899699}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.936534", "seconds": 2.936534}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:31:59.915743+00:00", "timestamp": 1750091519.915743}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.937641", "seconds": 2.937641}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:31:59.916850+00:00", "timestamp": 1750091519.91685}}}
{"text": "An unexpected error occurred\n  + Exception Group Traceback (most recent call last):\n  |\n  |   File \"/usr/local/lib/python3.13/site-packages/starlette/_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 177, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x7183ec096450>\n  |                │     └ <function create_task_group at 0x7183f0ac19e0>\n  |                └ <module 'anyio' from '/usr/local/lib/python3.13/site-packages/anyio/__init__.py'>\n  |   File \"/usr/local/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7183e7ff09a0>\n    |           │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x7183ec117560>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/test-generic-exception', 'raw_path': b'/test-generic-excep...\n    |           │    └ <function request_size_limit_middleware.<locals>.middleware at 0x7183ec0dbec0>\n    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7183ec13d2b0>\n    |\n    |   File \"/app/ai_room_cleaner/backend/middleware.py\", line 32, in middleware\n    |     await app(scope, receive, send)\n    |           │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7183e7ff09a0>\n    |           │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x7183ec117560>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/test-generic-exception', 'raw_path': b'/test-generic-excep...\n    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7183ec13d160>\n    |\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x7183efb3fe20>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"/usr/local/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError(\"object LoggingMiddleware can't be used in 'await' expression\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x7183ec0b8ad0>\n    |     └ <contextlib._GeneratorContextManager object at 0x7183e7c30210>\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7183e7ff0a40>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x7183ece3b390>\n    |                      │    └ <class 'ai_room_cleaner.backend.core.logging.LoggingMiddleware'>\n    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7183ec13d160>\n    |\n    | TypeError: object LoggingMiddleware can't be used in 'await' expression\n    +------------------------------------\n\n\nDuring handling of the above exception, another exception occurred:\n\n\nTraceback (most recent call last):\n\n  File \"/usr/local/lib/python3.13/threading.py\", line 1014, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x7183f1f780e0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 124811340674752)>\n  File \"/usr/local/lib/python3.13/threading.py\", line 1043, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x7183f21c3e20>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 124811340674752)>\n  File \"/usr/local/lib/python3.13/threading.py\", line 994, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-3 (run_blocking_portal), started daemon 124811340674752)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-3 (run_blocking_portal), started daemon 124811340674752)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x7183ec117ce0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 124811340674752)>\n  File \"/usr/local/lib/python3.13/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x7183f0bdca40>\n    └ <module 'anyio._core._eventloop' from '/usr/local/lib/python3.13/site-packages/anyio/_core/_eventloop.py'>\n  File \"/usr/local/lib/python3.13/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x7183ec117880>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x7183ec0da200>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/usr/local/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x7183ec0dbb00>\n           │      └ <function Runner.run at 0x7183f1526660>\n           └ <asyncio.runners.Runner object at 0x7183ece3bd90>\n  File \"/usr/local/lib/python3.13/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x7183f1524180>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x7183ece3bd90>\n  File \"/usr/local/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x7183f15240e0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/usr/local/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x7183f1525ee0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/usr/local/lib/python3.13/asyncio/base_events.py\", line 2042, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x7183f16231a0>\n    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x7183ef953e80>()>\n  File \"/usr/local/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x7183ef953e80>()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x7183ef953e80>()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x7183ef953e80>()>\n  File \"/usr/local/lib/python3.13/site-packages/anyio/from_thread.py\", line 221, in _call_func\n    retval = await retval_or_awaitable\n                   └ <coroutine object FastAPI.__call__ at 0x7183ec0a58a0>\n  File \"/usr/local/lib/python3.13/site-packages/fastapi/applications.py\", line 1054, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x7183e7ff0680>\n                           │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x7183ec117560>\n                           └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/test-generic-exception', 'raw_path': b'/test-generic-excep...\n  File \"/usr/local/lib/python3.13/site-packages/starlette/applications.py\", line 112, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x7183e7ff0680>\n          │    │                │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x7183ec117560>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/test-generic-exception', 'raw_path': b'/test-generic-excep...\n          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7183ec13d2b0>\n          └ <fastapi.applications.FastAPI object at 0x7183ecd79010>\n> File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7183e7ff09a0>\n          │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x7183ec117560>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/test-generic-exception', 'raw_path': b'/test-generic-excep...\n          │    └ <function request_size_limit_middleware.<locals>.middleware at 0x7183ec0dbec0>\n          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7183ec13d2b0>\n\n  File \"/app/ai_room_cleaner/backend/middleware.py\", line 32, in middleware\n    await app(scope, receive, send)\n          │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7183e7ff09a0>\n          │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x7183ec117560>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/test-generic-exception', 'raw_path': b'/test-generic-excep...\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7183ec13d160>\n\n  File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x7183efb3fe20>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"/usr/local/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError(\"object LoggingMiddleware can't be used in 'await' expression\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x7183ec0b8ad0>\n    └ <contextlib._GeneratorContextManager object at 0x7183e7c30210>\n  File \"/usr/local/lib/python3.13/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7183e7ff0a40>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7183ece3b390>\n                     │    └ <class 'ai_room_cleaner.backend.core.logging.LoggingMiddleware'>\n                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7183ec13d160>\n\nTypeError: object LoggingMiddleware can't be used in 'await' expression\n", "record": {"elapsed": {"repr": "0:00:02.940237", "seconds": 2.940237}, "exception": {"type": "TypeError", "value": "object LoggingMiddleware can't be used in 'await' expression", "traceback": true}, "extra": {"exc_info": "object LoggingMiddleware can't be used in 'await' expression"}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "generic_exception_handler", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 108, "message": "An unexpected error occurred", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:31:59.919446+00:00", "timestamp": 1750091519.919446}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:03.097104", "seconds": 3.097104}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:32:00.076313+00:00", "timestamp": 1750091520.076313}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:03.118716", "seconds": 3.118716}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:32:00.097925+00:00", "timestamp": 1750091520.097925}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.135663", "seconds": 3.135663}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:32:00.114872+00:00", "timestamp": 1750091520.114872}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.136270", "seconds": 3.13627}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:32:00.115479+00:00", "timestamp": 1750091520.115479}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.136701", "seconds": 3.136701}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:32:00.115910+00:00", "timestamp": 1750091520.11591}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:03.136951", "seconds": 3.136951}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:32:00.116160+00:00", "timestamp": 1750091520.11616}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:03.137226", "seconds": 3.137226}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:32:00.116435+00:00", "timestamp": 1750091520.116435}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:03.137483", "seconds": 3.137483}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: Not set", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:32:00.116692+00:00", "timestamp": 1750091520.116692}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:03.137738", "seconds": 3.137738}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: test_model", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:32:00.116947+00:00", "timestamp": 1750091520.116947}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:03.137988", "seconds": 3.137988}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:32:00.117197+00:00", "timestamp": 1750091520.117197}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:03.138271", "seconds": 3.138271}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: None", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:32:00.117480+00:00", "timestamp": 1750091520.11748}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:03.138548", "seconds": 3.138548}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:32:00.117757+00:00", "timestamp": 1750091520.117757}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:03.140814", "seconds": 3.140814}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:32:00.120023+00:00", "timestamp": 1750091520.120023}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:03.142080", "seconds": 3.14208}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:32:00.121289+00:00", "timestamp": 1750091520.121289}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:03.143074", "seconds": 3.143074}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:32:00.122283+00:00", "timestamp": 1750091520.122283}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:03.143337", "seconds": 3.143337}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:32:00.122546+00:00", "timestamp": 1750091520.122546}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:03.157937", "seconds": 3.157937}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:32:00.137146+00:00", "timestamp": 1750091520.137146}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:03.158575", "seconds": 3.158575}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:32:00.137784+00:00", "timestamp": 1750091520.137784}}}
{"text": "An unexpected error occurred\n  + Exception Group Traceback (most recent call last):\n  |\n  |   File \"/usr/local/lib/python3.13/site-packages/starlette/_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 177, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x7183e7d6d850>\n  |                │     └ <function create_task_group at 0x7183f0ac19e0>\n  |                └ <module 'anyio' from '/usr/local/lib/python3.13/site-packages/anyio/__init__.py'>\n  |   File \"/usr/local/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7183e7ff18a0>\n    |           │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x7183e7ff1940>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/test-size-limit', 'raw_path': b'/test-size-limit', 'root_...\n    |           │    └ <function request_size_limit_middleware.<locals>.middleware at 0x7183ec0dbec0>\n    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7183ec13d2b0>\n    |\n    |   File \"/app/ai_room_cleaner/backend/middleware.py\", line 32, in middleware\n    |     await app(scope, receive, send)\n    |           │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7183e7ff18a0>\n    |           │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x7183e7ff1940>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/test-size-limit', 'raw_path': b'/test-size-limit', 'root_...\n    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7183ec13d160>\n    |\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x7183efb3fe20>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"/usr/local/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError(\"object LoggingMiddleware can't be used in 'await' expression\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x7183e7144380>\n    |     └ <contextlib._GeneratorContextManager object at 0x7183e7a58590>\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7183e7ff1b20>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x7183e7de4a50>\n    |                      │    └ <class 'ai_room_cleaner.backend.core.logging.LoggingMiddleware'>\n    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7183ec13d160>\n    |\n    | TypeError: object LoggingMiddleware can't be used in 'await' expression\n    +------------------------------------\n\n\nDuring handling of the above exception, another exception occurred:\n\n\nTraceback (most recent call last):\n\n  File \"/usr/local/lib/python3.13/threading.py\", line 1014, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x7183f1f780e0>\n    └ <Thread(Thread-4 (run_blocking_portal), started daemon 124811340674752)>\n  File \"/usr/local/lib/python3.13/threading.py\", line 1043, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x7183f21c3e20>\n    └ <Thread(Thread-4 (run_blocking_portal), started daemon 124811340674752)>\n  File \"/usr/local/lib/python3.13/threading.py\", line 994, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-4 (run_blocking_portal), started daemon 124811340674752)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-4 (run_blocking_portal), started daemon 124811340674752)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x7183ec08ff60>\n    └ <Thread(Thread-4 (run_blocking_portal), started daemon 124811340674752)>\n  File \"/usr/local/lib/python3.13/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x7183f0bdca40>\n    └ <module 'anyio._core._eventloop' from '/usr/local/lib/python3.13/site-packages/anyio/_core/_eventloop.py'>\n  File \"/usr/local/lib/python3.13/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x7183ec08d4e0>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x7183ec0da200>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/usr/local/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x7183ec08fba0>\n           │      └ <function Runner.run at 0x7183f1526660>\n           └ <asyncio.runners.Runner object at 0x7183e7de4550>\n  File \"/usr/local/lib/python3.13/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x7183f1524180>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x7183e7de4550>\n  File \"/usr/local/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x7183f15240e0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/usr/local/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x7183f1525ee0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/usr/local/lib/python3.13/asyncio/base_events.py\", line 2042, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x7183f16231a0>\n    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x7183ec0bf040>()>\n  File \"/usr/local/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x7183ec0bf040>()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x7183ec0bf040>()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x7183ec0bf040>()>\n  File \"/usr/local/lib/python3.13/site-packages/anyio/from_thread.py\", line 221, in _call_func\n    retval = await retval_or_awaitable\n                   └ <coroutine object FastAPI.__call__ at 0x7183ece2a200>\n  File \"/usr/local/lib/python3.13/site-packages/fastapi/applications.py\", line 1054, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x7183e7ff19e0>\n                           │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x7183e7ff1940>\n                           └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/test-size-limit', 'raw_path': b'/test-size-limit', 'root_...\n  File \"/usr/local/lib/python3.13/site-packages/starlette/applications.py\", line 112, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x7183e7ff19e0>\n          │    │                │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x7183e7ff1940>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/test-size-limit', 'raw_path': b'/test-size-limit', 'root_...\n          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7183ec13d2b0>\n          └ <fastapi.applications.FastAPI object at 0x7183ecd79010>\n> File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7183e7ff18a0>\n          │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x7183e7ff1940>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/test-size-limit', 'raw_path': b'/test-size-limit', 'root_...\n          │    └ <function request_size_limit_middleware.<locals>.middleware at 0x7183ec0dbec0>\n          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7183ec13d2b0>\n\n  File \"/app/ai_room_cleaner/backend/middleware.py\", line 32, in middleware\n    await app(scope, receive, send)\n          │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7183e7ff18a0>\n          │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x7183e7ff1940>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/test-size-limit', 'raw_path': b'/test-size-limit', 'root_...\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7183ec13d160>\n\n  File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x7183efb3fe20>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"/usr/local/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError(\"object LoggingMiddleware can't be used in 'await' expression\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x7183e7144380>\n    └ <contextlib._GeneratorContextManager object at 0x7183e7a58590>\n  File \"/usr/local/lib/python3.13/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7183e7ff1b20>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7183e7de4a50>\n                     │    └ <class 'ai_room_cleaner.backend.core.logging.LoggingMiddleware'>\n                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7183ec13d160>\n\nTypeError: object LoggingMiddleware can't be used in 'await' expression\n", "record": {"elapsed": {"repr": "0:00:03.162601", "seconds": 3.162601}, "exception": {"type": "TypeError", "value": "object LoggingMiddleware can't be used in 'await' expression", "traceback": true}, "extra": {"exc_info": "object LoggingMiddleware can't be used in 'await' expression"}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "generic_exception_handler", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 108, "message": "An unexpected error occurred", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:32:00.141810+00:00", "timestamp": 1750091520.14181}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:03.315223", "seconds": 3.315223}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811340674752, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:32:00.294432+00:00", "timestamp": 1750091520.294432}}}
{"text": "Mounted frontend directory: /app/ai_room_cleaner/frontend\n", "record": {"elapsed": {"repr": "0:00:03.352280", "seconds": 3.35228}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 148, "message": "Mounted frontend directory: /app/ai_room_cleaner/frontend", "module": "main", "name": "backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811521907584, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:32:00.331489+00:00", "timestamp": 1750091520.331489}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.483044", "seconds": 3.483044}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811521907584, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:32:00.462253+00:00", "timestamp": 1750091520.462253}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.483644", "seconds": 3.483644}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811521907584, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:32:00.462853+00:00", "timestamp": 1750091520.462853}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.484105", "seconds": 3.484105}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811521907584, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:32:00.463314+00:00", "timestamp": 1750091520.463314}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.520734", "seconds": 3.520734}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811521907584, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:32:00.499943+00:00", "timestamp": 1750091520.499943}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.521263", "seconds": 3.521263}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811521907584, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:32:00.500472+00:00", "timestamp": 1750091520.500472}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.521603", "seconds": 3.521603}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811521907584, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:32:00.500812+00:00", "timestamp": 1750091520.500812}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.556412", "seconds": 3.556412}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811521907584, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:32:00.535621+00:00", "timestamp": 1750091520.535621}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.556994", "seconds": 3.556994}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811521907584, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:32:00.536203+00:00", "timestamp": 1750091520.536203}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.557471", "seconds": 3.557471}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811521907584, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:32:00.536680+00:00", "timestamp": 1750091520.53668}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.591682", "seconds": 3.591682}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811521907584, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:32:00.570891+00:00", "timestamp": 1750091520.570891}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.592494", "seconds": 3.592494}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811521907584, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:32:00.571703+00:00", "timestamp": 1750091520.571703}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.593231", "seconds": 3.593231}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811521907584, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:32:00.572440+00:00", "timestamp": 1750091520.57244}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.626938", "seconds": 3.626938}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811521907584, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:32:00.606147+00:00", "timestamp": 1750091520.606147}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.627585", "seconds": 3.627585}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811521907584, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:32:00.606794+00:00", "timestamp": 1750091520.606794}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.628313", "seconds": 3.628313}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811521907584, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:32:00.607522+00:00", "timestamp": 1750091520.607522}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.661454", "seconds": 3.661454}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811521907584, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:32:00.640663+00:00", "timestamp": 1750091520.640663}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.662280", "seconds": 3.66228}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811521907584, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:32:00.641489+00:00", "timestamp": 1750091520.641489}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.662755", "seconds": 3.662755}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811521907584, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:32:00.641964+00:00", "timestamp": 1750091520.641964}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.696659", "seconds": 3.696659}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811521907584, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:32:00.675868+00:00", "timestamp": 1750091520.675868}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.697234", "seconds": 3.697234}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811521907584, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:32:00.676443+00:00", "timestamp": 1750091520.676443}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.697562", "seconds": 3.697562}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811521907584, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:32:00.676771+00:00", "timestamp": 1750091520.676771}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.731553", "seconds": 3.731553}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811521907584, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:32:00.710762+00:00", "timestamp": 1750091520.710762}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.732275", "seconds": 3.732275}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811521907584, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:32:00.711484+00:00", "timestamp": 1750091520.711484}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.732765", "seconds": 3.732765}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811521907584, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:32:00.711974+00:00", "timestamp": 1750091520.711974}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.767258", "seconds": 3.767258}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811521907584, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:32:00.746467+00:00", "timestamp": 1750091520.746467}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.767800", "seconds": 3.7678}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811521907584, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:32:00.747009+00:00", "timestamp": 1750091520.747009}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.768297", "seconds": 3.768297}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811521907584, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:32:00.747506+00:00", "timestamp": 1750091520.747506}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.802307", "seconds": 3.802307}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811521907584, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:32:00.781516+00:00", "timestamp": 1750091520.781516}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.802873", "seconds": 3.802873}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811521907584, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:32:00.782082+00:00", "timestamp": 1750091520.782082}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.803231", "seconds": 3.803231}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 124811521907584, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:32:00.782440+00:00", "timestamp": 1750091520.78244}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.803537", "seconds": 2.803537}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.008972+00:00", "timestamp": 1750091618.008972}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.818822", "seconds": 2.818822}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.024257+00:00", "timestamp": 1750091618.024257}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.819300", "seconds": 2.8193}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.024735+00:00", "timestamp": 1750091618.024735}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.819593", "seconds": 2.819593}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.025028+00:00", "timestamp": 1750091618.025028}}}
{"text": "Application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.819903", "seconds": 2.819903}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Application state initialized.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.025338+00:00", "timestamp": 1750091618.025338}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.820122", "seconds": 2.820122}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.025557+00:00", "timestamp": 1750091618.025557}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.820375", "seconds": 2.820375}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: Not set", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.025810+00:00", "timestamp": 1750091618.02581}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.820633", "seconds": 2.820633}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: test_model", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.026068+00:00", "timestamp": 1750091618.026068}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.820891", "seconds": 2.820891}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.026326+00:00", "timestamp": 1750091618.026326}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.821154", "seconds": 2.821154}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: None", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.026589+00:00", "timestamp": 1750091618.026589}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.821444", "seconds": 2.821444}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.026879+00:00", "timestamp": 1750091618.026879}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.823105", "seconds": 2.823105}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.028540+00:00", "timestamp": 1750091618.02854}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.824154", "seconds": 2.824154}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.029589+00:00", "timestamp": 1750091618.029589}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.825143", "seconds": 2.825143}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.030578+00:00", "timestamp": 1750091618.030578}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.825348", "seconds": 2.825348}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.030783+00:00", "timestamp": 1750091618.030783}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.839298", "seconds": 2.839298}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.044733+00:00", "timestamp": 1750091618.044733}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.839931", "seconds": 2.839931}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.045366+00:00", "timestamp": 1750091618.045366}}}
{"text": "Request: GET http://testserver/test-app-exception\n", "record": {"elapsed": {"repr": "0:00:02.842622", "seconds": 2.842622}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/test-app-exception", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.048057+00:00", "timestamp": 1750091618.048057}}}
{"text": "Response: 404\n", "record": {"elapsed": {"repr": "0:00:02.849930", "seconds": 2.84993}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 404", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.055365+00:00", "timestamp": 1750091618.055365}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.872951", "seconds": 2.872951}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.078386+00:00", "timestamp": 1750091618.078386}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.895498", "seconds": 2.895498}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.100933+00:00", "timestamp": 1750091618.100933}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.910487", "seconds": 2.910487}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.115922+00:00", "timestamp": 1750091618.115922}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.911310", "seconds": 2.91131}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.116745+00:00", "timestamp": 1750091618.116745}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.911776", "seconds": 2.911776}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.117211+00:00", "timestamp": 1750091618.117211}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:02.912132", "seconds": 2.912132}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.117567+00:00", "timestamp": 1750091618.117567}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.912362", "seconds": 2.912362}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.117797+00:00", "timestamp": 1750091618.117797}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.912560", "seconds": 2.91256}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: Not set", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.117995+00:00", "timestamp": 1750091618.117995}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.912839", "seconds": 2.912839}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: test_model", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.118274+00:00", "timestamp": 1750091618.118274}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.913076", "seconds": 2.913076}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.118511+00:00", "timestamp": 1750091618.118511}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.913321", "seconds": 2.913321}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: None", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.118756+00:00", "timestamp": 1750091618.118756}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.913545", "seconds": 2.913545}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.118980+00:00", "timestamp": 1750091618.11898}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.914986", "seconds": 2.914986}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.120421+00:00", "timestamp": 1750091618.120421}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.915914", "seconds": 2.915914}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.121349+00:00", "timestamp": 1750091618.121349}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.917030", "seconds": 2.91703}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.122465+00:00", "timestamp": 1750091618.122465}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.917263", "seconds": 2.917263}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.122698+00:00", "timestamp": 1750091618.122698}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.932513", "seconds": 2.932513}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.137948+00:00", "timestamp": 1750091618.137948}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.933349", "seconds": 2.933349}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.138784+00:00", "timestamp": 1750091618.138784}}}
{"text": "Request: GET http://testserver/test-generic-exception\n", "record": {"elapsed": {"repr": "0:00:02.936290", "seconds": 2.93629}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/test-generic-exception", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.141725+00:00", "timestamp": 1750091618.141725}}}
{"text": "Response: 404\n", "record": {"elapsed": {"repr": "0:00:02.943760", "seconds": 2.94376}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 404", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.149195+00:00", "timestamp": 1750091618.149195}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.960546", "seconds": 2.960546}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.165981+00:00", "timestamp": 1750091618.165981}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.985204", "seconds": 2.985204}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.190639+00:00", "timestamp": 1750091618.190639}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.000483", "seconds": 3.000483}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.205918+00:00", "timestamp": 1750091618.205918}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.001370", "seconds": 3.00137}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.206805+00:00", "timestamp": 1750091618.206805}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.001829", "seconds": 3.001829}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.207264+00:00", "timestamp": 1750091618.207264}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:03.002197", "seconds": 3.002197}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.207632+00:00", "timestamp": 1750091618.207632}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:03.002606", "seconds": 3.002606}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.208041+00:00", "timestamp": 1750091618.208041}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:03.002971", "seconds": 3.002971}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: Not set", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.208406+00:00", "timestamp": 1750091618.208406}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:03.003433", "seconds": 3.003433}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: test_model", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.208868+00:00", "timestamp": 1750091618.208868}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:03.003740", "seconds": 3.00374}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.209175+00:00", "timestamp": 1750091618.209175}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:03.003945", "seconds": 3.003945}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: None", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.209380+00:00", "timestamp": 1750091618.20938}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:03.004127", "seconds": 3.004127}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.209562+00:00", "timestamp": 1750091618.209562}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:03.005960", "seconds": 3.00596}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.211395+00:00", "timestamp": 1750091618.211395}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:03.007419", "seconds": 3.007419}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.212854+00:00", "timestamp": 1750091618.212854}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:03.008356", "seconds": 3.008356}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.213791+00:00", "timestamp": 1750091618.213791}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:03.008571", "seconds": 3.008571}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.214006+00:00", "timestamp": 1750091618.214006}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:03.023314", "seconds": 3.023314}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.228749+00:00", "timestamp": 1750091618.228749}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:03.024085", "seconds": 3.024085}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.229520+00:00", "timestamp": 1750091618.22952}}}
{"text": "Request: POST http://testserver/test-size-limit\n", "record": {"elapsed": {"repr": "0:00:03.028344", "seconds": 3.028344}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: POST http://testserver/test-size-limit", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.233779+00:00", "timestamp": 1750091618.233779}}}
{"text": "Response: 405\n", "record": {"elapsed": {"repr": "0:00:03.029051", "seconds": 3.029051}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 405", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.234486+00:00", "timestamp": 1750091618.234486}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:03.042817", "seconds": 3.042817}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134400863893184, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:33:38.248252+00:00", "timestamp": 1750091618.248252}}}
{"text": "Mounted frontend directory: /app/ai_room_cleaner/frontend\n", "record": {"elapsed": {"repr": "0:00:03.081809", "seconds": 3.081809}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 148, "message": "Mounted frontend directory: /app/ai_room_cleaner/frontend", "module": "main", "name": "backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134401044433792, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:33:38.287244+00:00", "timestamp": 1750091618.287244}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.221904", "seconds": 3.221904}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134401044433792, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:33:38.427339+00:00", "timestamp": 1750091618.427339}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.222787", "seconds": 3.222787}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134401044433792, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:33:38.428222+00:00", "timestamp": 1750091618.428222}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.223392", "seconds": 3.223392}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134401044433792, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:33:38.428827+00:00", "timestamp": 1750091618.428827}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.262682", "seconds": 3.262682}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134401044433792, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:33:38.468117+00:00", "timestamp": 1750091618.468117}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.263235", "seconds": 3.263235}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134401044433792, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:33:38.468670+00:00", "timestamp": 1750091618.46867}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.263562", "seconds": 3.263562}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134401044433792, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:33:38.468997+00:00", "timestamp": 1750091618.468997}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.298670", "seconds": 3.29867}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134401044433792, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:33:38.504105+00:00", "timestamp": 1750091618.504105}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.299426", "seconds": 3.299426}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134401044433792, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:33:38.504861+00:00", "timestamp": 1750091618.504861}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.299910", "seconds": 3.29991}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134401044433792, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:33:38.505345+00:00", "timestamp": 1750091618.505345}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.333588", "seconds": 3.333588}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134401044433792, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:33:38.539023+00:00", "timestamp": 1750091618.539023}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.334116", "seconds": 3.334116}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134401044433792, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:33:38.539551+00:00", "timestamp": 1750091618.539551}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.334570", "seconds": 3.33457}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134401044433792, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:33:38.540005+00:00", "timestamp": 1750091618.540005}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.371240", "seconds": 3.37124}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134401044433792, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:33:38.576675+00:00", "timestamp": 1750091618.576675}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.372062", "seconds": 3.372062}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134401044433792, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:33:38.577497+00:00", "timestamp": 1750091618.577497}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.372853", "seconds": 3.372853}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134401044433792, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:33:38.578288+00:00", "timestamp": 1750091618.578288}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.406546", "seconds": 3.406546}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134401044433792, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:33:38.611981+00:00", "timestamp": 1750091618.611981}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.407280", "seconds": 3.40728}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134401044433792, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:33:38.612715+00:00", "timestamp": 1750091618.612715}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.407686", "seconds": 3.407686}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134401044433792, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:33:38.613121+00:00", "timestamp": 1750091618.613121}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.443651", "seconds": 3.443651}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134401044433792, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:33:38.649086+00:00", "timestamp": 1750091618.649086}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.444464", "seconds": 3.444464}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134401044433792, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:33:38.649899+00:00", "timestamp": 1750091618.649899}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.444989", "seconds": 3.444989}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134401044433792, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:33:38.650424+00:00", "timestamp": 1750091618.650424}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.478967", "seconds": 3.478967}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134401044433792, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:33:38.684402+00:00", "timestamp": 1750091618.684402}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.479511", "seconds": 3.479511}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134401044433792, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:33:38.684946+00:00", "timestamp": 1750091618.684946}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.479868", "seconds": 3.479868}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134401044433792, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:33:38.685303+00:00", "timestamp": 1750091618.685303}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.514901", "seconds": 3.514901}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134401044433792, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:33:38.720336+00:00", "timestamp": 1750091618.720336}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.515625", "seconds": 3.515625}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134401044433792, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:33:38.721060+00:00", "timestamp": 1750091618.72106}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.516021", "seconds": 3.516021}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134401044433792, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:33:38.721456+00:00", "timestamp": 1750091618.721456}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.552886", "seconds": 3.552886}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134401044433792, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:33:38.758321+00:00", "timestamp": 1750091618.758321}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.553698", "seconds": 3.553698}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134401044433792, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:33:38.759133+00:00", "timestamp": 1750091618.759133}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.554206", "seconds": 3.554206}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134401044433792, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:33:38.759641+00:00", "timestamp": 1750091618.759641}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.415741", "seconds": 2.415741}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:03.919225+00:00", "timestamp": 1750091703.919225}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.430586", "seconds": 2.430586}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:03.934070+00:00", "timestamp": 1750091703.93407}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.431181", "seconds": 2.431181}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:03.934665+00:00", "timestamp": 1750091703.934665}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.431607", "seconds": 2.431607}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:03.935091+00:00", "timestamp": 1750091703.935091}}}
{"text": "Application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.431868", "seconds": 2.431868}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Application state initialized.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:03.935352+00:00", "timestamp": 1750091703.935352}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.432062", "seconds": 2.432062}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:03.935546+00:00", "timestamp": 1750091703.935546}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.432297", "seconds": 2.432297}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: Not set", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:03.935781+00:00", "timestamp": 1750091703.935781}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.432521", "seconds": 2.432521}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: test_model", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:03.936005+00:00", "timestamp": 1750091703.936005}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.432733", "seconds": 2.432733}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:03.936217+00:00", "timestamp": 1750091703.936217}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.432947", "seconds": 2.432947}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: None", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:03.936431+00:00", "timestamp": 1750091703.936431}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.433187", "seconds": 2.433187}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:03.936671+00:00", "timestamp": 1750091703.936671}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.434639", "seconds": 2.434639}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:03.938123+00:00", "timestamp": 1750091703.938123}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.435837", "seconds": 2.435837}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:03.939321+00:00", "timestamp": 1750091703.939321}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.437082", "seconds": 2.437082}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:03.940566+00:00", "timestamp": 1750091703.940566}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.437467", "seconds": 2.437467}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:03.940951+00:00", "timestamp": 1750091703.940951}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.452285", "seconds": 2.452285}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:03.955769+00:00", "timestamp": 1750091703.955769}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.452949", "seconds": 2.452949}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:03.956433+00:00", "timestamp": 1750091703.956433}}}
{"text": "Request: GET http://testserver/test-app-exception\n", "record": {"elapsed": {"repr": "0:00:02.455236", "seconds": 2.455236}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/test-app-exception", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:03.958720+00:00", "timestamp": 1750091703.95872}}}
{"text": "Response: 404\n", "record": {"elapsed": {"repr": "0:00:02.464597", "seconds": 2.464597}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 404", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:03.968081+00:00", "timestamp": 1750091703.968081}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.487271", "seconds": 2.487271}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:03.990755+00:00", "timestamp": 1750091703.990755}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.510170", "seconds": 2.51017}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.013654+00:00", "timestamp": 1750091704.013654}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.526239", "seconds": 2.526239}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.029723+00:00", "timestamp": 1750091704.029723}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.527000", "seconds": 2.527}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.030484+00:00", "timestamp": 1750091704.030484}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.527625", "seconds": 2.527625}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.031109+00:00", "timestamp": 1750091704.031109}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:02.527955", "seconds": 2.527955}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.031439+00:00", "timestamp": 1750091704.031439}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.528288", "seconds": 2.528288}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.031772+00:00", "timestamp": 1750091704.031772}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.528530", "seconds": 2.52853}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: Not set", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.032014+00:00", "timestamp": 1750091704.032014}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.528742", "seconds": 2.528742}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: test_model", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.032226+00:00", "timestamp": 1750091704.032226}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.529019", "seconds": 2.529019}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.032503+00:00", "timestamp": 1750091704.032503}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.529228", "seconds": 2.529228}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: None", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.032712+00:00", "timestamp": 1750091704.032712}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.529506", "seconds": 2.529506}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.032990+00:00", "timestamp": 1750091704.03299}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.531996", "seconds": 2.531996}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.035480+00:00", "timestamp": 1750091704.03548}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.533584", "seconds": 2.533584}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.037068+00:00", "timestamp": 1750091704.037068}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.535048", "seconds": 2.535048}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.038532+00:00", "timestamp": 1750091704.038532}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.535491", "seconds": 2.535491}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.038975+00:00", "timestamp": 1750091704.038975}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.552244", "seconds": 2.552244}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.055728+00:00", "timestamp": 1750091704.055728}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.552975", "seconds": 2.552975}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.056459+00:00", "timestamp": 1750091704.056459}}}
{"text": "Request: GET http://testserver/test-generic-exception\n", "record": {"elapsed": {"repr": "0:00:02.555313", "seconds": 2.555313}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/test-generic-exception", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.058797+00:00", "timestamp": 1750091704.058797}}}
{"text": "Response: 404\n", "record": {"elapsed": {"repr": "0:00:02.562426", "seconds": 2.562426}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 404", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.065910+00:00", "timestamp": 1750091704.06591}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.590973", "seconds": 2.590973}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.094457+00:00", "timestamp": 1750091704.094457}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.619586", "seconds": 2.619586}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.123070+00:00", "timestamp": 1750091704.12307}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.637154", "seconds": 2.637154}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.140638+00:00", "timestamp": 1750091704.140638}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.637806", "seconds": 2.637806}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.141290+00:00", "timestamp": 1750091704.14129}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.638245", "seconds": 2.638245}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.141729+00:00", "timestamp": 1750091704.141729}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:02.638670", "seconds": 2.63867}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.142154+00:00", "timestamp": 1750091704.142154}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.639075", "seconds": 2.639075}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.142559+00:00", "timestamp": 1750091704.142559}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.639424", "seconds": 2.639424}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: Not set", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.142908+00:00", "timestamp": 1750091704.142908}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.639813", "seconds": 2.639813}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: test_model", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.143297+00:00", "timestamp": 1750091704.143297}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.640100", "seconds": 2.6401}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.143584+00:00", "timestamp": 1750091704.143584}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.640454", "seconds": 2.640454}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: None", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.143938+00:00", "timestamp": 1750091704.143938}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.640816", "seconds": 2.640816}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.144300+00:00", "timestamp": 1750091704.1443}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.642933", "seconds": 2.642933}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.146417+00:00", "timestamp": 1750091704.146417}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.644958", "seconds": 2.644958}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.148442+00:00", "timestamp": 1750091704.148442}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.646515", "seconds": 2.646515}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.149999+00:00", "timestamp": 1750091704.149999}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.646844", "seconds": 2.646844}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.150328+00:00", "timestamp": 1750091704.150328}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.660852", "seconds": 2.660852}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.164336+00:00", "timestamp": 1750091704.164336}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.661413", "seconds": 2.661413}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.164897+00:00", "timestamp": 1750091704.164897}}}
{"text": "Request: POST http://testserver/test-size-limit\n", "record": {"elapsed": {"repr": "0:00:02.664147", "seconds": 2.664147}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: POST http://testserver/test-size-limit", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.167631+00:00", "timestamp": 1750091704.167631}}}
{"text": "Response: 405\n", "record": {"elapsed": {"repr": "0:00:02.664584", "seconds": 2.664584}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 405", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.168068+00:00", "timestamp": 1750091704.168068}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.679155", "seconds": 2.679155}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798395610816, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:04.182639+00:00", "timestamp": 1750091704.182639}}}
{"text": "Mounted frontend directory: /app/ai_room_cleaner/frontend\n", "record": {"elapsed": {"repr": "0:00:02.717322", "seconds": 2.717322}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 148, "message": "Mounted frontend directory: /app/ai_room_cleaner/frontend", "module": "main", "name": "backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798504033152, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:04.220806+00:00", "timestamp": 1750091704.220806}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.853278", "seconds": 2.853278}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798504033152, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:04.356762+00:00", "timestamp": 1750091704.356762}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.854054", "seconds": 2.854054}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798504033152, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:04.357538+00:00", "timestamp": 1750091704.357538}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.854638", "seconds": 2.854638}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798504033152, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:04.358122+00:00", "timestamp": 1750091704.358122}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.893427", "seconds": 2.893427}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798504033152, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:04.396911+00:00", "timestamp": 1750091704.396911}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.894045", "seconds": 2.894045}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798504033152, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:04.397529+00:00", "timestamp": 1750091704.397529}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.894537", "seconds": 2.894537}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798504033152, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:04.398021+00:00", "timestamp": 1750091704.398021}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.929703", "seconds": 2.929703}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798504033152, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:04.433187+00:00", "timestamp": 1750091704.433187}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.930605", "seconds": 2.930605}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798504033152, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:04.434089+00:00", "timestamp": 1750091704.434089}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.931071", "seconds": 2.931071}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798504033152, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:04.434555+00:00", "timestamp": 1750091704.434555}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.964181", "seconds": 2.964181}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798504033152, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:04.467665+00:00", "timestamp": 1750091704.467665}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.964973", "seconds": 2.964973}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798504033152, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:04.468457+00:00", "timestamp": 1750091704.468457}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.965573", "seconds": 2.965573}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798504033152, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:04.469057+00:00", "timestamp": 1750091704.469057}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.004537", "seconds": 3.004537}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798504033152, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:04.508021+00:00", "timestamp": 1750091704.508021}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.005425", "seconds": 3.005425}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798504033152, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:04.508909+00:00", "timestamp": 1750091704.508909}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.006278", "seconds": 3.006278}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798504033152, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:04.509762+00:00", "timestamp": 1750091704.509762}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.041104", "seconds": 3.041104}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798504033152, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:04.544588+00:00", "timestamp": 1750091704.544588}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.041873", "seconds": 3.041873}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798504033152, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:04.545357+00:00", "timestamp": 1750091704.545357}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.042438", "seconds": 3.042438}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798504033152, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:04.545922+00:00", "timestamp": 1750091704.545922}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.080095", "seconds": 3.080095}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798504033152, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:04.583579+00:00", "timestamp": 1750091704.583579}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.080740", "seconds": 3.08074}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798504033152, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:04.584224+00:00", "timestamp": 1750091704.584224}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.081142", "seconds": 3.081142}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798504033152, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:04.584626+00:00", "timestamp": 1750091704.584626}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.114244", "seconds": 3.114244}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798504033152, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:04.617728+00:00", "timestamp": 1750091704.617728}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.114941", "seconds": 3.114941}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798504033152, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:04.618425+00:00", "timestamp": 1750091704.618425}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.115547", "seconds": 3.115547}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798504033152, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:04.619031+00:00", "timestamp": 1750091704.619031}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.153258", "seconds": 3.153258}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798504033152, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:04.656742+00:00", "timestamp": 1750091704.656742}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.154182", "seconds": 3.154182}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798504033152, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:04.657666+00:00", "timestamp": 1750091704.657666}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.154795", "seconds": 3.154795}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798504033152, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:04.658279+00:00", "timestamp": 1750091704.658279}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.190951", "seconds": 3.190951}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798504033152, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:04.694435+00:00", "timestamp": 1750091704.694435}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.191839", "seconds": 3.191839}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798504033152, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:04.695323+00:00", "timestamp": 1750091704.695323}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.192436", "seconds": 3.192436}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123798504033152, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:04.695920+00:00", "timestamp": 1750091704.69592}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.393558", "seconds": 2.393558}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.290208+00:00", "timestamp": 1750091736.290208}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.409899", "seconds": 2.409899}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.306549+00:00", "timestamp": 1750091736.306549}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.410467", "seconds": 2.410467}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.307117+00:00", "timestamp": 1750091736.307117}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.410770", "seconds": 2.41077}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.307420+00:00", "timestamp": 1750091736.30742}}}
{"text": "Application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.410989", "seconds": 2.410989}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Application state initialized.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.307639+00:00", "timestamp": 1750091736.307639}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.411223", "seconds": 2.411223}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.307873+00:00", "timestamp": 1750091736.307873}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.411482", "seconds": 2.411482}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: Not set", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.308132+00:00", "timestamp": 1750091736.308132}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.411927", "seconds": 2.411927}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: test_model", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.308577+00:00", "timestamp": 1750091736.308577}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.412264", "seconds": 2.412264}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.308914+00:00", "timestamp": 1750091736.308914}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.412573", "seconds": 2.412573}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: None", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.309223+00:00", "timestamp": 1750091736.309223}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.412882", "seconds": 2.412882}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.309532+00:00", "timestamp": 1750091736.309532}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.414615", "seconds": 2.414615}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.311265+00:00", "timestamp": 1750091736.311265}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.415783", "seconds": 2.415783}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.312433+00:00", "timestamp": 1750091736.312433}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.417399", "seconds": 2.417399}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.314049+00:00", "timestamp": 1750091736.314049}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.417671", "seconds": 2.417671}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.314321+00:00", "timestamp": 1750091736.314321}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.432993", "seconds": 2.432993}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.329643+00:00", "timestamp": 1750091736.329643}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.433577", "seconds": 2.433577}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.330227+00:00", "timestamp": 1750091736.330227}}}
{"text": "Request: GET http://testserver/test-app-exception\n", "record": {"elapsed": {"repr": "0:00:02.436856", "seconds": 2.436856}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/test-app-exception", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.333506+00:00", "timestamp": 1750091736.333506}}}
{"text": "Response: 404\n", "record": {"elapsed": {"repr": "0:00:02.447780", "seconds": 2.44778}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 404", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.344430+00:00", "timestamp": 1750091736.34443}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.470036", "seconds": 2.470036}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.366686+00:00", "timestamp": 1750091736.366686}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.494906", "seconds": 2.494906}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.391556+00:00", "timestamp": 1750091736.391556}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.512410", "seconds": 2.51241}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.409060+00:00", "timestamp": 1750091736.40906}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.513151", "seconds": 2.513151}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.409801+00:00", "timestamp": 1750091736.409801}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.513579", "seconds": 2.513579}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.410229+00:00", "timestamp": 1750091736.410229}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:02.513858", "seconds": 2.513858}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.410508+00:00", "timestamp": 1750091736.410508}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.514136", "seconds": 2.514136}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.410786+00:00", "timestamp": 1750091736.410786}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.514442", "seconds": 2.514442}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: Not set", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.411092+00:00", "timestamp": 1750091736.411092}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.514719", "seconds": 2.514719}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: test_model", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.411369+00:00", "timestamp": 1750091736.411369}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.515046", "seconds": 2.515046}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.411696+00:00", "timestamp": 1750091736.411696}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.515320", "seconds": 2.51532}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: None", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.411970+00:00", "timestamp": 1750091736.41197}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.515611", "seconds": 2.515611}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.412261+00:00", "timestamp": 1750091736.412261}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.517852", "seconds": 2.517852}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.414502+00:00", "timestamp": 1750091736.414502}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.519718", "seconds": 2.519718}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.416368+00:00", "timestamp": 1750091736.416368}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.521857", "seconds": 2.521857}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.418507+00:00", "timestamp": 1750091736.418507}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.522498", "seconds": 2.522498}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.419148+00:00", "timestamp": 1750091736.419148}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.545192", "seconds": 2.545192}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.441842+00:00", "timestamp": 1750091736.441842}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.546030", "seconds": 2.54603}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.442680+00:00", "timestamp": 1750091736.44268}}}
{"text": "Request: GET http://testserver/test-generic-exception\n", "record": {"elapsed": {"repr": "0:00:02.548841", "seconds": 2.548841}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/test-generic-exception", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.445491+00:00", "timestamp": 1750091736.445491}}}
{"text": "Response: 404\n", "record": {"elapsed": {"repr": "0:00:02.554943", "seconds": 2.554943}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 404", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.451593+00:00", "timestamp": 1750091736.451593}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.569910", "seconds": 2.56991}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.466560+00:00", "timestamp": 1750091736.46656}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.592053", "seconds": 2.592053}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.488703+00:00", "timestamp": 1750091736.488703}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.608658", "seconds": 2.608658}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.505308+00:00", "timestamp": 1750091736.505308}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.609530", "seconds": 2.60953}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.506180+00:00", "timestamp": 1750091736.50618}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.610032", "seconds": 2.610032}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.506682+00:00", "timestamp": 1750091736.506682}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:02.610438", "seconds": 2.610438}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.507088+00:00", "timestamp": 1750091736.507088}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.610752", "seconds": 2.610752}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.507402+00:00", "timestamp": 1750091736.507402}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.611187", "seconds": 2.611187}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: Not set", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.507837+00:00", "timestamp": 1750091736.507837}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.611447", "seconds": 2.611447}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: test_model", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.508097+00:00", "timestamp": 1750091736.508097}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.611683", "seconds": 2.611683}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.508333+00:00", "timestamp": 1750091736.508333}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.611888", "seconds": 2.611888}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: None", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.508538+00:00", "timestamp": 1750091736.508538}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.612113", "seconds": 2.612113}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.508763+00:00", "timestamp": 1750091736.508763}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.614310", "seconds": 2.61431}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.510960+00:00", "timestamp": 1750091736.51096}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.615580", "seconds": 2.61558}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.512230+00:00", "timestamp": 1750091736.51223}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.616737", "seconds": 2.616737}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.513387+00:00", "timestamp": 1750091736.513387}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.617094", "seconds": 2.617094}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.513744+00:00", "timestamp": 1750091736.513744}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.632552", "seconds": 2.632552}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.529202+00:00", "timestamp": 1750091736.529202}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.633217", "seconds": 2.633217}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.529867+00:00", "timestamp": 1750091736.529867}}}
{"text": "Request: POST http://testserver/test-size-limit\n", "record": {"elapsed": {"repr": "0:00:02.636971", "seconds": 2.636971}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: POST http://testserver/test-size-limit", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.533621+00:00", "timestamp": 1750091736.533621}}}
{"text": "Response: 405\n", "record": {"elapsed": {"repr": "0:00:02.637510", "seconds": 2.63751}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 405", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.534160+00:00", "timestamp": 1750091736.53416}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.653523", "seconds": 2.653523}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460459865792, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 16:35:36.550173+00:00", "timestamp": 1750091736.550173}}}
{"text": "Mounted frontend directory: /app/ai_room_cleaner/frontend\n", "record": {"elapsed": {"repr": "0:00:02.693824", "seconds": 2.693824}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 148, "message": "Mounted frontend directory: /app/ai_room_cleaner/frontend", "module": "main", "name": "backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460568288128, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:36.590474+00:00", "timestamp": 1750091736.590474}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.830794", "seconds": 2.830794}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460568288128, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:36.727444+00:00", "timestamp": 1750091736.727444}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.831345", "seconds": 2.831345}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460568288128, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:36.727995+00:00", "timestamp": 1750091736.727995}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.831711", "seconds": 2.831711}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460568288128, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:36.728361+00:00", "timestamp": 1750091736.728361}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.869417", "seconds": 2.869417}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460568288128, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:36.766067+00:00", "timestamp": 1750091736.766067}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.870763", "seconds": 2.870763}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460568288128, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:36.767413+00:00", "timestamp": 1750091736.767413}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.871292", "seconds": 2.871292}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460568288128, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:36.767942+00:00", "timestamp": 1750091736.767942}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.911158", "seconds": 2.911158}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460568288128, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:36.807808+00:00", "timestamp": 1750091736.807808}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.912012", "seconds": 2.912012}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460568288128, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:36.808662+00:00", "timestamp": 1750091736.808662}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.912716", "seconds": 2.912716}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460568288128, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:36.809366+00:00", "timestamp": 1750091736.809366}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.946748", "seconds": 2.946748}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460568288128, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:36.843398+00:00", "timestamp": 1750091736.843398}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.947737", "seconds": 2.947737}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460568288128, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:36.844387+00:00", "timestamp": 1750091736.844387}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.948457", "seconds": 2.948457}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460568288128, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:36.845107+00:00", "timestamp": 1750091736.845107}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.984089", "seconds": 2.984089}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460568288128, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:36.880739+00:00", "timestamp": 1750091736.880739}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.985027", "seconds": 2.985027}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460568288128, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:36.881677+00:00", "timestamp": 1750091736.881677}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.985609", "seconds": 2.985609}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460568288128, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:36.882259+00:00", "timestamp": 1750091736.882259}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.021235", "seconds": 3.021235}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460568288128, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:36.917885+00:00", "timestamp": 1750091736.917885}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.022090", "seconds": 3.02209}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460568288128, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:36.918740+00:00", "timestamp": 1750091736.91874}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.022760", "seconds": 3.02276}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460568288128, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:36.919410+00:00", "timestamp": 1750091736.91941}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.061800", "seconds": 3.0618}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460568288128, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:36.958450+00:00", "timestamp": 1750091736.95845}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.062587", "seconds": 3.062587}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460568288128, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:36.959237+00:00", "timestamp": 1750091736.959237}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.063055", "seconds": 3.063055}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460568288128, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:36.959705+00:00", "timestamp": 1750091736.959705}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.096565", "seconds": 3.096565}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460568288128, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:36.993215+00:00", "timestamp": 1750091736.993215}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.097336", "seconds": 3.097336}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460568288128, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:36.993986+00:00", "timestamp": 1750091736.993986}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.097985", "seconds": 3.097985}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460568288128, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:36.994635+00:00", "timestamp": 1750091736.994635}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.134597", "seconds": 3.134597}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460568288128, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:37.031247+00:00", "timestamp": 1750091737.031247}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.135284", "seconds": 3.135284}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460568288128, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:37.031934+00:00", "timestamp": 1750091737.031934}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.136259", "seconds": 3.136259}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460568288128, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:37.032909+00:00", "timestamp": 1750091737.032909}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.170328", "seconds": 3.170328}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460568288128, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:37.066978+00:00", "timestamp": 1750091737.066978}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.171105", "seconds": 3.171105}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460568288128, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:37.067755+00:00", "timestamp": 1750091737.067755}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.171548", "seconds": 3.171548}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 131460568288128, "name": "MainThread"}, "time": {"repr": "2025-06-16 16:35:37.068198+00:00", "timestamp": 1750091737.068198}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.483570", "seconds": 2.48357}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:02.955000+00:00", "timestamp": 1750095962.955}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.499137", "seconds": 2.499137}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:02.970567+00:00", "timestamp": 1750095962.970567}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.500053", "seconds": 2.500053}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:02.971483+00:00", "timestamp": 1750095962.971483}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.500584", "seconds": 2.500584}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:02.972014+00:00", "timestamp": 1750095962.972014}}}
{"text": "Application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.500910", "seconds": 2.50091}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Application state initialized.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:02.972340+00:00", "timestamp": 1750095962.97234}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.501143", "seconds": 2.501143}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:02.972573+00:00", "timestamp": 1750095962.972573}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.501350", "seconds": 2.50135}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: Not set", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:02.972780+00:00", "timestamp": 1750095962.97278}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.501549", "seconds": 2.501549}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: test_model", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:02.972979+00:00", "timestamp": 1750095962.972979}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.501739", "seconds": 2.501739}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:02.973169+00:00", "timestamp": 1750095962.973169}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.501973", "seconds": 2.501973}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: None", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:02.973403+00:00", "timestamp": 1750095962.973403}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.502174", "seconds": 2.502174}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:02.973604+00:00", "timestamp": 1750095962.973604}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.503558", "seconds": 2.503558}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:02.974988+00:00", "timestamp": 1750095962.974988}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.504528", "seconds": 2.504528}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:02.975958+00:00", "timestamp": 1750095962.975958}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.505498", "seconds": 2.505498}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:02.976928+00:00", "timestamp": 1750095962.976928}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.505945", "seconds": 2.505945}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:02.977375+00:00", "timestamp": 1750095962.977375}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.521201", "seconds": 2.521201}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:02.992631+00:00", "timestamp": 1750095962.992631}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.521909", "seconds": 2.521909}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:02.993339+00:00", "timestamp": 1750095962.993339}}}
{"text": "Request: GET http://testserver/test-app-exception\n", "record": {"elapsed": {"repr": "0:00:02.523841", "seconds": 2.523841}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/test-app-exception", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:02.995271+00:00", "timestamp": 1750095962.995271}}}
{"text": "Response: 404\n", "record": {"elapsed": {"repr": "0:00:02.531274", "seconds": 2.531274}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 404", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.002704+00:00", "timestamp": 1750095963.002704}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.551413", "seconds": 2.551413}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.022843+00:00", "timestamp": 1750095963.022843}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.574557", "seconds": 2.574557}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.045987+00:00", "timestamp": 1750095963.045987}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.590863", "seconds": 2.590863}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.062293+00:00", "timestamp": 1750095963.062293}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.591733", "seconds": 2.591733}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.063163+00:00", "timestamp": 1750095963.063163}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.592189", "seconds": 2.592189}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.063619+00:00", "timestamp": 1750095963.063619}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:02.592568", "seconds": 2.592568}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.063998+00:00", "timestamp": 1750095963.063998}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.592868", "seconds": 2.592868}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.064298+00:00", "timestamp": 1750095963.064298}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.593109", "seconds": 2.593109}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: Not set", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.064539+00:00", "timestamp": 1750095963.064539}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.593354", "seconds": 2.593354}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: test_model", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.064784+00:00", "timestamp": 1750095963.064784}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.593637", "seconds": 2.593637}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.065067+00:00", "timestamp": 1750095963.065067}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.593890", "seconds": 2.59389}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: None", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.065320+00:00", "timestamp": 1750095963.06532}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.594132", "seconds": 2.594132}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.065562+00:00", "timestamp": 1750095963.065562}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.595655", "seconds": 2.595655}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.067085+00:00", "timestamp": 1750095963.067085}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.597234", "seconds": 2.597234}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.068664+00:00", "timestamp": 1750095963.068664}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.598831", "seconds": 2.598831}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.070261+00:00", "timestamp": 1750095963.070261}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.599200", "seconds": 2.5992}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.070630+00:00", "timestamp": 1750095963.07063}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.615127", "seconds": 2.615127}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.086557+00:00", "timestamp": 1750095963.086557}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.615758", "seconds": 2.615758}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.087188+00:00", "timestamp": 1750095963.087188}}}
{"text": "Request: GET http://testserver/test-generic-exception\n", "record": {"elapsed": {"repr": "0:00:02.617490", "seconds": 2.61749}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/test-generic-exception", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.088920+00:00", "timestamp": 1750095963.08892}}}
{"text": "Response: 404\n", "record": {"elapsed": {"repr": "0:00:02.623607", "seconds": 2.623607}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 404", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.095037+00:00", "timestamp": 1750095963.095037}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.637479", "seconds": 2.637479}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.108909+00:00", "timestamp": 1750095963.108909}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.657975", "seconds": 2.657975}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.129405+00:00", "timestamp": 1750095963.129405}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.673890", "seconds": 2.67389}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.145320+00:00", "timestamp": 1750095963.14532}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.674410", "seconds": 2.67441}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.145840+00:00", "timestamp": 1750095963.14584}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.674652", "seconds": 2.674652}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.146082+00:00", "timestamp": 1750095963.146082}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:02.674898", "seconds": 2.674898}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.146328+00:00", "timestamp": 1750095963.146328}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.675173", "seconds": 2.675173}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.146603+00:00", "timestamp": 1750095963.146603}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.675576", "seconds": 2.675576}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: Not set", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.147006+00:00", "timestamp": 1750095963.147006}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.675817", "seconds": 2.675817}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: test_model", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.147247+00:00", "timestamp": 1750095963.147247}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.676023", "seconds": 2.676023}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.147453+00:00", "timestamp": 1750095963.147453}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.676231", "seconds": 2.676231}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: None", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.147661+00:00", "timestamp": 1750095963.147661}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.676425", "seconds": 2.676425}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.147855+00:00", "timestamp": 1750095963.147855}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.677840", "seconds": 2.67784}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.149270+00:00", "timestamp": 1750095963.14927}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.678805", "seconds": 2.678805}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.150235+00:00", "timestamp": 1750095963.150235}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.679817", "seconds": 2.679817}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.151247+00:00", "timestamp": 1750095963.151247}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.680156", "seconds": 2.680156}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.151586+00:00", "timestamp": 1750095963.151586}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.695810", "seconds": 2.69581}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.167240+00:00", "timestamp": 1750095963.16724}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.696889", "seconds": 2.696889}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.168319+00:00", "timestamp": 1750095963.168319}}}
{"text": "Request: POST http://testserver/test-size-limit\n", "record": {"elapsed": {"repr": "0:00:02.699677", "seconds": 2.699677}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: POST http://testserver/test-size-limit", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.171107+00:00", "timestamp": 1750095963.171107}}}
{"text": "Response: 405\n", "record": {"elapsed": {"repr": "0:00:02.700060", "seconds": 2.70006}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 405", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.171490+00:00", "timestamp": 1750095963.17149}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.713269", "seconds": 2.713269}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659290412736, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:46:03.184699+00:00", "timestamp": 1750095963.184699}}}
{"text": "Mounted frontend directory: /app/ai_room_cleaner/frontend\n", "record": {"elapsed": {"repr": "0:00:02.744524", "seconds": 2.744524}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 148, "message": "Mounted frontend directory: /app/ai_room_cleaner/frontend", "module": "main", "name": "backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659397786496, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:46:03.215954+00:00", "timestamp": 1750095963.215954}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.874554", "seconds": 2.874554}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659397786496, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:46:03.345984+00:00", "timestamp": 1750095963.345984}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.875492", "seconds": 2.875492}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659397786496, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:46:03.346922+00:00", "timestamp": 1750095963.346922}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.876083", "seconds": 2.876083}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659397786496, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:46:03.347513+00:00", "timestamp": 1750095963.347513}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.920955", "seconds": 2.920955}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659397786496, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:46:03.392385+00:00", "timestamp": 1750095963.392385}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.921503", "seconds": 2.921503}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659397786496, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:46:03.392933+00:00", "timestamp": 1750095963.392933}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.921895", "seconds": 2.921895}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659397786496, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:46:03.393325+00:00", "timestamp": 1750095963.393325}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.952853", "seconds": 2.952853}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659397786496, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:46:03.424283+00:00", "timestamp": 1750095963.424283}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.953368", "seconds": 2.953368}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659397786496, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:46:03.424798+00:00", "timestamp": 1750095963.424798}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.953761", "seconds": 2.953761}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659397786496, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:46:03.425191+00:00", "timestamp": 1750095963.425191}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.983667", "seconds": 2.983667}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659397786496, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:46:03.455097+00:00", "timestamp": 1750095963.455097}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.984130", "seconds": 2.98413}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659397786496, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:46:03.455560+00:00", "timestamp": 1750095963.45556}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.984459", "seconds": 2.984459}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659397786496, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:46:03.455889+00:00", "timestamp": 1750095963.455889}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.015794", "seconds": 3.015794}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659397786496, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:46:03.487224+00:00", "timestamp": 1750095963.487224}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.016311", "seconds": 3.016311}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659397786496, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:46:03.487741+00:00", "timestamp": 1750095963.487741}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.016644", "seconds": 3.016644}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659397786496, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:46:03.488074+00:00", "timestamp": 1750095963.488074}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.048576", "seconds": 3.048576}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659397786496, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:46:03.520006+00:00", "timestamp": 1750095963.520006}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.049165", "seconds": 3.049165}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659397786496, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:46:03.520595+00:00", "timestamp": 1750095963.520595}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.049711", "seconds": 3.049711}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659397786496, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:46:03.521141+00:00", "timestamp": 1750095963.521141}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.080892", "seconds": 3.080892}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659397786496, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:46:03.552322+00:00", "timestamp": 1750095963.552322}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.081353", "seconds": 3.081353}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659397786496, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:46:03.552783+00:00", "timestamp": 1750095963.552783}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.081669", "seconds": 3.081669}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659397786496, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:46:03.553099+00:00", "timestamp": 1750095963.553099}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.112917", "seconds": 3.112917}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659397786496, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:46:03.584347+00:00", "timestamp": 1750095963.584347}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.113386", "seconds": 3.113386}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659397786496, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:46:03.584816+00:00", "timestamp": 1750095963.584816}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.113721", "seconds": 3.113721}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659397786496, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:46:03.585151+00:00", "timestamp": 1750095963.585151}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.146261", "seconds": 3.146261}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659397786496, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:46:03.617691+00:00", "timestamp": 1750095963.617691}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.146884", "seconds": 3.146884}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659397786496, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:46:03.618314+00:00", "timestamp": 1750095963.618314}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.147364", "seconds": 3.147364}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659397786496, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:46:03.618794+00:00", "timestamp": 1750095963.618794}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.177635", "seconds": 3.177635}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659397786496, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:46:03.649065+00:00", "timestamp": 1750095963.649065}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.178143", "seconds": 3.178143}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659397786496, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:46:03.649573+00:00", "timestamp": 1750095963.649573}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.178509", "seconds": 3.178509}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 139659397786496, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:46:03.649939+00:00", "timestamp": 1750095963.649939}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.963599", "seconds": 1.963599}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.356506+00:00", "timestamp": 1750096149.356506}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:01.978373", "seconds": 1.978373}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.371280+00:00", "timestamp": 1750096149.37128}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:01.978885", "seconds": 1.978885}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.371792+00:00", "timestamp": 1750096149.371792}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:01.979209", "seconds": 1.979209}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.372116+00:00", "timestamp": 1750096149.372116}}}
{"text": "Application state initialized.\n", "record": {"elapsed": {"repr": "0:00:01.979451", "seconds": 1.979451}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Application state initialized.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.372358+00:00", "timestamp": 1750096149.372358}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:01.979682", "seconds": 1.979682}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.372589+00:00", "timestamp": 1750096149.372589}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:01.979899", "seconds": 1.979899}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: Not set", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.372806+00:00", "timestamp": 1750096149.372806}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:01.980185", "seconds": 1.980185}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: test_model", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.373092+00:00", "timestamp": 1750096149.373092}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:01.980415", "seconds": 1.980415}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.373322+00:00", "timestamp": 1750096149.373322}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:01.980718", "seconds": 1.980718}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: None", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.373625+00:00", "timestamp": 1750096149.373625}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:01.981487", "seconds": 1.981487}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.374394+00:00", "timestamp": 1750096149.374394}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:01.983966", "seconds": 1.983966}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.376873+00:00", "timestamp": 1750096149.376873}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:01.985254", "seconds": 1.985254}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.378161+00:00", "timestamp": 1750096149.378161}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:01.986302", "seconds": 1.986302}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.379209+00:00", "timestamp": 1750096149.379209}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:01.986591", "seconds": 1.986591}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.379498+00:00", "timestamp": 1750096149.379498}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.000865", "seconds": 2.000865}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.393772+00:00", "timestamp": 1750096149.393772}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.001407", "seconds": 2.001407}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.394314+00:00", "timestamp": 1750096149.394314}}}
{"text": "Request: GET http://testserver/test-app-exception\n", "record": {"elapsed": {"repr": "0:00:02.003646", "seconds": 2.003646}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/test-app-exception", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.396553+00:00", "timestamp": 1750096149.396553}}}
{"text": "Response: 404\n", "record": {"elapsed": {"repr": "0:00:02.010455", "seconds": 2.010455}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 404", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.403362+00:00", "timestamp": 1750096149.403362}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.028633", "seconds": 2.028633}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.421540+00:00", "timestamp": 1750096149.42154}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.054363", "seconds": 2.054363}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.447270+00:00", "timestamp": 1750096149.44727}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.074282", "seconds": 2.074282}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.467189+00:00", "timestamp": 1750096149.467189}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.074994", "seconds": 2.074994}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.467901+00:00", "timestamp": 1750096149.467901}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.075315", "seconds": 2.075315}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.468222+00:00", "timestamp": 1750096149.468222}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:02.075621", "seconds": 2.075621}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.468528+00:00", "timestamp": 1750096149.468528}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.075908", "seconds": 2.075908}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.468815+00:00", "timestamp": 1750096149.468815}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.076190", "seconds": 2.07619}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: Not set", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.469097+00:00", "timestamp": 1750096149.469097}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.076590", "seconds": 2.07659}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: test_model", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.469497+00:00", "timestamp": 1750096149.469497}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.076929", "seconds": 2.076929}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.469836+00:00", "timestamp": 1750096149.469836}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.077261", "seconds": 2.077261}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: None", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.470168+00:00", "timestamp": 1750096149.470168}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.077589", "seconds": 2.077589}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.470496+00:00", "timestamp": 1750096149.470496}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.080046", "seconds": 2.080046}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.472953+00:00", "timestamp": 1750096149.472953}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.081752", "seconds": 2.081752}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.474659+00:00", "timestamp": 1750096149.474659}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.083171", "seconds": 2.083171}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.476078+00:00", "timestamp": 1750096149.476078}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.083591", "seconds": 2.083591}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.476498+00:00", "timestamp": 1750096149.476498}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.118007", "seconds": 2.118007}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.510914+00:00", "timestamp": 1750096149.510914}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.119061", "seconds": 2.119061}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.511968+00:00", "timestamp": 1750096149.511968}}}
{"text": "Request: GET http://testserver/test-generic-exception\n", "record": {"elapsed": {"repr": "0:00:02.122353", "seconds": 2.122353}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/test-generic-exception", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.515260+00:00", "timestamp": 1750096149.51526}}}
{"text": "Response: 404\n", "record": {"elapsed": {"repr": "0:00:02.131907", "seconds": 2.131907}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 404", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.524814+00:00", "timestamp": 1750096149.524814}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.146585", "seconds": 2.146585}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.539492+00:00", "timestamp": 1750096149.539492}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.167074", "seconds": 2.167074}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.559981+00:00", "timestamp": 1750096149.559981}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.181781", "seconds": 2.181781}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.574688+00:00", "timestamp": 1750096149.574688}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.182263", "seconds": 2.182263}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.575170+00:00", "timestamp": 1750096149.57517}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.182527", "seconds": 2.182527}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.575434+00:00", "timestamp": 1750096149.575434}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:02.182817", "seconds": 2.182817}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.575724+00:00", "timestamp": 1750096149.575724}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.183135", "seconds": 2.183135}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.576042+00:00", "timestamp": 1750096149.576042}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.183522", "seconds": 2.183522}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: Not set", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.576429+00:00", "timestamp": 1750096149.576429}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.183811", "seconds": 2.183811}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: test_model", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.576718+00:00", "timestamp": 1750096149.576718}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.184111", "seconds": 2.184111}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.577018+00:00", "timestamp": 1750096149.577018}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.184568", "seconds": 2.184568}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: None", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.577475+00:00", "timestamp": 1750096149.577475}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.184872", "seconds": 2.184872}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.577779+00:00", "timestamp": 1750096149.577779}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.186431", "seconds": 2.186431}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.579338+00:00", "timestamp": 1750096149.579338}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.187348", "seconds": 2.187348}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.580255+00:00", "timestamp": 1750096149.580255}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.188280", "seconds": 2.18828}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.581187+00:00", "timestamp": 1750096149.581187}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.188515", "seconds": 2.188515}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.581422+00:00", "timestamp": 1750096149.581422}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.203295", "seconds": 2.203295}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.596202+00:00", "timestamp": 1750096149.596202}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.204243", "seconds": 2.204243}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.597150+00:00", "timestamp": 1750096149.59715}}}
{"text": "Request: POST http://testserver/test-size-limit\n", "record": {"elapsed": {"repr": "0:00:02.208173", "seconds": 2.208173}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: POST http://testserver/test-size-limit", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.601080+00:00", "timestamp": 1750096149.60108}}}
{"text": "Response: 405\n", "record": {"elapsed": {"repr": "0:00:02.208787", "seconds": 2.208787}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 405", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.601694+00:00", "timestamp": 1750096149.601694}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.222297", "seconds": 2.222297}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636329612992, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:09.615204+00:00", "timestamp": 1750096149.615204}}}
{"text": "Mounted frontend directory: /app/ai_room_cleaner/frontend\n", "record": {"elapsed": {"repr": "0:00:02.255143", "seconds": 2.255143}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 148, "message": "Mounted frontend directory: /app/ai_room_cleaner/frontend", "module": "main", "name": "backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636432792448, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:09.648050+00:00", "timestamp": 1750096149.64805}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.380410", "seconds": 2.38041}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636432792448, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:09.773317+00:00", "timestamp": 1750096149.773317}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.381160", "seconds": 2.38116}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636432792448, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:09.774067+00:00", "timestamp": 1750096149.774067}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.381848", "seconds": 2.381848}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636432792448, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:09.774755+00:00", "timestamp": 1750096149.774755}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.418389", "seconds": 2.418389}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636432792448, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:09.811296+00:00", "timestamp": 1750096149.811296}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.418869", "seconds": 2.418869}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636432792448, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:09.811776+00:00", "timestamp": 1750096149.811776}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.419180", "seconds": 2.41918}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636432792448, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:09.812087+00:00", "timestamp": 1750096149.812087}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.452531", "seconds": 2.452531}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636432792448, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:09.845438+00:00", "timestamp": 1750096149.845438}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.453018", "seconds": 2.453018}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636432792448, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:09.845925+00:00", "timestamp": 1750096149.845925}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.453379", "seconds": 2.453379}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636432792448, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:09.846286+00:00", "timestamp": 1750096149.846286}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.484409", "seconds": 2.484409}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636432792448, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:09.877316+00:00", "timestamp": 1750096149.877316}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.484968", "seconds": 2.484968}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636432792448, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:09.877875+00:00", "timestamp": 1750096149.877875}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.485385", "seconds": 2.485385}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636432792448, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:09.878292+00:00", "timestamp": 1750096149.878292}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.517254", "seconds": 2.517254}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636432792448, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:09.910161+00:00", "timestamp": 1750096149.910161}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.517946", "seconds": 2.517946}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636432792448, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:09.910853+00:00", "timestamp": 1750096149.910853}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.518639", "seconds": 2.518639}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636432792448, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:09.911546+00:00", "timestamp": 1750096149.911546}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.549699", "seconds": 2.549699}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636432792448, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:09.942606+00:00", "timestamp": 1750096149.942606}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.550197", "seconds": 2.550197}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636432792448, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:09.943104+00:00", "timestamp": 1750096149.943104}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.550505", "seconds": 2.550505}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636432792448, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:09.943412+00:00", "timestamp": 1750096149.943412}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.584142", "seconds": 2.584142}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636432792448, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:09.977049+00:00", "timestamp": 1750096149.977049}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.584660", "seconds": 2.58466}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636432792448, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:09.977567+00:00", "timestamp": 1750096149.977567}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.585047", "seconds": 2.585047}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636432792448, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:09.977954+00:00", "timestamp": 1750096149.977954}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.616020", "seconds": 2.61602}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636432792448, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:10.008927+00:00", "timestamp": 1750096150.008927}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.616539", "seconds": 2.616539}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636432792448, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:10.009446+00:00", "timestamp": 1750096150.009446}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.616973", "seconds": 2.616973}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636432792448, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:10.009880+00:00", "timestamp": 1750096150.00988}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.650683", "seconds": 2.650683}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636432792448, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:10.043590+00:00", "timestamp": 1750096150.04359}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.651218", "seconds": 2.651218}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636432792448, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:10.044125+00:00", "timestamp": 1750096150.044125}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.651637", "seconds": 2.651637}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636432792448, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:10.044544+00:00", "timestamp": 1750096150.044544}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.683463", "seconds": 2.683463}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636432792448, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:10.076370+00:00", "timestamp": 1750096150.07637}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.684034", "seconds": 2.684034}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636432792448, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:10.076941+00:00", "timestamp": 1750096150.076941}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.684619", "seconds": 2.684619}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 135636432792448, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:10.077526+00:00", "timestamp": 1750096150.077526}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.900990", "seconds": 1.90099}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.277621+00:00", "timestamp": 1750096171.277621}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:01.915670", "seconds": 1.91567}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.292301+00:00", "timestamp": 1750096171.292301}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:01.916199", "seconds": 1.916199}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.292830+00:00", "timestamp": 1750096171.29283}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:01.916414", "seconds": 1.916414}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.293045+00:00", "timestamp": 1750096171.293045}}}
{"text": "Application state initialized.\n", "record": {"elapsed": {"repr": "0:00:01.916658", "seconds": 1.916658}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Application state initialized.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.293289+00:00", "timestamp": 1750096171.293289}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:01.916917", "seconds": 1.916917}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.293548+00:00", "timestamp": 1750096171.293548}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:01.917128", "seconds": 1.917128}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: Not set", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.293759+00:00", "timestamp": 1750096171.293759}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:01.917304", "seconds": 1.917304}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: test_model", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.293935+00:00", "timestamp": 1750096171.293935}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:01.917482", "seconds": 1.917482}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.294113+00:00", "timestamp": 1750096171.294113}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:01.917761", "seconds": 1.917761}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: None", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.294392+00:00", "timestamp": 1750096171.294392}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:01.918044", "seconds": 1.918044}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.294675+00:00", "timestamp": 1750096171.294675}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:01.919461", "seconds": 1.919461}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.296092+00:00", "timestamp": 1750096171.296092}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:01.920558", "seconds": 1.920558}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.297189+00:00", "timestamp": 1750096171.297189}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:01.921922", "seconds": 1.921922}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.298553+00:00", "timestamp": 1750096171.298553}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:01.922273", "seconds": 1.922273}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.298904+00:00", "timestamp": 1750096171.298904}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:01.937982", "seconds": 1.937982}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.314613+00:00", "timestamp": 1750096171.314613}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:01.938476", "seconds": 1.938476}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.315107+00:00", "timestamp": 1750096171.315107}}}
{"text": "Request: GET http://testserver/test-app-exception\n", "record": {"elapsed": {"repr": "0:00:01.940572", "seconds": 1.940572}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/test-app-exception", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.317203+00:00", "timestamp": 1750096171.317203}}}
{"text": "Response: 404\n", "record": {"elapsed": {"repr": "0:00:01.948864", "seconds": 1.948864}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 404", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.325495+00:00", "timestamp": 1750096171.325495}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:01.967593", "seconds": 1.967593}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.344224+00:00", "timestamp": 1750096171.344224}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.988090", "seconds": 1.98809}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.364721+00:00", "timestamp": 1750096171.364721}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.017237", "seconds": 2.017237}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.393868+00:00", "timestamp": 1750096171.393868}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.030944", "seconds": 2.030944}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.407575+00:00", "timestamp": 1750096171.407575}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.042374", "seconds": 2.042374}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.419005+00:00", "timestamp": 1750096171.419005}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:02.043482", "seconds": 2.043482}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.420113+00:00", "timestamp": 1750096171.420113}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.048691", "seconds": 2.048691}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.425322+00:00", "timestamp": 1750096171.425322}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.055925", "seconds": 2.055925}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: Not set", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.432556+00:00", "timestamp": 1750096171.432556}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.056624", "seconds": 2.056624}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: test_model", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.433255+00:00", "timestamp": 1750096171.433255}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.056993", "seconds": 2.056993}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.433624+00:00", "timestamp": 1750096171.433624}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.057307", "seconds": 2.057307}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: None", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.433938+00:00", "timestamp": 1750096171.433938}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.057607", "seconds": 2.057607}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.434238+00:00", "timestamp": 1750096171.434238}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.059789", "seconds": 2.059789}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.436420+00:00", "timestamp": 1750096171.43642}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.061732", "seconds": 2.061732}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.438363+00:00", "timestamp": 1750096171.438363}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.063403", "seconds": 2.063403}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.440034+00:00", "timestamp": 1750096171.440034}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.063890", "seconds": 2.06389}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.440521+00:00", "timestamp": 1750096171.440521}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.090668", "seconds": 2.090668}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.467299+00:00", "timestamp": 1750096171.467299}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.094379", "seconds": 2.094379}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.471010+00:00", "timestamp": 1750096171.47101}}}
{"text": "Request: GET http://testserver/test-generic-exception\n", "record": {"elapsed": {"repr": "0:00:02.101110", "seconds": 2.10111}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/test-generic-exception", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.477741+00:00", "timestamp": 1750096171.477741}}}
{"text": "Response: 404\n", "record": {"elapsed": {"repr": "0:00:02.111577", "seconds": 2.111577}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 404", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.488208+00:00", "timestamp": 1750096171.488208}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.132568", "seconds": 2.132568}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.509199+00:00", "timestamp": 1750096171.509199}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.154997", "seconds": 2.154997}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.531628+00:00", "timestamp": 1750096171.531628}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.174724", "seconds": 2.174724}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.551355+00:00", "timestamp": 1750096171.551355}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.175222", "seconds": 2.175222}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.551853+00:00", "timestamp": 1750096171.551853}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.175495", "seconds": 2.175495}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.552126+00:00", "timestamp": 1750096171.552126}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:02.175765", "seconds": 2.175765}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.552396+00:00", "timestamp": 1750096171.552396}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.176080", "seconds": 2.17608}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.552711+00:00", "timestamp": 1750096171.552711}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.176320", "seconds": 2.17632}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: Not set", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.552951+00:00", "timestamp": 1750096171.552951}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.176540", "seconds": 2.17654}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: test_model", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.553171+00:00", "timestamp": 1750096171.553171}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.176761", "seconds": 2.176761}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.553392+00:00", "timestamp": 1750096171.553392}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.176997", "seconds": 2.176997}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: None", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.553628+00:00", "timestamp": 1750096171.553628}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.177241", "seconds": 2.177241}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.553872+00:00", "timestamp": 1750096171.553872}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.178894", "seconds": 2.178894}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.555525+00:00", "timestamp": 1750096171.555525}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.180474", "seconds": 2.180474}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.557105+00:00", "timestamp": 1750096171.557105}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.181858", "seconds": 2.181858}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.558489+00:00", "timestamp": 1750096171.558489}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.182214", "seconds": 2.182214}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.558845+00:00", "timestamp": 1750096171.558845}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.198213", "seconds": 2.198213}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.574844+00:00", "timestamp": 1750096171.574844}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.198888", "seconds": 2.198888}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.575519+00:00", "timestamp": 1750096171.575519}}}
{"text": "Request: POST http://testserver/test-size-limit\n", "record": {"elapsed": {"repr": "0:00:02.202909", "seconds": 2.202909}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: POST http://testserver/test-size-limit", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.579540+00:00", "timestamp": 1750096171.57954}}}
{"text": "Response: 405\n", "record": {"elapsed": {"repr": "0:00:02.203646", "seconds": 2.203646}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 405", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.580277+00:00", "timestamp": 1750096171.580277}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.220601", "seconds": 2.220601}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619773048512, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:49:31.597232+00:00", "timestamp": 1750096171.597232}}}
{"text": "Mounted frontend directory: /app/ai_room_cleaner/frontend\n", "record": {"elapsed": {"repr": "0:00:02.254956", "seconds": 2.254956}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 148, "message": "Mounted frontend directory: /app/ai_room_cleaner/frontend", "module": "main", "name": "backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619876227968, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:31.631587+00:00", "timestamp": 1750096171.631587}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.383597", "seconds": 2.383597}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619876227968, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:31.760228+00:00", "timestamp": 1750096171.760228}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.384099", "seconds": 2.384099}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619876227968, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:31.760730+00:00", "timestamp": 1750096171.76073}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.384461", "seconds": 2.384461}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619876227968, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:31.761092+00:00", "timestamp": 1750096171.761092}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.429778", "seconds": 2.429778}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619876227968, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:31.806409+00:00", "timestamp": 1750096171.806409}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.430471", "seconds": 2.430471}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619876227968, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:31.807102+00:00", "timestamp": 1750096171.807102}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.431213", "seconds": 2.431213}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619876227968, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:31.807844+00:00", "timestamp": 1750096171.807844}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.468194", "seconds": 2.468194}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619876227968, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:31.844825+00:00", "timestamp": 1750096171.844825}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.468683", "seconds": 2.468683}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619876227968, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:31.845314+00:00", "timestamp": 1750096171.845314}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.469090", "seconds": 2.46909}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619876227968, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:31.845721+00:00", "timestamp": 1750096171.845721}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.498780", "seconds": 2.49878}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619876227968, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:31.875411+00:00", "timestamp": 1750096171.875411}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.499395", "seconds": 2.499395}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619876227968, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:31.876026+00:00", "timestamp": 1750096171.876026}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.499967", "seconds": 2.499967}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619876227968, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:31.876598+00:00", "timestamp": 1750096171.876598}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.532176", "seconds": 2.532176}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619876227968, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:31.908807+00:00", "timestamp": 1750096171.908807}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.532807", "seconds": 2.532807}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619876227968, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:31.909438+00:00", "timestamp": 1750096171.909438}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.533263", "seconds": 2.533263}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619876227968, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:31.909894+00:00", "timestamp": 1750096171.909894}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.563328", "seconds": 2.563328}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619876227968, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:31.939959+00:00", "timestamp": 1750096171.939959}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.563860", "seconds": 2.56386}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619876227968, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:31.940491+00:00", "timestamp": 1750096171.940491}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.564194", "seconds": 2.564194}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619876227968, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:31.940825+00:00", "timestamp": 1750096171.940825}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.596651", "seconds": 2.596651}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619876227968, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:31.973282+00:00", "timestamp": 1750096171.973282}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.597629", "seconds": 2.597629}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619876227968, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:31.974260+00:00", "timestamp": 1750096171.97426}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.598100", "seconds": 2.5981}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619876227968, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:31.974731+00:00", "timestamp": 1750096171.974731}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.627757", "seconds": 2.627757}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619876227968, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:32.004388+00:00", "timestamp": 1750096172.004388}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.628263", "seconds": 2.628263}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619876227968, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:32.004894+00:00", "timestamp": 1750096172.004894}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.628609", "seconds": 2.628609}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619876227968, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:32.005240+00:00", "timestamp": 1750096172.00524}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.665716", "seconds": 2.665716}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619876227968, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:32.042347+00:00", "timestamp": 1750096172.042347}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.666313", "seconds": 2.666313}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619876227968, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:32.042944+00:00", "timestamp": 1750096172.042944}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.666793", "seconds": 2.666793}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619876227968, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:32.043424+00:00", "timestamp": 1750096172.043424}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.696904", "seconds": 2.696904}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619876227968, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:32.073535+00:00", "timestamp": 1750096172.073535}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.697409", "seconds": 2.697409}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619876227968, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:32.074040+00:00", "timestamp": 1750096172.07404}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.697726", "seconds": 2.697726}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123619876227968, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:49:32.074357+00:00", "timestamp": 1750096172.074357}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.414990", "seconds": 2.41499}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.374242+00:00", "timestamp": 1750096209.374242}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.430329", "seconds": 2.430329}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.389581+00:00", "timestamp": 1750096209.389581}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.431299", "seconds": 2.431299}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.390551+00:00", "timestamp": 1750096209.390551}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.431751", "seconds": 2.431751}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.391003+00:00", "timestamp": 1750096209.391003}}}
{"text": "Application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.432141", "seconds": 2.432141}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Application state initialized.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.391393+00:00", "timestamp": 1750096209.391393}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.432415", "seconds": 2.432415}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.391667+00:00", "timestamp": 1750096209.391667}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.432672", "seconds": 2.432672}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: Not set", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.391924+00:00", "timestamp": 1750096209.391924}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.432935", "seconds": 2.432935}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: test_model", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.392187+00:00", "timestamp": 1750096209.392187}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.433204", "seconds": 2.433204}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.392456+00:00", "timestamp": 1750096209.392456}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.433394", "seconds": 2.433394}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: None", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.392646+00:00", "timestamp": 1750096209.392646}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.433651", "seconds": 2.433651}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.392903+00:00", "timestamp": 1750096209.392903}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.435403", "seconds": 2.435403}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.394655+00:00", "timestamp": 1750096209.394655}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.436592", "seconds": 2.436592}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.395844+00:00", "timestamp": 1750096209.395844}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.437800", "seconds": 2.4378}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.397052+00:00", "timestamp": 1750096209.397052}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.438063", "seconds": 2.438063}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.397315+00:00", "timestamp": 1750096209.397315}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.452482", "seconds": 2.452482}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.411734+00:00", "timestamp": 1750096209.411734}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.453072", "seconds": 2.453072}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.412324+00:00", "timestamp": 1750096209.412324}}}
{"text": "Request: GET http://testserver/test-app-exception\n", "record": {"elapsed": {"repr": "0:00:02.455187", "seconds": 2.455187}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/test-app-exception", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.414439+00:00", "timestamp": 1750096209.414439}}}
{"text": "Response: 404\n", "record": {"elapsed": {"repr": "0:00:02.462745", "seconds": 2.462745}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 404", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.421997+00:00", "timestamp": 1750096209.421997}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.481763", "seconds": 2.481763}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.441015+00:00", "timestamp": 1750096209.441015}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.502117", "seconds": 2.502117}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.461369+00:00", "timestamp": 1750096209.461369}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.520450", "seconds": 2.52045}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.479702+00:00", "timestamp": 1750096209.479702}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.520946", "seconds": 2.520946}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.480198+00:00", "timestamp": 1750096209.480198}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.521251", "seconds": 2.521251}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.480503+00:00", "timestamp": 1750096209.480503}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:02.525177", "seconds": 2.525177}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.484429+00:00", "timestamp": 1750096209.484429}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.526837", "seconds": 2.526837}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.486089+00:00", "timestamp": 1750096209.486089}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.527402", "seconds": 2.527402}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: Not set", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.486654+00:00", "timestamp": 1750096209.486654}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.527797", "seconds": 2.527797}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: test_model", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.487049+00:00", "timestamp": 1750096209.487049}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.528160", "seconds": 2.52816}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.487412+00:00", "timestamp": 1750096209.487412}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.528434", "seconds": 2.528434}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: None", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.487686+00:00", "timestamp": 1750096209.487686}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.528767", "seconds": 2.528767}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.488019+00:00", "timestamp": 1750096209.488019}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.531082", "seconds": 2.531082}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.490334+00:00", "timestamp": 1750096209.490334}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.532878", "seconds": 2.532878}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.492130+00:00", "timestamp": 1750096209.49213}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.534377", "seconds": 2.534377}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.493629+00:00", "timestamp": 1750096209.493629}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.534782", "seconds": 2.534782}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.494034+00:00", "timestamp": 1750096209.494034}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.551176", "seconds": 2.551176}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.510428+00:00", "timestamp": 1750096209.510428}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.551871", "seconds": 2.551871}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.511123+00:00", "timestamp": 1750096209.511123}}}
{"text": "Request: GET http://testserver/test-generic-exception\n", "record": {"elapsed": {"repr": "0:00:02.553867", "seconds": 2.553867}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/test-generic-exception", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.513119+00:00", "timestamp": 1750096209.513119}}}
{"text": "Response: 404\n", "record": {"elapsed": {"repr": "0:00:02.561753", "seconds": 2.561753}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 404", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.521005+00:00", "timestamp": 1750096209.521005}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.578514", "seconds": 2.578514}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.537766+00:00", "timestamp": 1750096209.537766}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.599671", "seconds": 2.599671}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.558923+00:00", "timestamp": 1750096209.558923}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.614143", "seconds": 2.614143}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.573395+00:00", "timestamp": 1750096209.573395}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.614662", "seconds": 2.614662}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.573914+00:00", "timestamp": 1750096209.573914}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.615024", "seconds": 2.615024}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.574276+00:00", "timestamp": 1750096209.574276}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:02.615359", "seconds": 2.615359}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.574611+00:00", "timestamp": 1750096209.574611}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.615758", "seconds": 2.615758}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.575010+00:00", "timestamp": 1750096209.57501}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.616027", "seconds": 2.616027}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: Not set", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.575279+00:00", "timestamp": 1750096209.575279}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.616244", "seconds": 2.616244}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: test_model", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.575496+00:00", "timestamp": 1750096209.575496}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.616515", "seconds": 2.616515}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.575767+00:00", "timestamp": 1750096209.575767}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.616936", "seconds": 2.616936}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: None", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.576188+00:00", "timestamp": 1750096209.576188}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.617156", "seconds": 2.617156}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.576408+00:00", "timestamp": 1750096209.576408}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.618539", "seconds": 2.618539}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.577791+00:00", "timestamp": 1750096209.577791}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.619612", "seconds": 2.619612}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.578864+00:00", "timestamp": 1750096209.578864}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.620532", "seconds": 2.620532}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.579784+00:00", "timestamp": 1750096209.579784}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.620757", "seconds": 2.620757}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.580009+00:00", "timestamp": 1750096209.580009}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.636293", "seconds": 2.636293}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.595545+00:00", "timestamp": 1750096209.595545}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.636995", "seconds": 2.636995}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.596247+00:00", "timestamp": 1750096209.596247}}}
{"text": "Request: POST http://testserver/test-size-limit\n", "record": {"elapsed": {"repr": "0:00:02.639869", "seconds": 2.639869}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: POST http://testserver/test-size-limit", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.599121+00:00", "timestamp": 1750096209.599121}}}
{"text": "Response: 405\n", "record": {"elapsed": {"repr": "0:00:02.640326", "seconds": 2.640326}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 405", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.599578+00:00", "timestamp": 1750096209.599578}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.653325", "seconds": 2.653325}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388294883008, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:50:09.612577+00:00", "timestamp": 1750096209.612577}}}
{"text": "Mounted frontend directory: /app/ai_room_cleaner/frontend\n", "record": {"elapsed": {"repr": "0:00:02.685453", "seconds": 2.685453}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 148, "message": "Mounted frontend directory: /app/ai_room_cleaner/frontend", "module": "main", "name": "backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388398078848, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:50:09.644705+00:00", "timestamp": 1750096209.644705}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.826244", "seconds": 2.826244}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388398078848, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:50:09.785496+00:00", "timestamp": 1750096209.785496}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.826762", "seconds": 2.826762}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388398078848, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:50:09.786014+00:00", "timestamp": 1750096209.786014}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.827134", "seconds": 2.827134}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388398078848, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:50:09.786386+00:00", "timestamp": 1750096209.786386}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.862483", "seconds": 2.862483}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388398078848, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:50:09.821735+00:00", "timestamp": 1750096209.821735}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.862967", "seconds": 2.862967}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388398078848, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:50:09.822219+00:00", "timestamp": 1750096209.822219}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.863295", "seconds": 2.863295}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388398078848, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:50:09.822547+00:00", "timestamp": 1750096209.822547}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.895558", "seconds": 2.895558}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388398078848, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:50:09.854810+00:00", "timestamp": 1750096209.85481}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.896075", "seconds": 2.896075}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388398078848, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:50:09.855327+00:00", "timestamp": 1750096209.855327}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.896443", "seconds": 2.896443}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388398078848, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:50:09.855695+00:00", "timestamp": 1750096209.855695}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.927426", "seconds": 2.927426}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388398078848, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:50:09.886678+00:00", "timestamp": 1750096209.886678}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.928296", "seconds": 2.928296}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388398078848, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:50:09.887548+00:00", "timestamp": 1750096209.887548}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.928944", "seconds": 2.928944}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388398078848, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:50:09.888196+00:00", "timestamp": 1750096209.888196}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.960224", "seconds": 2.960224}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388398078848, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:50:09.919476+00:00", "timestamp": 1750096209.919476}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.960751", "seconds": 2.960751}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388398078848, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:50:09.920003+00:00", "timestamp": 1750096209.920003}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.961142", "seconds": 2.961142}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388398078848, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:50:09.920394+00:00", "timestamp": 1750096209.920394}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.991528", "seconds": 2.991528}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388398078848, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:50:09.950780+00:00", "timestamp": 1750096209.95078}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.992008", "seconds": 2.992008}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388398078848, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:50:09.951260+00:00", "timestamp": 1750096209.95126}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.992346", "seconds": 2.992346}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388398078848, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:50:09.951598+00:00", "timestamp": 1750096209.951598}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.026171", "seconds": 3.026171}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388398078848, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:50:09.985423+00:00", "timestamp": 1750096209.985423}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.026826", "seconds": 3.026826}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388398078848, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:50:09.986078+00:00", "timestamp": 1750096209.986078}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.027315", "seconds": 3.027315}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388398078848, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:50:09.986567+00:00", "timestamp": 1750096209.986567}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.058686", "seconds": 3.058686}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388398078848, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:50:10.017938+00:00", "timestamp": 1750096210.017938}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.059263", "seconds": 3.059263}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388398078848, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:50:10.018515+00:00", "timestamp": 1750096210.018515}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.059605", "seconds": 3.059605}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388398078848, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:50:10.018857+00:00", "timestamp": 1750096210.018857}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.094339", "seconds": 3.094339}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388398078848, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:50:10.053591+00:00", "timestamp": 1750096210.053591}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.095250", "seconds": 3.09525}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388398078848, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:50:10.054502+00:00", "timestamp": 1750096210.054502}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.095879", "seconds": 3.095879}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388398078848, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:50:10.055131+00:00", "timestamp": 1750096210.055131}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.127220", "seconds": 3.12722}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388398078848, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:50:10.086472+00:00", "timestamp": 1750096210.086472}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.127729", "seconds": 3.127729}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388398078848, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:50:10.086981+00:00", "timestamp": 1750096210.086981}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.128092", "seconds": 3.128092}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 132388398078848, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:50:10.087344+00:00", "timestamp": 1750096210.087344}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.126672", "seconds": 2.126672}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.138705+00:00", "timestamp": 1750096267.138705}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.143541", "seconds": 2.143541}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.155574+00:00", "timestamp": 1750096267.155574}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.144101", "seconds": 2.144101}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.156134+00:00", "timestamp": 1750096267.156134}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.144364", "seconds": 2.144364}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.156397+00:00", "timestamp": 1750096267.156397}}}
{"text": "Application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.144569", "seconds": 2.144569}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Application state initialized.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.156602+00:00", "timestamp": 1750096267.156602}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.144829", "seconds": 2.144829}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.156862+00:00", "timestamp": 1750096267.156862}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.145071", "seconds": 2.145071}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: Not set", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.157104+00:00", "timestamp": 1750096267.157104}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.145440", "seconds": 2.14544}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: test_model", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.157473+00:00", "timestamp": 1750096267.157473}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.145894", "seconds": 2.145894}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.157927+00:00", "timestamp": 1750096267.157927}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.146247", "seconds": 2.146247}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: None", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.158280+00:00", "timestamp": 1750096267.15828}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.146562", "seconds": 2.146562}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.158595+00:00", "timestamp": 1750096267.158595}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.148048", "seconds": 2.148048}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.160081+00:00", "timestamp": 1750096267.160081}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.149154", "seconds": 2.149154}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.161187+00:00", "timestamp": 1750096267.161187}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.150167", "seconds": 2.150167}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.162200+00:00", "timestamp": 1750096267.1622}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.150436", "seconds": 2.150436}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.162469+00:00", "timestamp": 1750096267.162469}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.165698", "seconds": 2.165698}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.177731+00:00", "timestamp": 1750096267.177731}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.166621", "seconds": 2.166621}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.178654+00:00", "timestamp": 1750096267.178654}}}
{"text": "Request: GET http://testserver/test-app-exception\n", "record": {"elapsed": {"repr": "0:00:02.169718", "seconds": 2.169718}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/test-app-exception", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.181751+00:00", "timestamp": 1750096267.181751}}}
{"text": "Response: 404\n", "record": {"elapsed": {"repr": "0:00:02.176623", "seconds": 2.176623}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 404", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.188656+00:00", "timestamp": 1750096267.188656}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.429846", "seconds": 2.429846}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.441879+00:00", "timestamp": 1750096267.441879}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.450422", "seconds": 2.450422}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.462455+00:00", "timestamp": 1750096267.462455}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.467313", "seconds": 2.467313}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.479346+00:00", "timestamp": 1750096267.479346}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.467801", "seconds": 2.467801}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.479834+00:00", "timestamp": 1750096267.479834}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.468091", "seconds": 2.468091}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.480124+00:00", "timestamp": 1750096267.480124}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:02.468334", "seconds": 2.468334}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.480367+00:00", "timestamp": 1750096267.480367}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.468556", "seconds": 2.468556}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.480589+00:00", "timestamp": 1750096267.480589}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.468826", "seconds": 2.468826}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: Not set", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.480859+00:00", "timestamp": 1750096267.480859}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.469062", "seconds": 2.469062}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: test_model", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.481095+00:00", "timestamp": 1750096267.481095}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.469290", "seconds": 2.46929}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.481323+00:00", "timestamp": 1750096267.481323}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.469514", "seconds": 2.469514}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: None", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.481547+00:00", "timestamp": 1750096267.481547}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.469733", "seconds": 2.469733}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.481766+00:00", "timestamp": 1750096267.481766}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.471152", "seconds": 2.471152}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.483185+00:00", "timestamp": 1750096267.483185}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.472160", "seconds": 2.47216}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.484193+00:00", "timestamp": 1750096267.484193}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.473695", "seconds": 2.473695}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.485728+00:00", "timestamp": 1750096267.485728}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.474264", "seconds": 2.474264}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.486297+00:00", "timestamp": 1750096267.486297}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.490059", "seconds": 2.490059}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.502092+00:00", "timestamp": 1750096267.502092}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.490701", "seconds": 2.490701}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.502734+00:00", "timestamp": 1750096267.502734}}}
{"text": "Request: GET http://testserver/test-generic-exception\n", "record": {"elapsed": {"repr": "0:00:02.492577", "seconds": 2.492577}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/test-generic-exception", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.504610+00:00", "timestamp": 1750096267.50461}}}
{"text": "Response: 404\n", "record": {"elapsed": {"repr": "0:00:02.499125", "seconds": 2.499125}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 404", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.511158+00:00", "timestamp": 1750096267.511158}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.514657", "seconds": 2.514657}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.526690+00:00", "timestamp": 1750096267.52669}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.539084", "seconds": 2.539084}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.551117+00:00", "timestamp": 1750096267.551117}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.559944", "seconds": 2.559944}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.571977+00:00", "timestamp": 1750096267.571977}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.560512", "seconds": 2.560512}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.572545+00:00", "timestamp": 1750096267.572545}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.560767", "seconds": 2.560767}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.572800+00:00", "timestamp": 1750096267.5728}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:02.561042", "seconds": 2.561042}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.573075+00:00", "timestamp": 1750096267.573075}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.561362", "seconds": 2.561362}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.573395+00:00", "timestamp": 1750096267.573395}}}
{"text": "Camera Entity: Not set\n", "record": {"elapsed": {"repr": "0:00:02.561686", "seconds": 2.561686}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: Not set", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.573719+00:00", "timestamp": 1750096267.573719}}}
{"text": "AI Model: test_model\n", "record": {"elapsed": {"repr": "0:00:02.561972", "seconds": 2.561972}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: test_model", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.574005+00:00", "timestamp": 1750096267.574005}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.562285", "seconds": 2.562285}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.574318+00:00", "timestamp": 1750096267.574318}}}
{"text": "Supervisor URL: None\n", "record": {"elapsed": {"repr": "0:00:02.562588", "seconds": 2.562588}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: None", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.574621+00:00", "timestamp": 1750096267.574621}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.562882", "seconds": 2.562882}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.574915+00:00", "timestamp": 1750096267.574915}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.567201", "seconds": 2.567201}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.579234+00:00", "timestamp": 1750096267.579234}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.568712", "seconds": 2.568712}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.580745+00:00", "timestamp": 1750096267.580745}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.570422", "seconds": 2.570422}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.582455+00:00", "timestamp": 1750096267.582455}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.570948", "seconds": 2.570948}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.582981+00:00", "timestamp": 1750096267.582981}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.585754", "seconds": 2.585754}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.597787+00:00", "timestamp": 1750096267.597787}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.586370", "seconds": 2.58637}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.598403+00:00", "timestamp": 1750096267.598403}}}
{"text": "Request: POST http://testserver/test-size-limit\n", "record": {"elapsed": {"repr": "0:00:02.589456", "seconds": 2.589456}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: POST http://testserver/test-size-limit", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.601489+00:00", "timestamp": 1750096267.601489}}}
{"text": "Response: 405\n", "record": {"elapsed": {"repr": "0:00:02.590058", "seconds": 2.590058}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 405", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.602091+00:00", "timestamp": 1750096267.602091}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.607216", "seconds": 2.607216}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727821878976, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:51:07.619249+00:00", "timestamp": 1750096267.619249}}}
{"text": "Mounted frontend directory: /app/ai_room_cleaner/frontend\n", "record": {"elapsed": {"repr": "0:00:02.640977", "seconds": 2.640977}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "<module>", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 148, "message": "Mounted frontend directory: /app/ai_room_cleaner/frontend", "module": "main", "name": "backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727925074816, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:51:07.653010+00:00", "timestamp": 1750096267.65301}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.787410", "seconds": 2.78741}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727925074816, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:51:07.799443+00:00", "timestamp": 1750096267.799443}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.787894", "seconds": 2.787894}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727925074816, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:51:07.799927+00:00", "timestamp": 1750096267.799927}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.788223", "seconds": 2.788223}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727925074816, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:51:07.800256+00:00", "timestamp": 1750096267.800256}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.828233", "seconds": 2.828233}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727925074816, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:51:07.840266+00:00", "timestamp": 1750096267.840266}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.828793", "seconds": 2.828793}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727925074816, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:51:07.840826+00:00", "timestamp": 1750096267.840826}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.829155", "seconds": 2.829155}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727925074816, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:51:07.841188+00:00", "timestamp": 1750096267.841188}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.861628", "seconds": 2.861628}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727925074816, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:51:07.873661+00:00", "timestamp": 1750096267.873661}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.862277", "seconds": 2.862277}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727925074816, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:51:07.874310+00:00", "timestamp": 1750096267.87431}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.862844", "seconds": 2.862844}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727925074816, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:51:07.874877+00:00", "timestamp": 1750096267.874877}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.894396", "seconds": 2.894396}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727925074816, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:51:07.906429+00:00", "timestamp": 1750096267.906429}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.894906", "seconds": 2.894906}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727925074816, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:51:07.906939+00:00", "timestamp": 1750096267.906939}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.895333", "seconds": 2.895333}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727925074816, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:51:07.907366+00:00", "timestamp": 1750096267.907366}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.927795", "seconds": 2.927795}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727925074816, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:51:07.939828+00:00", "timestamp": 1750096267.939828}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.928280", "seconds": 2.92828}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727925074816, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:51:07.940313+00:00", "timestamp": 1750096267.940313}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.928602", "seconds": 2.928602}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727925074816, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:51:07.940635+00:00", "timestamp": 1750096267.940635}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.959902", "seconds": 2.959902}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727925074816, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:51:07.971935+00:00", "timestamp": 1750096267.971935}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.960682", "seconds": 2.960682}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727925074816, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:51:07.972715+00:00", "timestamp": 1750096267.972715}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.961159", "seconds": 2.961159}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727925074816, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:51:07.973192+00:00", "timestamp": 1750096267.973192}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:02.994228", "seconds": 2.994228}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727925074816, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:51:08.006261+00:00", "timestamp": 1750096268.006261}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:02.995229", "seconds": 2.995229}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727925074816, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:51:08.007262+00:00", "timestamp": 1750096268.007262}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:02.995836", "seconds": 2.995836}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727925074816, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:51:08.007869+00:00", "timestamp": 1750096268.007869}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.028543", "seconds": 3.028543}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727925074816, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:51:08.040576+00:00", "timestamp": 1750096268.040576}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.029161", "seconds": 3.029161}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727925074816, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:51:08.041194+00:00", "timestamp": 1750096268.041194}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.029672", "seconds": 3.029672}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727925074816, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:51:08.041705+00:00", "timestamp": 1750096268.041705}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.061713", "seconds": 3.061713}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727925074816, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:51:08.073746+00:00", "timestamp": 1750096268.073746}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.062231", "seconds": 3.062231}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727925074816, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:51:08.074264+00:00", "timestamp": 1750096268.074264}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.062567", "seconds": 3.062567}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727925074816, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:51:08.074600+00:00", "timestamp": 1750096268.0746}}}
{"text": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'\n", "record": {"elapsed": {"repr": "0:00:03.094447", "seconds": 3.094447}, "exception": null, "extra": {}, "file": {"name": "image_processing.py", "path": "/app/ai_room_cleaner/backend/utils/image_processing.py"}, "function": "configure_pyvips", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 29, "message": "pyvips not available, skipping configuration. Error: cannot load library 'libvips.so.42': libvips.so.42: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called 'libvips.so.42'", "module": "image_processing", "name": "ai_room_cleaner.backend.utils.image_processing", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727925074816, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:51:08.106480+00:00", "timestamp": 1750096268.10648}}}
{"text": "AIService initialized with provider: openai\n", "record": {"elapsed": {"repr": "0:00:03.095042", "seconds": 3.095042}, "exception": null, "extra": {}, "file": {"name": "ai_service.py", "path": "/app/ai_room_cleaner/backend/services/ai_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AIService initialized with provider: openai", "module": "ai_service", "name": "ai_room_cleaner.backend.services.ai_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727925074816, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:51:08.107075+00:00", "timestamp": 1750096268.107075}}}
{"text": "HistoryService initialized with in-memory storage.\n", "record": {"elapsed": {"repr": "0:00:03.095374", "seconds": 3.095374}, "exception": null, "extra": {}, "file": {"name": "history_service.py", "path": "/app/ai_room_cleaner/backend/services/history_service.py"}, "function": "__init__", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 16, "message": "HistoryService initialized with in-memory storage.", "module": "history_service", "name": "ai_room_cleaner.backend.services.history_service", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 123727925074816, "name": "MainThread"}, "time": {"repr": "2025-06-16 17:51:08.107407+00:00", "timestamp": 1750096268.107407}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.204628", "seconds": 2.204628}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:04.924535+00:00", "timestamp": 1750096504.924535}}}
{"text": "Application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.205828", "seconds": 2.205828}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Application state initialized.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:04.925735+00:00", "timestamp": 1750096504.925735}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.206360", "seconds": 2.20636}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:04.926267+00:00", "timestamp": 1750096504.926267}}}
{"text": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='134862438118608'>\n", "record": {"elapsed": {"repr": "0:00:02.206895", "seconds": 2.206895}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='134862438118608'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:04.926802+00:00", "timestamp": 1750096504.926802}}}
{"text": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='134862381061120'>\n", "record": {"elapsed": {"repr": "0:00:02.207434", "seconds": 2.207434}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='134862381061120'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:04.927341+00:00", "timestamp": 1750096504.927341}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.207912", "seconds": 2.207912}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:04.927819+00:00", "timestamp": 1750096504.927819}}}
{"text": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='134862381064144'>\n", "record": {"elapsed": {"repr": "0:00:02.208318", "seconds": 2.208318}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='134862381064144'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:04.928225+00:00", "timestamp": 1750096504.928225}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.208518", "seconds": 2.208518}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:04.928425+00:00", "timestamp": 1750096504.928425}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.209971", "seconds": 2.209971}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:04.929878+00:00", "timestamp": 1750096504.929878}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.211083", "seconds": 2.211083}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:04.930990+00:00", "timestamp": 1750096504.93099}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.212466", "seconds": 2.212466}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:04.932373+00:00", "timestamp": 1750096504.932373}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.212788", "seconds": 2.212788}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:04.932695+00:00", "timestamp": 1750096504.932695}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.227130", "seconds": 2.22713}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:04.947037+00:00", "timestamp": 1750096504.947037}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.227585", "seconds": 2.227585}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:04.947492+00:00", "timestamp": 1750096504.947492}}}
{"text": "Request: POST http://testserver/v1/analyze-room-secure\n", "record": {"elapsed": {"repr": "0:00:02.229132", "seconds": 2.229132}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: POST http://testserver/v1/analyze-room-secure", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:04.949039+00:00", "timestamp": 1750096504.949039}}}
{"text": "Response: 401\n", "record": {"elapsed": {"repr": "0:00:02.231149", "seconds": 2.231149}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 401", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:04.951056+00:00", "timestamp": 1750096504.951056}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.233047", "seconds": 2.233047}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:04.952954+00:00", "timestamp": 1750096504.952954}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.253524", "seconds": 2.253524}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:04.973431+00:00", "timestamp": 1750096504.973431}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:02.254427", "seconds": 2.254427}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:04.974334+00:00", "timestamp": 1750096504.974334}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.254709", "seconds": 2.254709}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:04.974616+00:00", "timestamp": 1750096504.974616}}}
{"text": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='134862381067168'>\n", "record": {"elapsed": {"repr": "0:00:02.255354", "seconds": 2.255354}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='134862381067168'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:04.975261+00:00", "timestamp": 1750096504.975261}}}
{"text": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='134862381068176'>\n", "record": {"elapsed": {"repr": "0:00:02.255868", "seconds": 2.255868}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='134862381068176'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:04.975775+00:00", "timestamp": 1750096504.975775}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.256297", "seconds": 2.256297}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:04.976204+00:00", "timestamp": 1750096504.976204}}}
{"text": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='134862381069856'>\n", "record": {"elapsed": {"repr": "0:00:02.256698", "seconds": 2.256698}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='134862381069856'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:04.976605+00:00", "timestamp": 1750096504.976605}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.256910", "seconds": 2.25691}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:04.976817+00:00", "timestamp": 1750096504.976817}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.258467", "seconds": 2.258467}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:04.978374+00:00", "timestamp": 1750096504.978374}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.259532", "seconds": 2.259532}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:04.979439+00:00", "timestamp": 1750096504.979439}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.261213", "seconds": 2.261213}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:04.981120+00:00", "timestamp": 1750096504.98112}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.261547", "seconds": 2.261547}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:04.981454+00:00", "timestamp": 1750096504.981454}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.277486", "seconds": 2.277486}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:04.997393+00:00", "timestamp": 1750096504.997393}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.278103", "seconds": 2.278103}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:04.998010+00:00", "timestamp": 1750096504.99801}}}
{"text": "Request: POST http://testserver/v1/analyze-room-secure\n", "record": {"elapsed": {"repr": "0:00:02.279652", "seconds": 2.279652}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: POST http://testserver/v1/analyze-room-secure", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:04.999559+00:00", "timestamp": 1750096504.999559}}}
{"text": "Received request for secure room analysis\n", "record": {"elapsed": {"repr": "0:00:02.282456", "seconds": 2.282456}, "exception": null, "extra": {}, "file": {"name": "router.py", "path": "/app/ai_room_cleaner/backend/api/router.py"}, "function": "analyze_room_secure", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "Received request for secure room analysis", "module": "router", "name": "ai_room_cleaner.backend.api.router", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.002363+00:00", "timestamp": 1750096505.002363}}}
{"text": "Response: 400\n", "record": {"elapsed": {"repr": "0:00:02.283302", "seconds": 2.283302}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 400", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.003209+00:00", "timestamp": 1750096505.003209}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.284989", "seconds": 2.284989}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.004896+00:00", "timestamp": 1750096505.004896}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.304991", "seconds": 2.304991}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.024898+00:00", "timestamp": 1750096505.024898}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:02.305961", "seconds": 2.305961}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.025868+00:00", "timestamp": 1750096505.025868}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.306261", "seconds": 2.306261}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.026168+00:00", "timestamp": 1750096505.026168}}}
{"text": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='134862377616448'>\n", "record": {"elapsed": {"repr": "0:00:02.306705", "seconds": 2.306705}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='134862377616448'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.026612+00:00", "timestamp": 1750096505.026612}}}
{"text": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='134862377617456'>\n", "record": {"elapsed": {"repr": "0:00:02.307102", "seconds": 2.307102}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='134862377617456'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.027009+00:00", "timestamp": 1750096505.027009}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.307461", "seconds": 2.307461}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.027368+00:00", "timestamp": 1750096505.027368}}}
{"text": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='134862377619136'>\n", "record": {"elapsed": {"repr": "0:00:02.307803", "seconds": 2.307803}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='134862377619136'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.027710+00:00", "timestamp": 1750096505.02771}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.308061", "seconds": 2.308061}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.027968+00:00", "timestamp": 1750096505.027968}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.310216", "seconds": 2.310216}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.030123+00:00", "timestamp": 1750096505.030123}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.311252", "seconds": 2.311252}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.031159+00:00", "timestamp": 1750096505.031159}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.312140", "seconds": 2.31214}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.032047+00:00", "timestamp": 1750096505.032047}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.312394", "seconds": 2.312394}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.032301+00:00", "timestamp": 1750096505.032301}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.327876", "seconds": 2.327876}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.047783+00:00", "timestamp": 1750096505.047783}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.328708", "seconds": 2.328708}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.048615+00:00", "timestamp": 1750096505.048615}}}
{"text": "Request: GET http://testserver/history\n", "record": {"elapsed": {"repr": "0:00:02.331293", "seconds": 2.331293}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/history", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.051200+00:00", "timestamp": 1750096505.0512}}}
{"text": "An unexpected error occurred\n  + Exception Group Traceback (most recent call last):\n  |\n  |   File \"/usr/local/lib/python3.13/site-packages/starlette/_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 177, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x7aa81852fed0>\n  |                │     └ <function create_task_group at 0x7aa81cbed9e0>\n  |                └ <module 'anyio' from '/usr/local/lib/python3.13/site-packages/anyio/__init__.py'>\n  |   File \"/usr/local/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7aa818270360>\n    |           │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x7aa818e9f740>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <ai_room_cleaner.backend.middleware.RequestSizeLimitMiddleware object at 0x7aa8185c87d0>\n    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7aa8180dafd0>\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x7aa81bc5fe20>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"/usr/local/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError(\"object MagicMock can't be used in 'await' expression\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x7aa81ba90a00>\n    |     └ <contextlib._GeneratorContextManager object at 0x7aa8181f0130>\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7aa818270400>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x7aa818642140>\n    |                      │    └ <bound method RequestSizeLimitMiddleware.dispatch of <ai_room_cleaner.backend.middleware.RequestSizeLimitMiddleware object at...\n    |                      └ <ai_room_cleaner.backend.middleware.RequestSizeLimitMiddleware object at 0x7aa8185c87d0>\n    |\n    |   File \"/app/ai_room_cleaner/backend/middleware.py\", line 35, in dispatch\n    |     return await call_next(request)\n    |                  │         └ <starlette.middleware.base._CachedRequest object at 0x7aa818642140>\n    |                  └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7aa818270400>\n    |\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ TypeError(\"object MagicMock can't be used in 'await' expression\")\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7aa818270680>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818270a40>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <ai_room_cleaner.backend.middleware.LoggingMiddleware object at 0x7aa8185116a0>\n    |           └ <ai_room_cleaner.backend.middleware.RequestSizeLimitMiddleware object at 0x7aa8185c87d0>\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x7aa81bc5fe20>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"/usr/local/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError(\"object MagicMock can't be used in 'await' expression\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x7aa8180f9490>\n    |     └ <contextlib._GeneratorContextManager object at 0x7aa8181f01a0>\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7aa818270540>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x7aa818640c00>\n    |                      │    └ <bound method LoggingMiddleware.dispatch of <ai_room_cleaner.backend.middleware.LoggingMiddleware object at 0x7aa8185116a0>>\n    |                      └ <ai_room_cleaner.backend.middleware.LoggingMiddleware object at 0x7aa8185116a0>\n    |\n    |   File \"/app/ai_room_cleaner/backend/middleware.py\", line 12, in dispatch\n    |     response = await call_next(request)\n    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x7aa818640c00>\n    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7aa818270540>\n    |\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ TypeError(\"object MagicMock can't be used in 'await' expression\")\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7aa8182713a0>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818270900>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7aa818511550>\n    |           └ <ai_room_cleaner.backend.middleware.LoggingMiddleware object at 0x7aa8185116a0>\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7aa8182713a0>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818270900>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7aa8180db100>\n    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x7aa818511550>\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7aa8182713a0>\n    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818270900>\n    |           │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │                            │    │    └ <starlette.requests.Request object at 0x7aa818f1ad50>\n    |           │                            │    └ <fastapi.routing.APIRouter object at 0x7aa81907dd10>\n    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7aa8180db100>\n    |           └ <function wrap_app_handling_exceptions at 0x7aa81bbb00e0>\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7aa81867cb80>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818270900>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           └ <fastapi.routing.APIRouter object at 0x7aa81907dd10>\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/routing.py\", line 714, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7aa81867cb80>\n    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818270900>\n    |           │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7aa81907dd10>>\n    |           └ <fastapi.routing.APIRouter object at 0x7aa81907dd10>\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/routing.py\", line 734, in app\n    |     await route.handle(scope, receive, send)\n    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7aa81867cb80>\n    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818270900>\n    |           │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │     └ <function Route.handle at 0x7aa81bbb1760>\n    |           └ APIRoute(path='/history', name='get_history', methods=['GET'])\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7aa81867cb80>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818270900>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <function request_response.<locals>.app at 0x7aa818e9e3e0>\n    |           └ APIRoute(path='/history', name='get_history', methods=['GET'])\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7aa81867cb80>\n    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818270900>\n    |           │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │                            │    └ <starlette.requests.Request object at 0x7aa8180ad390>\n    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x7aa8180bc220>\n    |           └ <function wrap_app_handling_exceptions at 0x7aa81bbb00e0>\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7aa81cd08e00>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818270900>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           └ <function request_response.<locals>.app.<locals>.app at 0x7aa8180bc220>\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/routing.py\", line 73, in app\n    |     response = await f(request)\n    |                      │ └ <starlette.requests.Request object at 0x7aa8180ad390>\n    |                      └ <function get_request_handler.<locals>.app at 0x7aa818e9e2a0>\n    |   File \"/usr/local/lib/python3.13/site-packages/fastapi/routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                          └ <function run_endpoint_function at 0x7aa81bb8f880>\n    |   File \"/usr/local/lib/python3.13/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |                  │         │      └ {}\n    |                  │         └ <function get_history at 0x7aa818e9cb80>\n    |                  └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[], dependencies=[], security_requ...\n    |\n    |   File \"/app/ai_room_cleaner/backend/api/router.py\", line 148, in get_history\n    |     return await history_service.get_history()\n    |                  └ <MagicMock name='HistoryService()' id='134862438117936'>\n    |\n    | TypeError: object MagicMock can't be used in 'await' expression\n    +------------------------------------\n\n\nDuring handling of the above exception, another exception occurred:\n\n\nTraceback (most recent call last):\n\n  File \"/usr/local/lib/python3.13/threading.py\", line 1014, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x7aa81e0a00e0>\n    └ <Thread(Thread-8 (run_blocking_portal), started daemon 134862308636352)>\n  File \"/usr/local/lib/python3.13/threading.py\", line 1043, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x7aa81e2c7e20>\n    └ <Thread(Thread-8 (run_blocking_portal), started daemon 134862308636352)>\n  File \"/usr/local/lib/python3.13/threading.py\", line 994, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-8 (run_blocking_portal), started daemon 134862308636352)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-8 (run_blocking_portal), started daemon 134862308636352)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x7aa8180b7740>\n    └ <Thread(Thread-8 (run_blocking_portal), started daemon 134862308636352)>\n  File \"/usr/local/lib/python3.13/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x7aa81cd08a40>\n    └ <module 'anyio._core._eventloop' from '/usr/local/lib/python3.13/site-packages/anyio/_core/_eventloop.py'>\n  File \"/usr/local/lib/python3.13/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x7aa8180b76a0>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x7aa8180b5580>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/usr/local/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x7aa8180b7380>\n           │      └ <function Runner.run at 0x7aa81d656660>\n           └ <asyncio.runners.Runner object at 0x7aa8184e7bf0>\n  File \"/usr/local/lib/python3.13/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x7aa81d654180>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x7aa8184e7bf0>\n  File \"/usr/local/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x7aa81d6540e0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/usr/local/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x7aa81d655ee0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/usr/local/lib/python3.13/asyncio/base_events.py\", line 2042, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x7aa81d74f1a0>\n    └ <Handle Task.task_wakeup()>\n  File \"/usr/local/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"/usr/local/lib/python3.13/site-packages/anyio/from_thread.py\", line 221, in _call_func\n    retval = await retval_or_awaitable\n                   └ <coroutine object FastAPI.__call__ at 0x7aa818f1a5c0>\n  File \"/usr/local/lib/python3.13/site-packages/fastapi/applications.py\", line 1054, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x7aa818271300>\n                           │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x7aa818e9f740>\n                           └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n  File \"/usr/local/lib/python3.13/site-packages/starlette/applications.py\", line 112, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x7aa818271300>\n          │    │                │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x7aa818e9f740>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7aa8180dafd0>\n          └ <fastapi.applications.FastAPI object at 0x7aa818ea0ec0>\n> File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7aa818270360>\n          │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x7aa818e9f740>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <ai_room_cleaner.backend.middleware.RequestSizeLimitMiddleware object at 0x7aa8185c87d0>\n          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7aa8180dafd0>\n  File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x7aa81bc5fe20>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"/usr/local/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError(\"object MagicMock can't be used in 'await' expression\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x7aa81ba90a00>\n    └ <contextlib._GeneratorContextManager object at 0x7aa8181f0130>\n  File \"/usr/local/lib/python3.13/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7aa818270400>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7aa818642140>\n                     │    └ <bound method RequestSizeLimitMiddleware.dispatch of <ai_room_cleaner.backend.middleware.RequestSizeLimitMiddleware object at...\n                     └ <ai_room_cleaner.backend.middleware.RequestSizeLimitMiddleware object at 0x7aa8185c87d0>\n\n  File \"/app/ai_room_cleaner/backend/middleware.py\", line 35, in dispatch\n    return await call_next(request)\n                 │         └ <starlette.middleware.base._CachedRequest object at 0x7aa818642140>\n                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7aa818270400>\n\n  File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 156, in call_next\n    raise app_exc\n          └ TypeError(\"object MagicMock can't be used in 'await' expression\")\n  File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7aa818270680>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818270a40>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <ai_room_cleaner.backend.middleware.LoggingMiddleware object at 0x7aa8185116a0>\n          └ <ai_room_cleaner.backend.middleware.RequestSizeLimitMiddleware object at 0x7aa8185c87d0>\n  File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x7aa81bc5fe20>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"/usr/local/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError(\"object MagicMock can't be used in 'await' expression\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x7aa8180f9490>\n    └ <contextlib._GeneratorContextManager object at 0x7aa8181f01a0>\n  File \"/usr/local/lib/python3.13/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7aa818270540>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7aa818640c00>\n                     │    └ <bound method LoggingMiddleware.dispatch of <ai_room_cleaner.backend.middleware.LoggingMiddleware object at 0x7aa8185116a0>>\n                     └ <ai_room_cleaner.backend.middleware.LoggingMiddleware object at 0x7aa8185116a0>\n\n  File \"/app/ai_room_cleaner/backend/middleware.py\", line 12, in dispatch\n    response = await call_next(request)\n                     │         └ <starlette.middleware.base._CachedRequest object at 0x7aa818640c00>\n                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7aa818270540>\n\n  File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 156, in call_next\n    raise app_exc\n          └ TypeError(\"object MagicMock can't be used in 'await' expression\")\n  File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7aa8182713a0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818270900>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7aa818511550>\n          └ <ai_room_cleaner.backend.middleware.LoggingMiddleware object at 0x7aa8185116a0>\n  File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7aa8182713a0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818270900>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7aa8180db100>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x7aa818511550>\n  File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7aa8182713a0>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818270900>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │                            │    │    └ <starlette.requests.Request object at 0x7aa818f1ad50>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x7aa81907dd10>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7aa8180db100>\n          └ <function wrap_app_handling_exceptions at 0x7aa81bbb00e0>\n  File \"/usr/local/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/usr/local/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7aa81867cb80>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818270900>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          └ <fastapi.routing.APIRouter object at 0x7aa81907dd10>\n  File \"/usr/local/lib/python3.13/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7aa81867cb80>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818270900>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7aa81907dd10>>\n          └ <fastapi.routing.APIRouter object at 0x7aa81907dd10>\n  File \"/usr/local/lib/python3.13/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7aa81867cb80>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818270900>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │     └ <function Route.handle at 0x7aa81bbb1760>\n          └ APIRoute(path='/history', name='get_history', methods=['GET'])\n  File \"/usr/local/lib/python3.13/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7aa81867cb80>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818270900>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <function request_response.<locals>.app at 0x7aa818e9e3e0>\n          └ APIRoute(path='/history', name='get_history', methods=['GET'])\n  File \"/usr/local/lib/python3.13/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7aa81867cb80>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818270900>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │                            │    └ <starlette.requests.Request object at 0x7aa8180ad390>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7aa8180bc220>\n          └ <function wrap_app_handling_exceptions at 0x7aa81bbb00e0>\n  File \"/usr/local/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/usr/local/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7aa81cd08e00>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818270900>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          └ <function request_response.<locals>.app.<locals>.app at 0x7aa8180bc220>\n  File \"/usr/local/lib/python3.13/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x7aa8180ad390>\n                     └ <function get_request_handler.<locals>.app at 0x7aa818e9e2a0>\n  File \"/usr/local/lib/python3.13/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x7aa81bb8f880>\n  File \"/usr/local/lib/python3.13/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {}\n                 │         └ <function get_history at 0x7aa818e9cb80>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[], dependencies=[], security_requ...\n\n  File \"/app/ai_room_cleaner/backend/api/router.py\", line 148, in get_history\n    return await history_service.get_history()\n                 └ <MagicMock name='HistoryService()' id='134862438117936'>\n\nTypeError: object MagicMock can't be used in 'await' expression\n", "record": {"elapsed": {"repr": "0:00:02.332483", "seconds": 2.332483}, "exception": {"type": "TypeError", "value": "object MagicMock can't be used in 'await' expression", "traceback": true}, "extra": {"exc_info": "object MagicMock can't be used in 'await' expression"}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "generic_exception_handler", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 108, "message": "An unexpected error occurred", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.052390+00:00", "timestamp": 1750096505.05239}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.815612", "seconds": 2.815612}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.535519+00:00", "timestamp": 1750096505.535519}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.834833", "seconds": 2.834833}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.554740+00:00", "timestamp": 1750096505.55474}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:02.835658", "seconds": 2.835658}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.555565+00:00", "timestamp": 1750096505.555565}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.835930", "seconds": 2.83593}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.555837+00:00", "timestamp": 1750096505.555837}}}
{"text": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='134862381067168'>\n", "record": {"elapsed": {"repr": "0:00:02.836495", "seconds": 2.836495}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='134862381067168'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.556402+00:00", "timestamp": 1750096505.556402}}}
{"text": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='134862381068176'>\n", "record": {"elapsed": {"repr": "0:00:02.837185", "seconds": 2.837185}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='134862381068176'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.557092+00:00", "timestamp": 1750096505.557092}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.837830", "seconds": 2.83783}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.557737+00:00", "timestamp": 1750096505.557737}}}
{"text": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='134862381060112'>\n", "record": {"elapsed": {"repr": "0:00:02.838367", "seconds": 2.838367}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='134862381060112'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.558274+00:00", "timestamp": 1750096505.558274}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.838613", "seconds": 2.838613}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.558520+00:00", "timestamp": 1750096505.55852}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.840379", "seconds": 2.840379}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.560286+00:00", "timestamp": 1750096505.560286}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.841629", "seconds": 2.841629}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.561536+00:00", "timestamp": 1750096505.561536}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.842732", "seconds": 2.842732}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.562639+00:00", "timestamp": 1750096505.562639}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.843081", "seconds": 2.843081}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.562988+00:00", "timestamp": 1750096505.562988}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.857602", "seconds": 2.857602}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.577509+00:00", "timestamp": 1750096505.577509}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.858539", "seconds": 2.858539}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.578446+00:00", "timestamp": 1750096505.578446}}}
{"text": "Request: DELETE http://testserver/history\n", "record": {"elapsed": {"repr": "0:00:02.860412", "seconds": 2.860412}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: DELETE http://testserver/history", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.580319+00:00", "timestamp": 1750096505.580319}}}
{"text": "Response: 401\n", "record": {"elapsed": {"repr": "0:00:02.861852", "seconds": 2.861852}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 401", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.581759+00:00", "timestamp": 1750096505.581759}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.863070", "seconds": 2.86307}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.582977+00:00", "timestamp": 1750096505.582977}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.880063", "seconds": 2.880063}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.599970+00:00", "timestamp": 1750096505.59997}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:02.880916", "seconds": 2.880916}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.600823+00:00", "timestamp": 1750096505.600823}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.881235", "seconds": 2.881235}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.601142+00:00", "timestamp": 1750096505.601142}}}
{"text": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='134862381058096'>\n", "record": {"elapsed": {"repr": "0:00:02.881789", "seconds": 2.881789}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='134862381058096'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.601696+00:00", "timestamp": 1750096505.601696}}}
{"text": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='134862381056080'>\n", "record": {"elapsed": {"repr": "0:00:02.882342", "seconds": 2.882342}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='134862381056080'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.602249+00:00", "timestamp": 1750096505.602249}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.882868", "seconds": 2.882868}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.602775+00:00", "timestamp": 1750096505.602775}}}
{"text": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='134862391091488'>\n", "record": {"elapsed": {"repr": "0:00:02.883303", "seconds": 2.883303}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='134862391091488'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.603210+00:00", "timestamp": 1750096505.60321}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.883577", "seconds": 2.883577}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.603484+00:00", "timestamp": 1750096505.603484}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.885035", "seconds": 2.885035}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.604942+00:00", "timestamp": 1750096505.604942}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.886473", "seconds": 2.886473}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.606380+00:00", "timestamp": 1750096505.60638}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.887683", "seconds": 2.887683}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.607590+00:00", "timestamp": 1750096505.60759}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.887993", "seconds": 2.887993}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.607900+00:00", "timestamp": 1750096505.6079}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.903488", "seconds": 2.903488}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.623395+00:00", "timestamp": 1750096505.623395}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.904209", "seconds": 2.904209}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.624116+00:00", "timestamp": 1750096505.624116}}}
{"text": "Request: DELETE http://testserver/history\n", "record": {"elapsed": {"repr": "0:00:02.905733", "seconds": 2.905733}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: DELETE http://testserver/history", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.625640+00:00", "timestamp": 1750096505.62564}}}
{"text": "An unexpected error occurred\n  + Exception Group Traceback (most recent call last):\n  |\n  |   File \"/usr/local/lib/python3.13/site-packages/starlette/_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 177, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x7aa8183023c0>\n  |                │     └ <function create_task_group at 0x7aa81cbed9e0>\n  |                └ <module 'anyio' from '/usr/local/lib/python3.13/site-packages/anyio/__init__.py'>\n  |   File \"/usr/local/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7aa81823a2a0>\n    |           │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x7aa818657740>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           │    └ <ai_room_cleaner.backend.middleware.RequestSizeLimitMiddleware object at 0x7aa8185c87d0>\n    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7aa8180dafd0>\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x7aa81bc5fe20>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"/usr/local/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError(\"object MagicMock can't be used in 'await' expression\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x7aa813581560>\n    |     └ <contextlib._GeneratorContextManager object at 0x7aa818242f90>\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7aa818239bc0>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x7aa8184d6120>\n    |                      │    └ <bound method RequestSizeLimitMiddleware.dispatch of <ai_room_cleaner.backend.middleware.RequestSizeLimitMiddleware object at...\n    |                      └ <ai_room_cleaner.backend.middleware.RequestSizeLimitMiddleware object at 0x7aa8185c87d0>\n    |\n    |   File \"/app/ai_room_cleaner/backend/middleware.py\", line 35, in dispatch\n    |     return await call_next(request)\n    |                  │         └ <starlette.middleware.base._CachedRequest object at 0x7aa8184d6120>\n    |                  └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7aa818239bc0>\n    |\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ TypeError(\"object MagicMock can't be used in 'await' expression\")\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7aa8182399e0>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818239760>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           │    └ <ai_room_cleaner.backend.middleware.LoggingMiddleware object at 0x7aa8185116a0>\n    |           └ <ai_room_cleaner.backend.middleware.RequestSizeLimitMiddleware object at 0x7aa8185c87d0>\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x7aa81bc5fe20>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"/usr/local/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError(\"object MagicMock can't be used in 'await' expression\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x7aa813581220>\n    |     └ <contextlib._GeneratorContextManager object at 0x7aa8183024a0>\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7aa81823a0c0>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x7aa8184d58b0>\n    |                      │    └ <bound method LoggingMiddleware.dispatch of <ai_room_cleaner.backend.middleware.LoggingMiddleware object at 0x7aa8185116a0>>\n    |                      └ <ai_room_cleaner.backend.middleware.LoggingMiddleware object at 0x7aa8185116a0>\n    |\n    |   File \"/app/ai_room_cleaner/backend/middleware.py\", line 12, in dispatch\n    |     response = await call_next(request)\n    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x7aa8184d58b0>\n    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7aa81823a0c0>\n    |\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ TypeError(\"object MagicMock can't be used in 'await' expression\")\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7aa818239e40>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818239da0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7aa818511550>\n    |           └ <ai_room_cleaner.backend.middleware.LoggingMiddleware object at 0x7aa8185116a0>\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7aa818239e40>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818239da0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7aa8180db100>\n    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x7aa818511550>\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7aa818239e40>\n    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818239da0>\n    |           │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           │                            │    │    └ <starlette.requests.Request object at 0x7aa818534c50>\n    |           │                            │    └ <fastapi.routing.APIRouter object at 0x7aa81907dd10>\n    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7aa8180db100>\n    |           └ <function wrap_app_handling_exceptions at 0x7aa81bbb00e0>\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7aa81823a200>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818239da0>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           └ <fastapi.routing.APIRouter object at 0x7aa81907dd10>\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/routing.py\", line 714, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7aa81823a200>\n    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818239da0>\n    |           │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7aa81907dd10>>\n    |           └ <fastapi.routing.APIRouter object at 0x7aa81907dd10>\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/routing.py\", line 734, in app\n    |     await route.handle(scope, receive, send)\n    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7aa81823a200>\n    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818239da0>\n    |           │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           │     └ <function Route.handle at 0x7aa81bbb1760>\n    |           └ APIRoute(path='/history', name='clear_history', methods=['DELETE'])\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7aa81823a200>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818239da0>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           │    └ <function request_response.<locals>.app at 0x7aa818e9e480>\n    |           └ APIRoute(path='/history', name='clear_history', methods=['DELETE'])\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7aa81823a200>\n    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818239da0>\n    |           │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           │                            │    └ <starlette.requests.Request object at 0x7aa813596200>\n    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x7aa81823a3e0>\n    |           └ <function wrap_app_handling_exceptions at 0x7aa81bbb00e0>\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7aa81823a5c0>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818239da0>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n    |           └ <function request_response.<locals>.app.<locals>.app at 0x7aa81823a3e0>\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/routing.py\", line 73, in app\n    |     response = await f(request)\n    |                      │ └ <starlette.requests.Request object at 0x7aa813596200>\n    |                      └ <function get_request_handler.<locals>.app at 0x7aa818e9e5c0>\n    |   File \"/usr/local/lib/python3.13/site-packages/fastapi/routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                          └ <function run_endpoint_function at 0x7aa81bb8f880>\n    |   File \"/usr/local/lib/python3.13/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |                  │         │      └ {'_': 'test-key'}\n    |                  │         └ <function clear_history at 0x7aa818e9ce00>\n    |                  └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[], dependencies=[Dependant(path_p...\n    |\n    |   File \"/app/ai_room_cleaner/backend/api/router.py\", line 158, in clear_history\n    |     await history_service.clear_history()\n    |           └ <MagicMock name='HistoryService()' id='134862438117936'>\n    |\n    | TypeError: object MagicMock can't be used in 'await' expression\n    +------------------------------------\n\n\nDuring handling of the above exception, another exception occurred:\n\n\nTraceback (most recent call last):\n\n  File \"/usr/local/lib/python3.13/threading.py\", line 1014, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x7aa81e0a00e0>\n    └ <Thread(Thread-10 (run_blocking_portal), started daemon 134862308636352)>\n  File \"/usr/local/lib/python3.13/threading.py\", line 1043, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x7aa81e2c7e20>\n    └ <Thread(Thread-10 (run_blocking_portal), started daemon 134862308636352)>\n  File \"/usr/local/lib/python3.13/threading.py\", line 994, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-10 (run_blocking_portal), started daemon 134862308636352)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-10 (run_blocking_portal), started daemon 134862308636352)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x7aa8186572e0>\n    └ <Thread(Thread-10 (run_blocking_portal), started daemon 134862308636352)>\n  File \"/usr/local/lib/python3.13/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x7aa81cd08a40>\n    └ <module 'anyio._core._eventloop' from '/usr/local/lib/python3.13/site-packages/anyio/_core/_eventloop.py'>\n  File \"/usr/local/lib/python3.13/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x7aa818656de0>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x7aa8180b5580>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/usr/local/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x7aa818656fc0>\n           │      └ <function Runner.run at 0x7aa81d656660>\n           └ <asyncio.runners.Runner object at 0x7aa818643df0>\n  File \"/usr/local/lib/python3.13/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x7aa81d654180>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x7aa818643df0>\n  File \"/usr/local/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x7aa81d6540e0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/usr/local/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x7aa81d655ee0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/usr/local/lib/python3.13/asyncio/base_events.py\", line 2042, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x7aa81d74f1a0>\n    └ <Handle Task.task_wakeup()>\n  File \"/usr/local/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"/usr/local/lib/python3.13/site-packages/anyio/from_thread.py\", line 221, in _call_func\n    retval = await retval_or_awaitable\n                   └ <coroutine object FastAPI.__call__ at 0x7aa8185bf790>\n  File \"/usr/local/lib/python3.13/site-packages/fastapi/applications.py\", line 1054, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x7aa818239c60>\n                           │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x7aa818657740>\n                           └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n  File \"/usr/local/lib/python3.13/site-packages/starlette/applications.py\", line 112, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x7aa818239c60>\n          │    │                │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x7aa818657740>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7aa8180dafd0>\n          └ <fastapi.applications.FastAPI object at 0x7aa818ea0ec0>\n> File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7aa81823a2a0>\n          │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x7aa818657740>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │    └ <ai_room_cleaner.backend.middleware.RequestSizeLimitMiddleware object at 0x7aa8185c87d0>\n          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7aa8180dafd0>\n  File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x7aa81bc5fe20>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"/usr/local/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError(\"object MagicMock can't be used in 'await' expression\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x7aa813581560>\n    └ <contextlib._GeneratorContextManager object at 0x7aa818242f90>\n  File \"/usr/local/lib/python3.13/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7aa818239bc0>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7aa8184d6120>\n                     │    └ <bound method RequestSizeLimitMiddleware.dispatch of <ai_room_cleaner.backend.middleware.RequestSizeLimitMiddleware object at...\n                     └ <ai_room_cleaner.backend.middleware.RequestSizeLimitMiddleware object at 0x7aa8185c87d0>\n\n  File \"/app/ai_room_cleaner/backend/middleware.py\", line 35, in dispatch\n    return await call_next(request)\n                 │         └ <starlette.middleware.base._CachedRequest object at 0x7aa8184d6120>\n                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7aa818239bc0>\n\n  File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 156, in call_next\n    raise app_exc\n          └ TypeError(\"object MagicMock can't be used in 'await' expression\")\n  File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7aa8182399e0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818239760>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │    └ <ai_room_cleaner.backend.middleware.LoggingMiddleware object at 0x7aa8185116a0>\n          └ <ai_room_cleaner.backend.middleware.RequestSizeLimitMiddleware object at 0x7aa8185c87d0>\n  File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x7aa81bc5fe20>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"/usr/local/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError(\"object MagicMock can't be used in 'await' expression\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x7aa813581220>\n    └ <contextlib._GeneratorContextManager object at 0x7aa8183024a0>\n  File \"/usr/local/lib/python3.13/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7aa81823a0c0>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7aa8184d58b0>\n                     │    └ <bound method LoggingMiddleware.dispatch of <ai_room_cleaner.backend.middleware.LoggingMiddleware object at 0x7aa8185116a0>>\n                     └ <ai_room_cleaner.backend.middleware.LoggingMiddleware object at 0x7aa8185116a0>\n\n  File \"/app/ai_room_cleaner/backend/middleware.py\", line 12, in dispatch\n    response = await call_next(request)\n                     │         └ <starlette.middleware.base._CachedRequest object at 0x7aa8184d58b0>\n                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7aa81823a0c0>\n\n  File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 156, in call_next\n    raise app_exc\n          └ TypeError(\"object MagicMock can't be used in 'await' expression\")\n  File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7aa818239e40>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818239da0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7aa818511550>\n          └ <ai_room_cleaner.backend.middleware.LoggingMiddleware object at 0x7aa8185116a0>\n  File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7aa818239e40>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818239da0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7aa8180db100>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x7aa818511550>\n  File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7aa818239e40>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818239da0>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │                            │    │    └ <starlette.requests.Request object at 0x7aa818534c50>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x7aa81907dd10>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7aa8180db100>\n          └ <function wrap_app_handling_exceptions at 0x7aa81bbb00e0>\n  File \"/usr/local/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/usr/local/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7aa81823a200>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818239da0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          └ <fastapi.routing.APIRouter object at 0x7aa81907dd10>\n  File \"/usr/local/lib/python3.13/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7aa81823a200>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818239da0>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7aa81907dd10>>\n          └ <fastapi.routing.APIRouter object at 0x7aa81907dd10>\n  File \"/usr/local/lib/python3.13/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7aa81823a200>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818239da0>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │     └ <function Route.handle at 0x7aa81bbb1760>\n          └ APIRoute(path='/history', name='clear_history', methods=['DELETE'])\n  File \"/usr/local/lib/python3.13/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7aa81823a200>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818239da0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │    └ <function request_response.<locals>.app at 0x7aa818e9e480>\n          └ APIRoute(path='/history', name='clear_history', methods=['DELETE'])\n  File \"/usr/local/lib/python3.13/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7aa81823a200>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818239da0>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          │                            │    └ <starlette.requests.Request object at 0x7aa813596200>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7aa81823a3e0>\n          └ <function wrap_app_handling_exceptions at 0x7aa81bbb00e0>\n  File \"/usr/local/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/usr/local/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7aa81823a5c0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa818239da0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'DELETE', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'sc...\n          └ <function request_response.<locals>.app.<locals>.app at 0x7aa81823a3e0>\n  File \"/usr/local/lib/python3.13/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x7aa813596200>\n                     └ <function get_request_handler.<locals>.app at 0x7aa818e9e5c0>\n  File \"/usr/local/lib/python3.13/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x7aa81bb8f880>\n  File \"/usr/local/lib/python3.13/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'_': 'test-key'}\n                 │         └ <function clear_history at 0x7aa818e9ce00>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[], dependencies=[Dependant(path_p...\n\n  File \"/app/ai_room_cleaner/backend/api/router.py\", line 158, in clear_history\n    await history_service.clear_history()\n          └ <MagicMock name='HistoryService()' id='134862438117936'>\n\nTypeError: object MagicMock can't be used in 'await' expression\n", "record": {"elapsed": {"repr": "0:00:02.907253", "seconds": 2.907253}, "exception": {"type": "TypeError", "value": "object MagicMock can't be used in 'await' expression", "traceback": true}, "extra": {"exc_info": "object MagicMock can't be used in 'await' expression"}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "generic_exception_handler", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 108, "message": "An unexpected error occurred", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.627160+00:00", "timestamp": 1750096505.62716}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:03.142622", "seconds": 3.142622}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.862529+00:00", "timestamp": 1750096505.862529}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:03.161922", "seconds": 3.161922}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.881829+00:00", "timestamp": 1750096505.881829}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:03.162760", "seconds": 3.16276}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.882667+00:00", "timestamp": 1750096505.882667}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:03.163025", "seconds": 3.163025}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.882932+00:00", "timestamp": 1750096505.882932}}}
{"text": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='134862381059776'>\n", "record": {"elapsed": {"repr": "0:00:03.163608", "seconds": 3.163608}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='134862381059776'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.883515+00:00", "timestamp": 1750096505.883515}}}
{"text": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='134862381067504'>\n", "record": {"elapsed": {"repr": "0:00:03.164128", "seconds": 3.164128}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='134862381067504'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.884035+00:00", "timestamp": 1750096505.884035}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:03.164571", "seconds": 3.164571}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.884478+00:00", "timestamp": 1750096505.884478}}}
{"text": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='134862381068512'>\n", "record": {"elapsed": {"repr": "0:00:03.165085", "seconds": 3.165085}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='134862381068512'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.884992+00:00", "timestamp": 1750096505.884992}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:03.165508", "seconds": 3.165508}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.885415+00:00", "timestamp": 1750096505.885415}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:03.167450", "seconds": 3.16745}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.887357+00:00", "timestamp": 1750096505.887357}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:03.168617", "seconds": 3.168617}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.888524+00:00", "timestamp": 1750096505.888524}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:03.169675", "seconds": 3.169675}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.889582+00:00", "timestamp": 1750096505.889582}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:03.169879", "seconds": 3.169879}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.889786+00:00", "timestamp": 1750096505.889786}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:03.184305", "seconds": 3.184305}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.904212+00:00", "timestamp": 1750096505.904212}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:03.185096", "seconds": 3.185096}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.905003+00:00", "timestamp": 1750096505.905003}}}
{"text": "Request: GET http://testserver/history\n", "record": {"elapsed": {"repr": "0:00:03.186817", "seconds": 3.186817}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/history", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.906724+00:00", "timestamp": 1750096505.906724}}}
{"text": "An unexpected error occurred\n  + Exception Group Traceback (most recent call last):\n  |\n  |   File \"/usr/local/lib/python3.13/site-packages/starlette/_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 177, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x7aa818303380>\n  |                │     └ <function create_task_group at 0x7aa81cbed9e0>\n  |                └ <module 'anyio' from '/usr/local/lib/python3.13/site-packages/anyio/__init__.py'>\n  |   File \"/usr/local/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7aa81823b1a0>\n    |           │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x7aa8180b6e80>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <ai_room_cleaner.backend.middleware.RequestSizeLimitMiddleware object at 0x7aa8185c87d0>\n    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7aa8180dafd0>\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x7aa81bc5fe20>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"/usr/local/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError(\"object MagicMock can't be used in 'await' expression\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x7aa81ba90860>\n    |     └ <contextlib._GeneratorContextManager object at 0x7aa818303540>\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7aa81823b7e0>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x7aa8181f4bb0>\n    |                      │    └ <bound method RequestSizeLimitMiddleware.dispatch of <ai_room_cleaner.backend.middleware.RequestSizeLimitMiddleware object at...\n    |                      └ <ai_room_cleaner.backend.middleware.RequestSizeLimitMiddleware object at 0x7aa8185c87d0>\n    |\n    |   File \"/app/ai_room_cleaner/backend/middleware.py\", line 35, in dispatch\n    |     return await call_next(request)\n    |                  │         └ <starlette.middleware.base._CachedRequest object at 0x7aa8181f4bb0>\n    |                  └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7aa81823b7e0>\n    |\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ TypeError(\"object MagicMock can't be used in 'await' expression\")\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7aa81823b880>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa81823b920>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <ai_room_cleaner.backend.middleware.LoggingMiddleware object at 0x7aa8185116a0>\n    |           └ <ai_room_cleaner.backend.middleware.RequestSizeLimitMiddleware object at 0x7aa8185c87d0>\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 176, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |          │            │            └ <function collapse_excgroups at 0x7aa81bc5fe20>\n    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n    |   File \"/usr/local/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError(\"object MagicMock can't be used in 'await' expression\")])\n    |     │    │   └ <method 'throw' of 'generator' objects>\n    |     │    └ <generator object collapse_excgroups at 0x7aa8135820c0>\n    |     └ <contextlib._GeneratorContextManager object at 0x7aa8183009f0>\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 178, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7aa818270220>\n    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x7aa8181f6c10>\n    |                      │    └ <bound method LoggingMiddleware.dispatch of <ai_room_cleaner.backend.middleware.LoggingMiddleware object at 0x7aa8185116a0>>\n    |                      └ <ai_room_cleaner.backend.middleware.LoggingMiddleware object at 0x7aa8185116a0>\n    |\n    |   File \"/app/ai_room_cleaner/backend/middleware.py\", line 12, in dispatch\n    |     response = await call_next(request)\n    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x7aa8181f6c10>\n    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7aa818270220>\n    |\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 156, in call_next\n    |     raise app_exc\n    |           └ TypeError(\"object MagicMock can't be used in 'await' expression\")\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 141, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7aa81823ab60>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa81823ac00>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7aa818511550>\n    |           └ <ai_room_cleaner.backend.middleware.LoggingMiddleware object at 0x7aa8185116a0>\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7aa81823ab60>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa81823ac00>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7aa8180db100>\n    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x7aa818511550>\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7aa81823ab60>\n    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa81823ac00>\n    |           │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │                            │    │    └ <starlette.requests.Request object at 0x7aa813597d80>\n    |           │                            │    └ <fastapi.routing.APIRouter object at 0x7aa81907dd10>\n    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7aa8180db100>\n    |           └ <function wrap_app_handling_exceptions at 0x7aa81bbb00e0>\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7aa818657920>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa81823ac00>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           └ <fastapi.routing.APIRouter object at 0x7aa81907dd10>\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/routing.py\", line 714, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7aa818657920>\n    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa81823ac00>\n    |           │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7aa81907dd10>>\n    |           └ <fastapi.routing.APIRouter object at 0x7aa81907dd10>\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/routing.py\", line 734, in app\n    |     await route.handle(scope, receive, send)\n    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7aa818657920>\n    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa81823ac00>\n    |           │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │     └ <function Route.handle at 0x7aa81bbb1760>\n    |           └ APIRoute(path='/history', name='get_history', methods=['GET'])\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7aa818657920>\n    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa81823ac00>\n    |           │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │    └ <function request_response.<locals>.app at 0x7aa818e9e3e0>\n    |           └ APIRoute(path='/history', name='get_history', methods=['GET'])\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7aa818657920>\n    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa81823ac00>\n    |           │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           │                            │    └ <starlette.requests.Request object at 0x7aa8135968e0>\n    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x7aa818656660>\n    |           └ <function wrap_app_handling_exceptions at 0x7aa81bbb00e0>\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7aa81823b420>\n    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa81823ac00>\n    |           │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n    |           └ <function request_response.<locals>.app.<locals>.app at 0x7aa818656660>\n    |   File \"/usr/local/lib/python3.13/site-packages/starlette/routing.py\", line 73, in app\n    |     response = await f(request)\n    |                      │ └ <starlette.requests.Request object at 0x7aa8135968e0>\n    |                      └ <function get_request_handler.<locals>.app at 0x7aa818e9e2a0>\n    |   File \"/usr/local/lib/python3.13/site-packages/fastapi/routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                          └ <function run_endpoint_function at 0x7aa81bb8f880>\n    |   File \"/usr/local/lib/python3.13/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |                  │         │      └ {}\n    |                  │         └ <function get_history at 0x7aa818e9cb80>\n    |                  └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[], dependencies=[], security_requ...\n    |\n    |   File \"/app/ai_room_cleaner/backend/api/router.py\", line 148, in get_history\n    |     return await history_service.get_history()\n    |                  └ <MagicMock name='HistoryService()' id='134862438117936'>\n    |\n    | TypeError: object MagicMock can't be used in 'await' expression\n    +------------------------------------\n\n\nDuring handling of the above exception, another exception occurred:\n\n\nTraceback (most recent call last):\n\n  File \"/usr/local/lib/python3.13/threading.py\", line 1014, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x7aa81e0a00e0>\n    └ <Thread(Thread-11 (run_blocking_portal), started daemon 134862308636352)>\n  File \"/usr/local/lib/python3.13/threading.py\", line 1043, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x7aa81e2c7e20>\n    └ <Thread(Thread-11 (run_blocking_portal), started daemon 134862308636352)>\n  File \"/usr/local/lib/python3.13/threading.py\", line 994, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-11 (run_blocking_portal), started daemon 134862308636352)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-11 (run_blocking_portal), started daemon 134862308636352)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x7aa8180b7880>\n    └ <Thread(Thread-11 (run_blocking_portal), started daemon 134862308636352)>\n  File \"/usr/local/lib/python3.13/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x7aa81cd08a40>\n    └ <module 'anyio._core._eventloop' from '/usr/local/lib/python3.13/site-packages/anyio/_core/_eventloop.py'>\n  File \"/usr/local/lib/python3.13/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x7aa8180b7ba0>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x7aa8180b5580>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/usr/local/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x7aa8186576a0>\n           │      └ <function Runner.run at 0x7aa81d656660>\n           └ <asyncio.runners.Runner object at 0x7aa818516d50>\n  File \"/usr/local/lib/python3.13/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x7aa81d654180>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x7aa818516d50>\n  File \"/usr/local/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x7aa81d6540e0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/usr/local/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x7aa81d655ee0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/usr/local/lib/python3.13/asyncio/base_events.py\", line 2042, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x7aa81d74f1a0>\n    └ <Handle Task.task_wakeup()>\n  File \"/usr/local/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"/usr/local/lib/python3.13/site-packages/anyio/from_thread.py\", line 221, in _call_func\n    retval = await retval_or_awaitable\n                   └ <coroutine object FastAPI.__call__ at 0x7aa8184d7970>\n  File \"/usr/local/lib/python3.13/site-packages/fastapi/applications.py\", line 1054, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x7aa81823b600>\n                           │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x7aa8180b6e80>\n                           └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n  File \"/usr/local/lib/python3.13/site-packages/starlette/applications.py\", line 112, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function _TestClientTransport.handle_request.<locals>.send at 0x7aa81823b600>\n          │    │                │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x7aa8180b6e80>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7aa8180dafd0>\n          └ <fastapi.applications.FastAPI object at 0x7aa818ea0ec0>\n> File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7aa81823b1a0>\n          │    │   │      └ <function _TestClientTransport.handle_request.<locals>.receive at 0x7aa8180b6e80>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <ai_room_cleaner.backend.middleware.RequestSizeLimitMiddleware object at 0x7aa8185c87d0>\n          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7aa8180dafd0>\n  File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x7aa81bc5fe20>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"/usr/local/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError(\"object MagicMock can't be used in 'await' expression\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x7aa81ba90860>\n    └ <contextlib._GeneratorContextManager object at 0x7aa818303540>\n  File \"/usr/local/lib/python3.13/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7aa81823b7e0>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7aa8181f4bb0>\n                     │    └ <bound method RequestSizeLimitMiddleware.dispatch of <ai_room_cleaner.backend.middleware.RequestSizeLimitMiddleware object at...\n                     └ <ai_room_cleaner.backend.middleware.RequestSizeLimitMiddleware object at 0x7aa8185c87d0>\n\n  File \"/app/ai_room_cleaner/backend/middleware.py\", line 35, in dispatch\n    return await call_next(request)\n                 │         └ <starlette.middleware.base._CachedRequest object at 0x7aa8181f4bb0>\n                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7aa81823b7e0>\n\n  File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 156, in call_next\n    raise app_exc\n          └ TypeError(\"object MagicMock can't be used in 'await' expression\")\n  File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7aa81823b880>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa81823b920>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <ai_room_cleaner.backend.middleware.LoggingMiddleware object at 0x7aa8185116a0>\n          └ <ai_room_cleaner.backend.middleware.RequestSizeLimitMiddleware object at 0x7aa8185c87d0>\n  File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 176, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n         │            │            └ <function collapse_excgroups at 0x7aa81bc5fe20>\n         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...\n         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...\n  File \"/usr/local/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError(\"object MagicMock can't be used in 'await' expression\")])\n    │    │   └ <method 'throw' of 'generator' objects>\n    │    └ <generator object collapse_excgroups at 0x7aa8135820c0>\n    └ <contextlib._GeneratorContextManager object at 0x7aa8183009f0>\n  File \"/usr/local/lib/python3.13/site-packages/starlette/_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 178, in __call__\n    response = await self.dispatch_func(request, call_next)\n                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7aa818270220>\n                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7aa8181f6c10>\n                     │    └ <bound method LoggingMiddleware.dispatch of <ai_room_cleaner.backend.middleware.LoggingMiddleware object at 0x7aa8185116a0>>\n                     └ <ai_room_cleaner.backend.middleware.LoggingMiddleware object at 0x7aa8185116a0>\n\n  File \"/app/ai_room_cleaner/backend/middleware.py\", line 12, in dispatch\n    response = await call_next(request)\n                     │         └ <starlette.middleware.base._CachedRequest object at 0x7aa8181f6c10>\n                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7aa818270220>\n\n  File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 156, in call_next\n    raise app_exc\n          └ TypeError(\"object MagicMock can't be used in 'await' expression\")\n  File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/base.py\", line 141, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7aa81823ab60>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa81823ac00>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7aa818511550>\n          └ <ai_room_cleaner.backend.middleware.LoggingMiddleware object at 0x7aa8185116a0>\n  File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7aa81823ab60>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa81823ac00>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7aa8180db100>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x7aa818511550>\n  File \"/usr/local/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7aa81823ab60>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa81823ac00>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │                            │    │    └ <starlette.requests.Request object at 0x7aa813597d80>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x7aa81907dd10>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7aa8180db100>\n          └ <function wrap_app_handling_exceptions at 0x7aa81bbb00e0>\n  File \"/usr/local/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/usr/local/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7aa818657920>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa81823ac00>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          └ <fastapi.routing.APIRouter object at 0x7aa81907dd10>\n  File \"/usr/local/lib/python3.13/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7aa818657920>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa81823ac00>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7aa81907dd10>>\n          └ <fastapi.routing.APIRouter object at 0x7aa81907dd10>\n  File \"/usr/local/lib/python3.13/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7aa818657920>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa81823ac00>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │     └ <function Route.handle at 0x7aa81bbb1760>\n          └ APIRoute(path='/history', name='get_history', methods=['GET'])\n  File \"/usr/local/lib/python3.13/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7aa818657920>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa81823ac00>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │    └ <function request_response.<locals>.app at 0x7aa818e9e3e0>\n          └ APIRoute(path='/history', name='get_history', methods=['GET'])\n  File \"/usr/local/lib/python3.13/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7aa818657920>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa81823ac00>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          │                            │    └ <starlette.requests.Request object at 0x7aa8135968e0>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7aa818656660>\n          └ <function wrap_app_handling_exceptions at 0x7aa81bbb00e0>\n  File \"/usr/local/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/usr/local/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7aa81823b420>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7aa81823ac00>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/history', 'raw_path': b'/history', 'root_path': '', 'schem...\n          └ <function request_response.<locals>.app.<locals>.app at 0x7aa818656660>\n  File \"/usr/local/lib/python3.13/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x7aa8135968e0>\n                     └ <function get_request_handler.<locals>.app at 0x7aa818e9e2a0>\n  File \"/usr/local/lib/python3.13/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x7aa81bb8f880>\n  File \"/usr/local/lib/python3.13/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {}\n                 │         └ <function get_history at 0x7aa818e9cb80>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[], dependencies=[], security_requ...\n\n  File \"/app/ai_room_cleaner/backend/api/router.py\", line 148, in get_history\n    return await history_service.get_history()\n                 └ <MagicMock name='HistoryService()' id='134862438117936'>\n\nTypeError: object MagicMock can't be used in 'await' expression\n", "record": {"elapsed": {"repr": "0:00:03.187885", "seconds": 3.187885}, "exception": {"type": "TypeError", "value": "object MagicMock can't be used in 'await' expression", "traceback": true}, "extra": {"exc_info": "object MagicMock can't be used in 'await' expression"}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "generic_exception_handler", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 108, "message": "An unexpected error occurred", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:05.907792+00:00", "timestamp": 1750096505.907792}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:03.424620", "seconds": 3.42462}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.144527+00:00", "timestamp": 1750096506.144527}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:03.443729", "seconds": 3.443729}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-12 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.163636+00:00", "timestamp": 1750096506.163636}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:03.444564", "seconds": 3.444564}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-12 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.164471+00:00", "timestamp": 1750096506.164471}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:03.444877", "seconds": 3.444877}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-12 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.164784+00:00", "timestamp": 1750096506.164784}}}
{"text": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='134862391089808'>\n", "record": {"elapsed": {"repr": "0:00:03.445462", "seconds": 3.445462}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='134862391089808'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-12 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.165369+00:00", "timestamp": 1750096506.165369}}}
{"text": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='134862391555280'>\n", "record": {"elapsed": {"repr": "0:00:03.445926", "seconds": 3.445926}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='134862391555280'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-12 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.165833+00:00", "timestamp": 1750096506.165833}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:03.446293", "seconds": 3.446293}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-12 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.166200+00:00", "timestamp": 1750096506.1662}}}
{"text": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='134862391553264'>\n", "record": {"elapsed": {"repr": "0:00:03.446657", "seconds": 3.446657}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='134862391553264'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-12 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.166564+00:00", "timestamp": 1750096506.166564}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:03.446900", "seconds": 3.4469}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-12 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.166807+00:00", "timestamp": 1750096506.166807}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:03.448277", "seconds": 3.448277}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-12 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.168184+00:00", "timestamp": 1750096506.168184}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:03.449674", "seconds": 3.449674}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-12 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.169581+00:00", "timestamp": 1750096506.169581}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:03.450993", "seconds": 3.450993}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-12 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.170900+00:00", "timestamp": 1750096506.1709}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:03.451273", "seconds": 3.451273}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-12 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.171180+00:00", "timestamp": 1750096506.17118}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:03.465654", "seconds": 3.465654}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-12 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.185561+00:00", "timestamp": 1750096506.185561}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:03.466312", "seconds": 3.466312}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-12 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.186219+00:00", "timestamp": 1750096506.186219}}}
{"text": "Request: GET http://testserver/config\n", "record": {"elapsed": {"repr": "0:00:03.467986", "seconds": 3.467986}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/config", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-12 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.187893+00:00", "timestamp": 1750096506.187893}}}
{"text": "Response: 200\n", "record": {"elapsed": {"repr": "0:00:03.469180", "seconds": 3.46918}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 200", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-12 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.189087+00:00", "timestamp": 1750096506.189087}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:03.482951", "seconds": 3.482951}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-12 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.202858+00:00", "timestamp": 1750096506.202858}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:03.501758", "seconds": 3.501758}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.221665+00:00", "timestamp": 1750096506.221665}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:03.502658", "seconds": 3.502658}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.222565+00:00", "timestamp": 1750096506.222565}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:03.502973", "seconds": 3.502973}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.222880+00:00", "timestamp": 1750096506.22288}}}
{"text": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='134862377623840'>\n", "record": {"elapsed": {"repr": "0:00:03.503568", "seconds": 3.503568}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='134862377623840'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.223475+00:00", "timestamp": 1750096506.223475}}}
{"text": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='134862377624848'>\n", "record": {"elapsed": {"repr": "0:00:03.504204", "seconds": 3.504204}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='134862377624848'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.224111+00:00", "timestamp": 1750096506.224111}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:03.504652", "seconds": 3.504652}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.224559+00:00", "timestamp": 1750096506.224559}}}
{"text": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='134862377620144'>\n", "record": {"elapsed": {"repr": "0:00:03.505255", "seconds": 3.505255}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='134862377620144'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.225162+00:00", "timestamp": 1750096506.225162}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:03.505577", "seconds": 3.505577}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.225484+00:00", "timestamp": 1750096506.225484}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:03.507675", "seconds": 3.507675}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.227582+00:00", "timestamp": 1750096506.227582}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:03.508934", "seconds": 3.508934}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.228841+00:00", "timestamp": 1750096506.228841}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:03.509863", "seconds": 3.509863}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.229770+00:00", "timestamp": 1750096506.22977}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:03.510073", "seconds": 3.510073}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.229980+00:00", "timestamp": 1750096506.22998}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:03.524398", "seconds": 3.524398}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.244305+00:00", "timestamp": 1750096506.244305}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:03.525109", "seconds": 3.525109}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.245016+00:00", "timestamp": 1750096506.245016}}}
{"text": "Request: GET http://testserver/config\n", "record": {"elapsed": {"repr": "0:00:03.526824", "seconds": 3.526824}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/config", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.246731+00:00", "timestamp": 1750096506.246731}}}
{"text": "Response: 401\n", "record": {"elapsed": {"repr": "0:00:03.528336", "seconds": 3.528336}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 401", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.248243+00:00", "timestamp": 1750096506.248243}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:03.529643", "seconds": 3.529643}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.249550+00:00", "timestamp": 1750096506.24955}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:03.546911", "seconds": 3.546911}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.266818+00:00", "timestamp": 1750096506.266818}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:03.547775", "seconds": 3.547775}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.267682+00:00", "timestamp": 1750096506.267682}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:03.548211", "seconds": 3.548211}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.268118+00:00", "timestamp": 1750096506.268118}}}
{"text": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='134862377626864'>\n", "record": {"elapsed": {"repr": "0:00:03.548690", "seconds": 3.54869}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='134862377626864'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.268597+00:00", "timestamp": 1750096506.268597}}}
{"text": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='134862377627872'>\n", "record": {"elapsed": {"repr": "0:00:03.549264", "seconds": 3.549264}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='134862377627872'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.269171+00:00", "timestamp": 1750096506.269171}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:03.549703", "seconds": 3.549703}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.269610+00:00", "timestamp": 1750096506.26961}}}
{"text": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='134862377629552'>\n", "record": {"elapsed": {"repr": "0:00:03.550159", "seconds": 3.550159}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='134862377629552'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.270066+00:00", "timestamp": 1750096506.270066}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:03.550353", "seconds": 3.550353}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.270260+00:00", "timestamp": 1750096506.27026}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:03.551703", "seconds": 3.551703}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.271610+00:00", "timestamp": 1750096506.27161}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:03.552696", "seconds": 3.552696}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.272603+00:00", "timestamp": 1750096506.272603}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:03.553614", "seconds": 3.553614}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.273521+00:00", "timestamp": 1750096506.273521}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:03.553945", "seconds": 3.553945}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.273852+00:00", "timestamp": 1750096506.273852}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:03.568654", "seconds": 3.568654}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.288561+00:00", "timestamp": 1750096506.288561}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:03.569317", "seconds": 3.569317}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.289224+00:00", "timestamp": 1750096506.289224}}}
{"text": "Request: GET http://testserver/health\n", "record": {"elapsed": {"repr": "0:00:03.571486", "seconds": 3.571486}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/health", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.291393+00:00", "timestamp": 1750096506.291393}}}
{"text": "Response: 200\n", "record": {"elapsed": {"repr": "0:00:03.572301", "seconds": 3.572301}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 200", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.292208+00:00", "timestamp": 1750096506.292208}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:03.573531", "seconds": 3.573531}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.293438+00:00", "timestamp": 1750096506.293438}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:03.591517", "seconds": 3.591517}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.311424+00:00", "timestamp": 1750096506.311424}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:03.592664", "seconds": 3.592664}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.312571+00:00", "timestamp": 1750096506.312571}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:03.592986", "seconds": 3.592986}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.312893+00:00", "timestamp": 1750096506.312893}}}
{"text": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='134862378519248'>\n", "record": {"elapsed": {"repr": "0:00:03.593513", "seconds": 3.593513}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='134862378519248'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.313420+00:00", "timestamp": 1750096506.31342}}}
{"text": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='134862378520256'>\n", "record": {"elapsed": {"repr": "0:00:03.593973", "seconds": 3.593973}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='134862378520256'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.313880+00:00", "timestamp": 1750096506.31388}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:03.594376", "seconds": 3.594376}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.314283+00:00", "timestamp": 1750096506.314283}}}
{"text": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='134862378521936'>\n", "record": {"elapsed": {"repr": "0:00:03.594790", "seconds": 3.59479}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='134862378521936'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.314697+00:00", "timestamp": 1750096506.314697}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:03.594992", "seconds": 3.594992}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.314899+00:00", "timestamp": 1750096506.314899}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:03.597065", "seconds": 3.597065}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.316972+00:00", "timestamp": 1750096506.316972}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:03.598296", "seconds": 3.598296}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.318203+00:00", "timestamp": 1750096506.318203}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:03.599462", "seconds": 3.599462}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.319369+00:00", "timestamp": 1750096506.319369}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:03.599706", "seconds": 3.599706}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.319613+00:00", "timestamp": 1750096506.319613}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:03.613997", "seconds": 3.613997}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.333904+00:00", "timestamp": 1750096506.333904}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:03.614651", "seconds": 3.614651}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.334558+00:00", "timestamp": 1750096506.334558}}}
{"text": "Request: GET http://testserver/health\n", "record": {"elapsed": {"repr": "0:00:03.616796", "seconds": 3.616796}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/health", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.336703+00:00", "timestamp": 1750096506.336703}}}
{"text": "Response: 200\n", "record": {"elapsed": {"repr": "0:00:03.617629", "seconds": 3.617629}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 200", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.337536+00:00", "timestamp": 1750096506.337536}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:03.618923", "seconds": 3.618923}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 134862308636352, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:06.338830+00:00", "timestamp": 1750096506.33883}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.812693", "seconds": 1.812693}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.231691+00:00", "timestamp": 1750096547.231691}}}
{"text": "Application state initialized.\n", "record": {"elapsed": {"repr": "0:00:01.813649", "seconds": 1.813649}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Application state initialized.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.232647+00:00", "timestamp": 1750096547.232647}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:01.814191", "seconds": 1.814191}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.233189+00:00", "timestamp": 1750096547.233189}}}
{"text": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='126160440227024'>\n", "record": {"elapsed": {"repr": "0:00:01.814804", "seconds": 1.814804}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='126160440227024'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.233802+00:00", "timestamp": 1750096547.233802}}}
{"text": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='126160371405824'>\n", "record": {"elapsed": {"repr": "0:00:01.815374", "seconds": 1.815374}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='126160371405824'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.234372+00:00", "timestamp": 1750096547.234372}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:01.815794", "seconds": 1.815794}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.234792+00:00", "timestamp": 1750096547.234792}}}
{"text": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='126160371408848'>\n", "record": {"elapsed": {"repr": "0:00:01.816171", "seconds": 1.816171}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='126160371408848'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.235169+00:00", "timestamp": 1750096547.235169}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:01.816418", "seconds": 1.816418}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.235416+00:00", "timestamp": 1750096547.235416}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:01.818480", "seconds": 1.81848}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.237478+00:00", "timestamp": 1750096547.237478}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:01.819903", "seconds": 1.819903}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.238901+00:00", "timestamp": 1750096547.238901}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:01.821015", "seconds": 1.821015}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.240013+00:00", "timestamp": 1750096547.240013}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:01.821307", "seconds": 1.821307}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.240305+00:00", "timestamp": 1750096547.240305}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:01.835918", "seconds": 1.835918}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.254916+00:00", "timestamp": 1750096547.254916}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:01.836395", "seconds": 1.836395}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.255393+00:00", "timestamp": 1750096547.255393}}}
{"text": "Request: POST http://testserver/v1/analyze-room-secure\n", "record": {"elapsed": {"repr": "0:00:01.838007", "seconds": 1.838007}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: POST http://testserver/v1/analyze-room-secure", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.257005+00:00", "timestamp": 1750096547.257005}}}
{"text": "Response: 401\n", "record": {"elapsed": {"repr": "0:00:01.840595", "seconds": 1.840595}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 401", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.259593+00:00", "timestamp": 1750096547.259593}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:01.842207", "seconds": 1.842207}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.261205+00:00", "timestamp": 1750096547.261205}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.860534", "seconds": 1.860534}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.279532+00:00", "timestamp": 1750096547.279532}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:01.861368", "seconds": 1.861368}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.280366+00:00", "timestamp": 1750096547.280366}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:01.861795", "seconds": 1.861795}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.280793+00:00", "timestamp": 1750096547.280793}}}
{"text": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='126160371411872'>\n", "record": {"elapsed": {"repr": "0:00:01.862564", "seconds": 1.862564}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='126160371411872'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.281562+00:00", "timestamp": 1750096547.281562}}}
{"text": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='126160371412880'>\n", "record": {"elapsed": {"repr": "0:00:01.863188", "seconds": 1.863188}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='126160371412880'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.282186+00:00", "timestamp": 1750096547.282186}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:01.863561", "seconds": 1.863561}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.282559+00:00", "timestamp": 1750096547.282559}}}
{"text": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='126160371414560'>\n", "record": {"elapsed": {"repr": "0:00:01.863890", "seconds": 1.86389}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='126160371414560'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.282888+00:00", "timestamp": 1750096547.282888}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:01.864142", "seconds": 1.864142}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.283140+00:00", "timestamp": 1750096547.28314}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:01.866027", "seconds": 1.866027}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.285025+00:00", "timestamp": 1750096547.285025}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:01.867336", "seconds": 1.867336}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.286334+00:00", "timestamp": 1750096547.286334}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:01.868738", "seconds": 1.868738}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.287736+00:00", "timestamp": 1750096547.287736}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:01.869082", "seconds": 1.869082}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.288080+00:00", "timestamp": 1750096547.28808}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:01.884930", "seconds": 1.88493}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.303928+00:00", "timestamp": 1750096547.303928}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:01.885566", "seconds": 1.885566}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.304564+00:00", "timestamp": 1750096547.304564}}}
{"text": "Request: POST http://testserver/v1/analyze-room-secure\n", "record": {"elapsed": {"repr": "0:00:01.887389", "seconds": 1.887389}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: POST http://testserver/v1/analyze-room-secure", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.306387+00:00", "timestamp": 1750096547.306387}}}
{"text": "Received request for secure room analysis\n", "record": {"elapsed": {"repr": "0:00:01.890043", "seconds": 1.890043}, "exception": null, "extra": {}, "file": {"name": "router.py", "path": "/app/ai_room_cleaner/backend/api/router.py"}, "function": "analyze_room_secure", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "Received request for secure room analysis", "module": "router", "name": "ai_room_cleaner.backend.api.router", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.309041+00:00", "timestamp": 1750096547.309041}}}
{"text": "Response: 400\n", "record": {"elapsed": {"repr": "0:00:01.890774", "seconds": 1.890774}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 400", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.309772+00:00", "timestamp": 1750096547.309772}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:01.892102", "seconds": 1.892102}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.311100+00:00", "timestamp": 1750096547.3111}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.914936", "seconds": 1.914936}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.333934+00:00", "timestamp": 1750096547.333934}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:01.915781", "seconds": 1.915781}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.334779+00:00", "timestamp": 1750096547.334779}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:01.916283", "seconds": 1.916283}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.335281+00:00", "timestamp": 1750096547.335281}}}
{"text": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='126160372024384'>\n", "record": {"elapsed": {"repr": "0:00:01.916808", "seconds": 1.916808}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='126160372024384'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.335806+00:00", "timestamp": 1750096547.335806}}}
{"text": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='126160372025392'>\n", "record": {"elapsed": {"repr": "0:00:01.917359", "seconds": 1.917359}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='126160372025392'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.336357+00:00", "timestamp": 1750096547.336357}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:01.917869", "seconds": 1.917869}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.336867+00:00", "timestamp": 1750096547.336867}}}
{"text": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='126160372027072'>\n", "record": {"elapsed": {"repr": "0:00:01.918335", "seconds": 1.918335}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='126160372027072'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.337333+00:00", "timestamp": 1750096547.337333}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:01.918581", "seconds": 1.918581}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.337579+00:00", "timestamp": 1750096547.337579}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:01.920072", "seconds": 1.920072}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.339070+00:00", "timestamp": 1750096547.33907}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:01.921160", "seconds": 1.92116}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.340158+00:00", "timestamp": 1750096547.340158}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:01.922526", "seconds": 1.922526}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.341524+00:00", "timestamp": 1750096547.341524}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:01.922918", "seconds": 1.922918}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.341916+00:00", "timestamp": 1750096547.341916}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:01.937829", "seconds": 1.937829}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.356827+00:00", "timestamp": 1750096547.356827}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:01.938426", "seconds": 1.938426}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.357424+00:00", "timestamp": 1750096547.357424}}}
{"text": "Request: GET http://testserver/history\n", "record": {"elapsed": {"repr": "0:00:01.940491", "seconds": 1.940491}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/history", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.359489+00:00", "timestamp": 1750096547.359489}}}
{"text": "Response: 200\n", "record": {"elapsed": {"repr": "0:00:01.941155", "seconds": 1.941155}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 200", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.360153+00:00", "timestamp": 1750096547.360153}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:01.942316", "seconds": 1.942316}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.361314+00:00", "timestamp": 1750096547.361314}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.962536", "seconds": 1.962536}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.381534+00:00", "timestamp": 1750096547.381534}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:01.963427", "seconds": 1.963427}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.382425+00:00", "timestamp": 1750096547.382425}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:01.963842", "seconds": 1.963842}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.382840+00:00", "timestamp": 1750096547.38284}}}
{"text": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='126160372031104'>\n", "record": {"elapsed": {"repr": "0:00:01.964462", "seconds": 1.964462}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='126160372031104'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.383460+00:00", "timestamp": 1750096547.38346}}}
{"text": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='126160372032112'>\n", "record": {"elapsed": {"repr": "0:00:01.964960", "seconds": 1.96496}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='126160372032112'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.383958+00:00", "timestamp": 1750096547.383958}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:01.965448", "seconds": 1.965448}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.384446+00:00", "timestamp": 1750096547.384446}}}
{"text": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='126160372033792'>\n", "record": {"elapsed": {"repr": "0:00:01.965891", "seconds": 1.965891}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='126160372033792'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.384889+00:00", "timestamp": 1750096547.384889}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:01.966275", "seconds": 1.966275}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.385273+00:00", "timestamp": 1750096547.385273}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:01.967744", "seconds": 1.967744}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.386742+00:00", "timestamp": 1750096547.386742}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:01.968694", "seconds": 1.968694}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.387692+00:00", "timestamp": 1750096547.387692}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:01.969610", "seconds": 1.96961}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.388608+00:00", "timestamp": 1750096547.388608}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:01.969904", "seconds": 1.969904}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.388902+00:00", "timestamp": 1750096547.388902}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:01.984707", "seconds": 1.984707}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.403705+00:00", "timestamp": 1750096547.403705}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:01.985454", "seconds": 1.985454}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.404452+00:00", "timestamp": 1750096547.404452}}}
{"text": "Request: DELETE http://testserver/history\n", "record": {"elapsed": {"repr": "0:00:01.987284", "seconds": 1.987284}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: DELETE http://testserver/history", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.406282+00:00", "timestamp": 1750096547.406282}}}
{"text": "Response: 401\n", "record": {"elapsed": {"repr": "0:00:01.988316", "seconds": 1.988316}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 401", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.407314+00:00", "timestamp": 1750096547.407314}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:01.989496", "seconds": 1.989496}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.408494+00:00", "timestamp": 1750096547.408494}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.009343", "seconds": 2.009343}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.428341+00:00", "timestamp": 1750096547.428341}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:02.010178", "seconds": 2.010178}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.429176+00:00", "timestamp": 1750096547.429176}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.010573", "seconds": 2.010573}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.429571+00:00", "timestamp": 1750096547.429571}}}
{"text": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='126160372036480'>\n", "record": {"elapsed": {"repr": "0:00:02.011100", "seconds": 2.0111}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='126160372036480'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.430098+00:00", "timestamp": 1750096547.430098}}}
{"text": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='126160372037488'>\n", "record": {"elapsed": {"repr": "0:00:02.011764", "seconds": 2.011764}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='126160372037488'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.430762+00:00", "timestamp": 1750096547.430762}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.012431", "seconds": 2.012431}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.431429+00:00", "timestamp": 1750096547.431429}}}
{"text": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='126160372039168'>\n", "record": {"elapsed": {"repr": "0:00:02.013097", "seconds": 2.013097}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='126160372039168'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.432095+00:00", "timestamp": 1750096547.432095}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.013464", "seconds": 2.013464}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.432462+00:00", "timestamp": 1750096547.432462}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.015444", "seconds": 2.015444}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.434442+00:00", "timestamp": 1750096547.434442}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.016897", "seconds": 2.016897}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.435895+00:00", "timestamp": 1750096547.435895}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.018000", "seconds": 2.018}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.436998+00:00", "timestamp": 1750096547.436998}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.018263", "seconds": 2.018263}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.437261+00:00", "timestamp": 1750096547.437261}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.034266", "seconds": 2.034266}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.453264+00:00", "timestamp": 1750096547.453264}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.035284", "seconds": 2.035284}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.454282+00:00", "timestamp": 1750096547.454282}}}
{"text": "Request: DELETE http://testserver/history\n", "record": {"elapsed": {"repr": "0:00:02.037486", "seconds": 2.037486}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: DELETE http://testserver/history", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.456484+00:00", "timestamp": 1750096547.456484}}}
{"text": "Response: 200\n", "record": {"elapsed": {"repr": "0:00:02.038879", "seconds": 2.038879}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 200", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.457877+00:00", "timestamp": 1750096547.457877}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.040543", "seconds": 2.040543}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.459541+00:00", "timestamp": 1750096547.459541}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.059682", "seconds": 2.059682}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.478680+00:00", "timestamp": 1750096547.47868}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:02.060610", "seconds": 2.06061}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.479608+00:00", "timestamp": 1750096547.479608}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.061037", "seconds": 2.061037}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.480035+00:00", "timestamp": 1750096547.480035}}}
{"text": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='126160374895616'>\n", "record": {"elapsed": {"repr": "0:00:02.061629", "seconds": 2.061629}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='126160374895616'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.480627+00:00", "timestamp": 1750096547.480627}}}
{"text": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='126160374896624'>\n", "record": {"elapsed": {"repr": "0:00:02.062192", "seconds": 2.062192}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='126160374896624'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.481190+00:00", "timestamp": 1750096547.48119}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.062646", "seconds": 2.062646}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.481644+00:00", "timestamp": 1750096547.481644}}}
{"text": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='126160374898304'>\n", "record": {"elapsed": {"repr": "0:00:02.067087", "seconds": 2.067087}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='126160374898304'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.486085+00:00", "timestamp": 1750096547.486085}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.067914", "seconds": 2.067914}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.486912+00:00", "timestamp": 1750096547.486912}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.070551", "seconds": 2.070551}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.489549+00:00", "timestamp": 1750096547.489549}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.072613", "seconds": 2.072613}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.491611+00:00", "timestamp": 1750096547.491611}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.074672", "seconds": 2.074672}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.493670+00:00", "timestamp": 1750096547.49367}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.075244", "seconds": 2.075244}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.494242+00:00", "timestamp": 1750096547.494242}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.097994", "seconds": 2.097994}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.516992+00:00", "timestamp": 1750096547.516992}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.099239", "seconds": 2.099239}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.518237+00:00", "timestamp": 1750096547.518237}}}
{"text": "Request: GET http://testserver/history\n", "record": {"elapsed": {"repr": "0:00:02.103744", "seconds": 2.103744}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/history", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.522742+00:00", "timestamp": 1750096547.522742}}}
{"text": "Response: 200\n", "record": {"elapsed": {"repr": "0:00:02.104994", "seconds": 2.104994}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 200", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.523992+00:00", "timestamp": 1750096547.523992}}}
{"text": "Request: POST http://testserver/v1/analyze-room-secure\n", "record": {"elapsed": {"repr": "0:00:02.106829", "seconds": 2.106829}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: POST http://testserver/v1/analyze-room-secure", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.525827+00:00", "timestamp": 1750096547.525827}}}
{"text": "Received request for secure room analysis\n", "record": {"elapsed": {"repr": "0:00:02.108830", "seconds": 2.10883}, "exception": null, "extra": {}, "file": {"name": "router.py", "path": "/app/ai_room_cleaner/backend/api/router.py"}, "function": "analyze_room_secure", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "Received request for secure room analysis", "module": "router", "name": "ai_room_cleaner.backend.api.router", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.527828+00:00", "timestamp": 1750096547.527828}}}
{"text": "Response: 400\n", "record": {"elapsed": {"repr": "0:00:02.109722", "seconds": 2.109722}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 400", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.528720+00:00", "timestamp": 1750096547.52872}}}
{"text": "Request: GET http://testserver/history\n", "record": {"elapsed": {"repr": "0:00:02.111332", "seconds": 2.111332}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/history", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.530330+00:00", "timestamp": 1750096547.53033}}}
{"text": "Response: 200\n", "record": {"elapsed": {"repr": "0:00:02.112101", "seconds": 2.112101}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 200", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.531099+00:00", "timestamp": 1750096547.531099}}}
{"text": "Request: DELETE http://testserver/history\n", "record": {"elapsed": {"repr": "0:00:02.113863", "seconds": 2.113863}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: DELETE http://testserver/history", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.532861+00:00", "timestamp": 1750096547.532861}}}
{"text": "Response: 200\n", "record": {"elapsed": {"repr": "0:00:02.114867", "seconds": 2.114867}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 200", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.533865+00:00", "timestamp": 1750096547.533865}}}
{"text": "Request: GET http://testserver/history\n", "record": {"elapsed": {"repr": "0:00:02.117471", "seconds": 2.117471}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/history", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.536469+00:00", "timestamp": 1750096547.536469}}}
{"text": "Response: 200\n", "record": {"elapsed": {"repr": "0:00:02.118922", "seconds": 2.118922}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 200", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.537920+00:00", "timestamp": 1750096547.53792}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.121836", "seconds": 2.121836}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.540834+00:00", "timestamp": 1750096547.540834}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.154169", "seconds": 2.154169}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.573167+00:00", "timestamp": 1750096547.573167}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:02.155662", "seconds": 2.155662}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.574660+00:00", "timestamp": 1750096547.57466}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.156026", "seconds": 2.156026}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.575024+00:00", "timestamp": 1750096547.575024}}}
{"text": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='126160371411200'>\n", "record": {"elapsed": {"repr": "0:00:02.156614", "seconds": 2.156614}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='126160371411200'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.575612+00:00", "timestamp": 1750096547.575612}}}
{"text": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='126160371412880'>\n", "record": {"elapsed": {"repr": "0:00:02.157179", "seconds": 2.157179}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='126160371412880'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.576177+00:00", "timestamp": 1750096547.576177}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.157615", "seconds": 2.157615}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.576613+00:00", "timestamp": 1750096547.576613}}}
{"text": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='126160371413888'>\n", "record": {"elapsed": {"repr": "0:00:02.158114", "seconds": 2.158114}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='126160371413888'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.577112+00:00", "timestamp": 1750096547.577112}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.158433", "seconds": 2.158433}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.577431+00:00", "timestamp": 1750096547.577431}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.160070", "seconds": 2.16007}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.579068+00:00", "timestamp": 1750096547.579068}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.161382", "seconds": 2.161382}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.580380+00:00", "timestamp": 1750096547.58038}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.162624", "seconds": 2.162624}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.581622+00:00", "timestamp": 1750096547.581622}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.162968", "seconds": 2.162968}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.581966+00:00", "timestamp": 1750096547.581966}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.180845", "seconds": 2.180845}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.599843+00:00", "timestamp": 1750096547.599843}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.181963", "seconds": 2.181963}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.600961+00:00", "timestamp": 1750096547.600961}}}
{"text": "Request: GET http://testserver/config\n", "record": {"elapsed": {"repr": "0:00:02.183936", "seconds": 2.183936}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/config", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.602934+00:00", "timestamp": 1750096547.602934}}}
{"text": "Response: 200\n", "record": {"elapsed": {"repr": "0:00:02.185308", "seconds": 2.185308}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 200", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.604306+00:00", "timestamp": 1750096547.604306}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.408375", "seconds": 2.408375}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.827373+00:00", "timestamp": 1750096547.827373}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.425851", "seconds": 2.425851}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.844849+00:00", "timestamp": 1750096547.844849}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:02.426764", "seconds": 2.426764}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.845762+00:00", "timestamp": 1750096547.845762}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.427141", "seconds": 2.427141}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.846139+00:00", "timestamp": 1750096547.846139}}}
{"text": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='126160371404144'>\n", "record": {"elapsed": {"repr": "0:00:02.427845", "seconds": 2.427845}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='126160371404144'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.846843+00:00", "timestamp": 1750096547.846843}}}
{"text": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='126160371403136'>\n", "record": {"elapsed": {"repr": "0:00:02.428309", "seconds": 2.428309}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='126160371403136'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.847307+00:00", "timestamp": 1750096547.847307}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.428691", "seconds": 2.428691}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.847689+00:00", "timestamp": 1750096547.847689}}}
{"text": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='126160371401456'>\n", "record": {"elapsed": {"repr": "0:00:02.429224", "seconds": 2.429224}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='126160371401456'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.848222+00:00", "timestamp": 1750096547.848222}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.429522", "seconds": 2.429522}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.848520+00:00", "timestamp": 1750096547.84852}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.431597", "seconds": 2.431597}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.850595+00:00", "timestamp": 1750096547.850595}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.432809", "seconds": 2.432809}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.851807+00:00", "timestamp": 1750096547.851807}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.433951", "seconds": 2.433951}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.852949+00:00", "timestamp": 1750096547.852949}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.434290", "seconds": 2.43429}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.853288+00:00", "timestamp": 1750096547.853288}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.450313", "seconds": 2.450313}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.869311+00:00", "timestamp": 1750096547.869311}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.451105", "seconds": 2.451105}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.870103+00:00", "timestamp": 1750096547.870103}}}
{"text": "Request: GET http://testserver/config\n", "record": {"elapsed": {"repr": "0:00:02.452829", "seconds": 2.452829}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/config", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.871827+00:00", "timestamp": 1750096547.871827}}}
{"text": "Response: 401\n", "record": {"elapsed": {"repr": "0:00:02.454089", "seconds": 2.454089}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 401", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.873087+00:00", "timestamp": 1750096547.873087}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.455215", "seconds": 2.455215}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.874213+00:00", "timestamp": 1750096547.874213}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.472877", "seconds": 2.472877}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.891875+00:00", "timestamp": 1750096547.891875}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:02.473868", "seconds": 2.473868}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.892866+00:00", "timestamp": 1750096547.892866}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.474260", "seconds": 2.47426}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.893258+00:00", "timestamp": 1750096547.893258}}}
{"text": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='126160395150272'>\n", "record": {"elapsed": {"repr": "0:00:02.474850", "seconds": 2.47485}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='126160395150272'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.893848+00:00", "timestamp": 1750096547.893848}}}
{"text": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='126160395155312'>\n", "record": {"elapsed": {"repr": "0:00:02.475322", "seconds": 2.475322}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='126160395155312'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.894320+00:00", "timestamp": 1750096547.89432}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.475662", "seconds": 2.475662}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.894660+00:00", "timestamp": 1750096547.89466}}}
{"text": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='126160395147584'>\n", "record": {"elapsed": {"repr": "0:00:02.475976", "seconds": 2.475976}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='126160395147584'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.894974+00:00", "timestamp": 1750096547.894974}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.476216", "seconds": 2.476216}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.895214+00:00", "timestamp": 1750096547.895214}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.477766", "seconds": 2.477766}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.896764+00:00", "timestamp": 1750096547.896764}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.479418", "seconds": 2.479418}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.898416+00:00", "timestamp": 1750096547.898416}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.480581", "seconds": 2.480581}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.899579+00:00", "timestamp": 1750096547.899579}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.480843", "seconds": 2.480843}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.899841+00:00", "timestamp": 1750096547.899841}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.495649", "seconds": 2.495649}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.914647+00:00", "timestamp": 1750096547.914647}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.496260", "seconds": 2.49626}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.915258+00:00", "timestamp": 1750096547.915258}}}
{"text": "Request: GET http://testserver/health\n", "record": {"elapsed": {"repr": "0:00:02.498441", "seconds": 2.498441}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/health", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.917439+00:00", "timestamp": 1750096547.917439}}}
{"text": "Response: 200\n", "record": {"elapsed": {"repr": "0:00:02.499357", "seconds": 2.499357}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 200", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.918355+00:00", "timestamp": 1750096547.918355}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.501284", "seconds": 2.501284}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.920282+00:00", "timestamp": 1750096547.920282}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.518422", "seconds": 2.518422}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-16 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.937420+00:00", "timestamp": 1750096547.93742}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:02.519266", "seconds": 2.519266}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-16 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.938264+00:00", "timestamp": 1750096547.938264}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.519623", "seconds": 2.519623}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-16 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.938621+00:00", "timestamp": 1750096547.938621}}}
{"text": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='126160374892928'>\n", "record": {"elapsed": {"repr": "0:00:02.520384", "seconds": 2.520384}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='126160374892928'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-16 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.939382+00:00", "timestamp": 1750096547.939382}}}
{"text": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='126160374892592'>\n", "record": {"elapsed": {"repr": "0:00:02.520966", "seconds": 2.520966}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='126160374892592'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-16 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.939964+00:00", "timestamp": 1750096547.939964}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.521387", "seconds": 2.521387}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-16 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.940385+00:00", "timestamp": 1750096547.940385}}}
{"text": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='126160374891920'>\n", "record": {"elapsed": {"repr": "0:00:02.521766", "seconds": 2.521766}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='126160374891920'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-16 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.940764+00:00", "timestamp": 1750096547.940764}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.521972", "seconds": 2.521972}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-16 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.940970+00:00", "timestamp": 1750096547.94097}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.523697", "seconds": 2.523697}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-16 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.942695+00:00", "timestamp": 1750096547.942695}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.524761", "seconds": 2.524761}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-16 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.943759+00:00", "timestamp": 1750096547.943759}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.525792", "seconds": 2.525792}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-16 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.944790+00:00", "timestamp": 1750096547.94479}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.526032", "seconds": 2.526032}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-16 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.945030+00:00", "timestamp": 1750096547.94503}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.541520", "seconds": 2.54152}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-16 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.960518+00:00", "timestamp": 1750096547.960518}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.542208", "seconds": 2.542208}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-16 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.961206+00:00", "timestamp": 1750096547.961206}}}
{"text": "Request: GET http://testserver/health\n", "record": {"elapsed": {"repr": "0:00:02.544230", "seconds": 2.54423}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/health", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-16 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.963228+00:00", "timestamp": 1750096547.963228}}}
{"text": "Response: 200\n", "record": {"elapsed": {"repr": "0:00:02.544860", "seconds": 2.54486}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 200", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-16 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.963858+00:00", "timestamp": 1750096547.963858}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.545978", "seconds": 2.545978}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 126160383813312, "name": "Thread-16 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:55:47.964976+00:00", "timestamp": 1750096547.964976}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.767013", "seconds": 1.767013}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.243948+00:00", "timestamp": 1750096563.243948}}}
{"text": "Application state initialized.\n", "record": {"elapsed": {"repr": "0:00:01.767917", "seconds": 1.767917}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 37, "message": "Application state initialized.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.244852+00:00", "timestamp": 1750096563.244852}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:01.768321", "seconds": 1.768321}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.245256+00:00", "timestamp": 1750096563.245256}}}
{"text": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='140105957504208'>\n", "record": {"elapsed": {"repr": "0:00:01.768993", "seconds": 1.768993}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='140105957504208'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.245928+00:00", "timestamp": 1750096563.245928}}}
{"text": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='140105890960384'>\n", "record": {"elapsed": {"repr": "0:00:01.769907", "seconds": 1.769907}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='140105890960384'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.246842+00:00", "timestamp": 1750096563.246842}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:01.770693", "seconds": 1.770693}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.247628+00:00", "timestamp": 1750096563.247628}}}
{"text": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='140105890963408'>\n", "record": {"elapsed": {"repr": "0:00:01.771190", "seconds": 1.77119}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='140105890963408'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.248125+00:00", "timestamp": 1750096563.248125}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:01.771414", "seconds": 1.771414}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.248349+00:00", "timestamp": 1750096563.248349}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:01.772924", "seconds": 1.772924}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.249859+00:00", "timestamp": 1750096563.249859}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:01.773832", "seconds": 1.773832}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.250767+00:00", "timestamp": 1750096563.250767}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:01.774719", "seconds": 1.774719}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.251654+00:00", "timestamp": 1750096563.251654}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:01.774960", "seconds": 1.77496}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.251895+00:00", "timestamp": 1750096563.251895}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:01.790036", "seconds": 1.790036}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.266971+00:00", "timestamp": 1750096563.266971}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:01.790813", "seconds": 1.790813}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.267748+00:00", "timestamp": 1750096563.267748}}}
{"text": "Request: POST http://testserver/v1/analyze-room-secure\n", "record": {"elapsed": {"repr": "0:00:01.792917", "seconds": 1.792917}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: POST http://testserver/v1/analyze-room-secure", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.269852+00:00", "timestamp": 1750096563.269852}}}
{"text": "Response: 401\n", "record": {"elapsed": {"repr": "0:00:01.794606", "seconds": 1.794606}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 401", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.271541+00:00", "timestamp": 1750096563.271541}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:01.795723", "seconds": 1.795723}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-5 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.272658+00:00", "timestamp": 1750096563.272658}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.813935", "seconds": 1.813935}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.290870+00:00", "timestamp": 1750096563.29087}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:01.814863", "seconds": 1.814863}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.291798+00:00", "timestamp": 1750096563.291798}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:01.815230", "seconds": 1.81523}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.292165+00:00", "timestamp": 1750096563.292165}}}
{"text": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='140105890966432'>\n", "record": {"elapsed": {"repr": "0:00:01.815857", "seconds": 1.815857}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='140105890966432'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.292792+00:00", "timestamp": 1750096563.292792}}}
{"text": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='140105890967440'>\n", "record": {"elapsed": {"repr": "0:00:01.816313", "seconds": 1.816313}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='140105890967440'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.293248+00:00", "timestamp": 1750096563.293248}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:01.816698", "seconds": 1.816698}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.293633+00:00", "timestamp": 1750096563.293633}}}
{"text": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='140105890969120'>\n", "record": {"elapsed": {"repr": "0:00:01.817056", "seconds": 1.817056}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='140105890969120'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.293991+00:00", "timestamp": 1750096563.293991}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:01.817391", "seconds": 1.817391}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.294326+00:00", "timestamp": 1750096563.294326}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:01.819686", "seconds": 1.819686}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.296621+00:00", "timestamp": 1750096563.296621}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:01.820900", "seconds": 1.8209}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.297835+00:00", "timestamp": 1750096563.297835}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:01.821914", "seconds": 1.821914}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.298849+00:00", "timestamp": 1750096563.298849}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:01.822237", "seconds": 1.822237}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.299172+00:00", "timestamp": 1750096563.299172}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:01.841493", "seconds": 1.841493}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.318428+00:00", "timestamp": 1750096563.318428}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:01.842081", "seconds": 1.842081}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.319016+00:00", "timestamp": 1750096563.319016}}}
{"text": "Request: POST http://testserver/v1/analyze-room-secure\n", "record": {"elapsed": {"repr": "0:00:01.843503", "seconds": 1.843503}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: POST http://testserver/v1/analyze-room-secure", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.320438+00:00", "timestamp": 1750096563.320438}}}
{"text": "Received request for secure room analysis\n", "record": {"elapsed": {"repr": "0:00:01.845737", "seconds": 1.845737}, "exception": null, "extra": {}, "file": {"name": "router.py", "path": "/app/ai_room_cleaner/backend/api/router.py"}, "function": "analyze_room_secure", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "Received request for secure room analysis", "module": "router", "name": "ai_room_cleaner.backend.api.router", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.322672+00:00", "timestamp": 1750096563.322672}}}
{"text": "Response: 400\n", "record": {"elapsed": {"repr": "0:00:01.846759", "seconds": 1.846759}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 400", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.323694+00:00", "timestamp": 1750096563.323694}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:01.848105", "seconds": 1.848105}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-6 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.325040+00:00", "timestamp": 1750096563.32504}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.867345", "seconds": 1.867345}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.344280+00:00", "timestamp": 1750096563.34428}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:01.868595", "seconds": 1.868595}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.345530+00:00", "timestamp": 1750096563.34553}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:01.869066", "seconds": 1.869066}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.346001+00:00", "timestamp": 1750096563.346001}}}
{"text": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='140105888531520'>\n", "record": {"elapsed": {"repr": "0:00:01.869733", "seconds": 1.869733}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='140105888531520'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.346668+00:00", "timestamp": 1750096563.346668}}}
{"text": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='140105888532528'>\n", "record": {"elapsed": {"repr": "0:00:01.870235", "seconds": 1.870235}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='140105888532528'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.347170+00:00", "timestamp": 1750096563.34717}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:01.870613", "seconds": 1.870613}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.347548+00:00", "timestamp": 1750096563.347548}}}
{"text": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='140105888534208'>\n", "record": {"elapsed": {"repr": "0:00:01.870990", "seconds": 1.87099}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='140105888534208'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.347925+00:00", "timestamp": 1750096563.347925}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:01.871275", "seconds": 1.871275}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.348210+00:00", "timestamp": 1750096563.34821}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:01.873455", "seconds": 1.873455}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.350390+00:00", "timestamp": 1750096563.35039}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:01.875253", "seconds": 1.875253}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.352188+00:00", "timestamp": 1750096563.352188}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:01.876824", "seconds": 1.876824}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.353759+00:00", "timestamp": 1750096563.353759}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:01.877210", "seconds": 1.87721}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.354145+00:00", "timestamp": 1750096563.354145}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:01.896460", "seconds": 1.89646}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.373395+00:00", "timestamp": 1750096563.373395}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:01.897080", "seconds": 1.89708}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.374015+00:00", "timestamp": 1750096563.374015}}}
{"text": "Request: GET http://testserver/history\n", "record": {"elapsed": {"repr": "0:00:01.899195", "seconds": 1.899195}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/history", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.376130+00:00", "timestamp": 1750096563.37613}}}
{"text": "Response: 200\n", "record": {"elapsed": {"repr": "0:00:01.899892", "seconds": 1.899892}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 200", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.376827+00:00", "timestamp": 1750096563.376827}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:01.901201", "seconds": 1.901201}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-8 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.378136+00:00", "timestamp": 1750096563.378136}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.923085", "seconds": 1.923085}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.400020+00:00", "timestamp": 1750096563.40002}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:01.924192", "seconds": 1.924192}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.401127+00:00", "timestamp": 1750096563.401127}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:01.924679", "seconds": 1.924679}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.401614+00:00", "timestamp": 1750096563.401614}}}
{"text": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='140105888538240'>\n", "record": {"elapsed": {"repr": "0:00:01.925631", "seconds": 1.925631}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='140105888538240'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.402566+00:00", "timestamp": 1750096563.402566}}}
{"text": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='140105888539248'>\n", "record": {"elapsed": {"repr": "0:00:01.926310", "seconds": 1.92631}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='140105888539248'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.403245+00:00", "timestamp": 1750096563.403245}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:01.926773", "seconds": 1.926773}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.403708+00:00", "timestamp": 1750096563.403708}}}
{"text": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='140105888540928'>\n", "record": {"elapsed": {"repr": "0:00:01.927241", "seconds": 1.927241}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='140105888540928'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.404176+00:00", "timestamp": 1750096563.404176}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:01.927534", "seconds": 1.927534}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.404469+00:00", "timestamp": 1750096563.404469}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:01.929654", "seconds": 1.929654}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.406589+00:00", "timestamp": 1750096563.406589}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:01.931340", "seconds": 1.93134}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.408275+00:00", "timestamp": 1750096563.408275}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:01.932453", "seconds": 1.932453}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.409388+00:00", "timestamp": 1750096563.409388}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:01.932725", "seconds": 1.932725}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.409660+00:00", "timestamp": 1750096563.40966}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:01.948127", "seconds": 1.948127}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.425062+00:00", "timestamp": 1750096563.425062}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:01.948749", "seconds": 1.948749}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.425684+00:00", "timestamp": 1750096563.425684}}}
{"text": "Request: DELETE http://testserver/history\n", "record": {"elapsed": {"repr": "0:00:01.951003", "seconds": 1.951003}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: DELETE http://testserver/history", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.427938+00:00", "timestamp": 1750096563.427938}}}
{"text": "Response: 401\n", "record": {"elapsed": {"repr": "0:00:01.952485", "seconds": 1.952485}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 401", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.429420+00:00", "timestamp": 1750096563.42942}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:01.953869", "seconds": 1.953869}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-9 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.430804+00:00", "timestamp": 1750096563.430804}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:01.975643", "seconds": 1.975643}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.452578+00:00", "timestamp": 1750096563.452578}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:01.976572", "seconds": 1.976572}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.453507+00:00", "timestamp": 1750096563.453507}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:01.976904", "seconds": 1.976904}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.453839+00:00", "timestamp": 1750096563.453839}}}
{"text": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='140105888543616'>\n", "record": {"elapsed": {"repr": "0:00:01.977490", "seconds": 1.97749}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='140105888543616'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.454425+00:00", "timestamp": 1750096563.454425}}}
{"text": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='140105888544624'>\n", "record": {"elapsed": {"repr": "0:00:01.978200", "seconds": 1.9782}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='140105888544624'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.455135+00:00", "timestamp": 1750096563.455135}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:01.978957", "seconds": 1.978957}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.455892+00:00", "timestamp": 1750096563.455892}}}
{"text": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='140105888546304'>\n", "record": {"elapsed": {"repr": "0:00:01.979435", "seconds": 1.979435}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='140105888546304'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.456370+00:00", "timestamp": 1750096563.45637}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:01.979671", "seconds": 1.979671}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.456606+00:00", "timestamp": 1750096563.456606}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:01.981522", "seconds": 1.981522}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.458457+00:00", "timestamp": 1750096563.458457}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:01.982749", "seconds": 1.982749}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.459684+00:00", "timestamp": 1750096563.459684}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:01.984145", "seconds": 1.984145}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.461080+00:00", "timestamp": 1750096563.46108}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:01.984662", "seconds": 1.984662}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.461597+00:00", "timestamp": 1750096563.461597}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.005224", "seconds": 2.005224}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.482159+00:00", "timestamp": 1750096563.482159}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.006387", "seconds": 2.006387}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.483322+00:00", "timestamp": 1750096563.483322}}}
{"text": "Request: DELETE http://testserver/history\n", "record": {"elapsed": {"repr": "0:00:02.009410", "seconds": 2.00941}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: DELETE http://testserver/history", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.486345+00:00", "timestamp": 1750096563.486345}}}
{"text": "Response: 200\n", "record": {"elapsed": {"repr": "0:00:02.012009", "seconds": 2.012009}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 200", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.488944+00:00", "timestamp": 1750096563.488944}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.021142", "seconds": 2.021142}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-10 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.498077+00:00", "timestamp": 1750096563.498077}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.044455", "seconds": 2.044455}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.521390+00:00", "timestamp": 1750096563.52139}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:02.045433", "seconds": 2.045433}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.522368+00:00", "timestamp": 1750096563.522368}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.045881", "seconds": 2.045881}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.522816+00:00", "timestamp": 1750096563.522816}}}
{"text": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='140105889043456'>\n", "record": {"elapsed": {"repr": "0:00:02.046604", "seconds": 2.046604}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='140105889043456'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.523539+00:00", "timestamp": 1750096563.523539}}}
{"text": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='140105889044464'>\n", "record": {"elapsed": {"repr": "0:00:02.047362", "seconds": 2.047362}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='140105889044464'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.524297+00:00", "timestamp": 1750096563.524297}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.048187", "seconds": 2.048187}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.525122+00:00", "timestamp": 1750096563.525122}}}
{"text": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='140105889046144'>\n", "record": {"elapsed": {"repr": "0:00:02.051235", "seconds": 2.051235}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='140105889046144'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.528170+00:00", "timestamp": 1750096563.52817}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.051895", "seconds": 2.051895}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.528830+00:00", "timestamp": 1750096563.52883}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.054079", "seconds": 2.054079}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.531014+00:00", "timestamp": 1750096563.531014}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.055680", "seconds": 2.05568}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.532615+00:00", "timestamp": 1750096563.532615}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.057292", "seconds": 2.057292}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.534227+00:00", "timestamp": 1750096563.534227}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.057655", "seconds": 2.057655}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.534590+00:00", "timestamp": 1750096563.53459}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.082757", "seconds": 2.082757}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.559692+00:00", "timestamp": 1750096563.559692}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.084187", "seconds": 2.084187}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.561122+00:00", "timestamp": 1750096563.561122}}}
{"text": "Request: GET http://testserver/history\n", "record": {"elapsed": {"repr": "0:00:02.087831", "seconds": 2.087831}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/history", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.564766+00:00", "timestamp": 1750096563.564766}}}
{"text": "Response: 200\n", "record": {"elapsed": {"repr": "0:00:02.088788", "seconds": 2.088788}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 200", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.565723+00:00", "timestamp": 1750096563.565723}}}
{"text": "Request: POST http://testserver/v1/analyze-room-secure\n", "record": {"elapsed": {"repr": "0:00:02.091280", "seconds": 2.09128}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: POST http://testserver/v1/analyze-room-secure", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.568215+00:00", "timestamp": 1750096563.568215}}}
{"text": "Received request for secure room analysis\n", "record": {"elapsed": {"repr": "0:00:02.093151", "seconds": 2.093151}, "exception": null, "extra": {}, "file": {"name": "router.py", "path": "/app/ai_room_cleaner/backend/api/router.py"}, "function": "analyze_room_secure", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "Received request for secure room analysis", "module": "router", "name": "ai_room_cleaner.backend.api.router", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.570086+00:00", "timestamp": 1750096563.570086}}}
{"text": "Response: 400\n", "record": {"elapsed": {"repr": "0:00:02.093778", "seconds": 2.093778}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 400", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.570713+00:00", "timestamp": 1750096563.570713}}}
{"text": "Request: GET http://testserver/history\n", "record": {"elapsed": {"repr": "0:00:02.095071", "seconds": 2.095071}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/history", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.572006+00:00", "timestamp": 1750096563.572006}}}
{"text": "Response: 200\n", "record": {"elapsed": {"repr": "0:00:02.096170", "seconds": 2.09617}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 200", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.573105+00:00", "timestamp": 1750096563.573105}}}
{"text": "Request: DELETE http://testserver/history\n", "record": {"elapsed": {"repr": "0:00:02.098260", "seconds": 2.09826}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: DELETE http://testserver/history", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.575195+00:00", "timestamp": 1750096563.575195}}}
{"text": "Response: 200\n", "record": {"elapsed": {"repr": "0:00:02.099341", "seconds": 2.099341}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 200", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.576276+00:00", "timestamp": 1750096563.576276}}}
{"text": "Request: GET http://testserver/history\n", "record": {"elapsed": {"repr": "0:00:02.100548", "seconds": 2.100548}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/history", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.577483+00:00", "timestamp": 1750096563.577483}}}
{"text": "Response: 200\n", "record": {"elapsed": {"repr": "0:00:02.101116", "seconds": 2.101116}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 200", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.578051+00:00", "timestamp": 1750096563.578051}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.102605", "seconds": 2.102605}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-11 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.579540+00:00", "timestamp": 1750096563.57954}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.122418", "seconds": 2.122418}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.599353+00:00", "timestamp": 1750096563.599353}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:02.124319", "seconds": 2.124319}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.601254+00:00", "timestamp": 1750096563.601254}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.124970", "seconds": 2.12497}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.601905+00:00", "timestamp": 1750096563.601905}}}
{"text": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='140105890965760'>\n", "record": {"elapsed": {"repr": "0:00:02.125717", "seconds": 2.125717}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='140105890965760'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.602652+00:00", "timestamp": 1750096563.602652}}}
{"text": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='140105890967440'>\n", "record": {"elapsed": {"repr": "0:00:02.126532", "seconds": 2.126532}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='140105890967440'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.603467+00:00", "timestamp": 1750096563.603467}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.127288", "seconds": 2.127288}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.604223+00:00", "timestamp": 1750096563.604223}}}
{"text": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='140105890968448'>\n", "record": {"elapsed": {"repr": "0:00:02.128258", "seconds": 2.128258}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='140105890968448'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.605193+00:00", "timestamp": 1750096563.605193}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.128655", "seconds": 2.128655}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.605590+00:00", "timestamp": 1750096563.60559}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.130358", "seconds": 2.130358}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.607293+00:00", "timestamp": 1750096563.607293}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.132426", "seconds": 2.132426}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.609361+00:00", "timestamp": 1750096563.609361}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.134060", "seconds": 2.13406}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.610995+00:00", "timestamp": 1750096563.610995}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.134451", "seconds": 2.134451}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.611386+00:00", "timestamp": 1750096563.611386}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.151531", "seconds": 2.151531}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.628466+00:00", "timestamp": 1750096563.628466}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.152334", "seconds": 2.152334}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.629269+00:00", "timestamp": 1750096563.629269}}}
{"text": "Request: GET http://testserver/config\n", "record": {"elapsed": {"repr": "0:00:02.153981", "seconds": 2.153981}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/config", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.630916+00:00", "timestamp": 1750096563.630916}}}
{"text": "Response: 200\n", "record": {"elapsed": {"repr": "0:00:02.154978", "seconds": 2.154978}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 200", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.631913+00:00", "timestamp": 1750096563.631913}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.155985", "seconds": 2.155985}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-13 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.632920+00:00", "timestamp": 1750096563.63292}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.174064", "seconds": 2.174064}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.650999+00:00", "timestamp": 1750096563.650999}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:02.174951", "seconds": 2.174951}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.651886+00:00", "timestamp": 1750096563.651886}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.175329", "seconds": 2.175329}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.652264+00:00", "timestamp": 1750096563.652264}}}
{"text": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='140105890970800'>\n", "record": {"elapsed": {"repr": "0:00:02.175774", "seconds": 2.175774}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='140105890970800'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.652709+00:00", "timestamp": 1750096563.652709}}}
{"text": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='140105890959040'>\n", "record": {"elapsed": {"repr": "0:00:02.176676", "seconds": 2.176676}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='140105890959040'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.653611+00:00", "timestamp": 1750096563.653611}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.177126", "seconds": 2.177126}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.654061+00:00", "timestamp": 1750096563.654061}}}
{"text": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='140105890956352'>\n", "record": {"elapsed": {"repr": "0:00:02.177531", "seconds": 2.177531}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='140105890956352'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.654466+00:00", "timestamp": 1750096563.654466}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.177772", "seconds": 2.177772}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.654707+00:00", "timestamp": 1750096563.654707}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.180115", "seconds": 2.180115}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.657050+00:00", "timestamp": 1750096563.65705}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.181452", "seconds": 2.181452}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.658387+00:00", "timestamp": 1750096563.658387}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.182879", "seconds": 2.182879}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.659814+00:00", "timestamp": 1750096563.659814}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.183207", "seconds": 2.183207}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.660142+00:00", "timestamp": 1750096563.660142}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.199883", "seconds": 2.199883}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.676818+00:00", "timestamp": 1750096563.676818}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.200783", "seconds": 2.200783}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.677718+00:00", "timestamp": 1750096563.677718}}}
{"text": "Request: GET http://testserver/config\n", "record": {"elapsed": {"repr": "0:00:02.202446", "seconds": 2.202446}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/config", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.679381+00:00", "timestamp": 1750096563.679381}}}
{"text": "Response: 401\n", "record": {"elapsed": {"repr": "0:00:02.203589", "seconds": 2.203589}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 401", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.680524+00:00", "timestamp": 1750096563.680524}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.204766", "seconds": 2.204766}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-14 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.681701+00:00", "timestamp": 1750096563.681701}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.222778", "seconds": 2.222778}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.699713+00:00", "timestamp": 1750096563.699713}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:02.223617", "seconds": 2.223617}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.700552+00:00", "timestamp": 1750096563.700552}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.223875", "seconds": 2.223875}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.700810+00:00", "timestamp": 1750096563.70081}}}
{"text": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='140105910478768'>\n", "record": {"elapsed": {"repr": "0:00:02.224440", "seconds": 2.22444}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='140105910478768'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.701375+00:00", "timestamp": 1750096563.701375}}}
{"text": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='140105910479440'>\n", "record": {"elapsed": {"repr": "0:00:02.225002", "seconds": 2.225002}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='140105910479440'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.701937+00:00", "timestamp": 1750096563.701937}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.225392", "seconds": 2.225392}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.702327+00:00", "timestamp": 1750096563.702327}}}
{"text": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='140105910484144'>\n", "record": {"elapsed": {"repr": "0:00:02.225966", "seconds": 2.225966}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='140105910484144'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.702901+00:00", "timestamp": 1750096563.702901}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.226174", "seconds": 2.226174}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.703109+00:00", "timestamp": 1750096563.703109}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.227661", "seconds": 2.227661}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.704596+00:00", "timestamp": 1750096563.704596}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.229143", "seconds": 2.229143}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.706078+00:00", "timestamp": 1750096563.706078}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.230315", "seconds": 2.230315}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.707250+00:00", "timestamp": 1750096563.70725}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.230564", "seconds": 2.230564}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.707499+00:00", "timestamp": 1750096563.707499}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.245341", "seconds": 2.245341}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.722276+00:00", "timestamp": 1750096563.722276}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.245946", "seconds": 2.245946}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.722881+00:00", "timestamp": 1750096563.722881}}}
{"text": "Request: GET http://testserver/health\n", "record": {"elapsed": {"repr": "0:00:02.247939", "seconds": 2.247939}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/health", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.724874+00:00", "timestamp": 1750096563.724874}}}
{"text": "Response: 200\n", "record": {"elapsed": {"repr": "0:00:02.248658", "seconds": 2.248658}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 200", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.725593+00:00", "timestamp": 1750096563.725593}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.250114", "seconds": 2.250114}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-15 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.727049+00:00", "timestamp": 1750096563.727049}}}
{"text": "--- AI Room Cleaner Starting Up ---\n", "record": {"elapsed": {"repr": "0:00:02.268208", "seconds": 2.268208}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 32, "message": "--- AI Room Cleaner Starting Up ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-16 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.745143+00:00", "timestamp": 1750096563.745143}}}
{"text": "State is already initialized. Ignoring subsequent call.\n", "record": {"elapsed": {"repr": "0:00:02.268861", "seconds": 2.268861}, "exception": null, "extra": {}, "file": {"name": "state.py", "path": "/app/ai_room_cleaner/backend/core/state.py"}, "function": "initialize", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 32, "message": "State is already initialized. Ignoring subsequent call.", "module": "state", "name": "ai_room_cleaner.backend.core.state", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-16 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.745796+00:00", "timestamp": 1750096563.745796}}}
{"text": "AI service and application state initialized.\n", "record": {"elapsed": {"repr": "0:00:02.269105", "seconds": 2.269105}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 41, "message": "AI service and application state initialized.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-16 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.746040+00:00", "timestamp": 1750096563.74604}}}
{"text": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='140105910957264'>\n", "record": {"elapsed": {"repr": "0:00:02.269831", "seconds": 2.269831}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 43, "message": "Camera Entity: <MagicMock name='get_settings().camera_entity' id='140105910957264'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-16 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.746766+00:00", "timestamp": 1750096563.746766}}}
{"text": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='140105910955920'>\n", "record": {"elapsed": {"repr": "0:00:02.270610", "seconds": 2.27061}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 44, "message": "AI Model: <MagicMock name='get_settings().AI_MODEL' id='140105910955920'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-16 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.747545+00:00", "timestamp": 1750096563.747545}}}
{"text": "API Key configured: True\n", "record": {"elapsed": {"repr": "0:00:02.271803", "seconds": 2.271803}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 45, "message": "API Key configured: True", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-16 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.748738+00:00", "timestamp": 1750096563.748738}}}
{"text": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='140105910955584'>\n", "record": {"elapsed": {"repr": "0:00:02.272395", "seconds": 2.272395}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 46, "message": "Supervisor URL: <MagicMock name='get_settings().supervisor_url' id='140105910955584'>", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-16 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.749330+00:00", "timestamp": 1750096563.74933}}}
{"text": "Checking for frontend files...\n", "record": {"elapsed": {"repr": "0:00:02.272705", "seconds": 2.272705}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 49, "message": "Checking for frontend files...", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-16 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.749640+00:00", "timestamp": 1750096563.74964}}}
{"text": "  index.html: ✓\n", "record": {"elapsed": {"repr": "0:00:02.274134", "seconds": 2.274134}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  index.html: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-16 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.751069+00:00", "timestamp": 1750096563.751069}}}
{"text": "  style.css: ✓\n", "record": {"elapsed": {"repr": "0:00:02.275180", "seconds": 2.27518}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  style.css: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-16 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.752115+00:00", "timestamp": 1750096563.752115}}}
{"text": "  app.js: ✓\n", "record": {"elapsed": {"repr": "0:00:02.276131", "seconds": 2.276131}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 57, "message": "  app.js: ✓", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-16 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.753066+00:00", "timestamp": 1750096563.753066}}}
{"text": "Essential configuration is valid.\n", "record": {"elapsed": {"repr": "0:00:02.276481", "seconds": 2.276481}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 61, "message": "Essential configuration is valid.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-16 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.753416+00:00", "timestamp": 1750096563.753416}}}
{"text": "Shared httpx.AsyncClient created.\n", "record": {"elapsed": {"repr": "0:00:02.291239", "seconds": 2.291239}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 69, "message": "Shared httpx.AsyncClient created.", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-16 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.768174+00:00", "timestamp": 1750096563.768174}}}
{"text": "--- Startup Complete ---\n", "record": {"elapsed": {"repr": "0:00:02.291991", "seconds": 2.291991}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 71, "message": "--- Startup Complete ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-16 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.768926+00:00", "timestamp": 1750096563.768926}}}
{"text": "Request: GET http://testserver/health\n", "record": {"elapsed": {"repr": "0:00:02.294101", "seconds": 2.294101}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 11, "message": "Request: GET http://testserver/health", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-16 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.771036+00:00", "timestamp": 1750096563.771036}}}
{"text": "Response: 200\n", "record": {"elapsed": {"repr": "0:00:02.294927", "seconds": 2.294927}, "exception": null, "extra": {}, "file": {"name": "middleware.py", "path": "/app/ai_room_cleaner/backend/middleware.py"}, "function": "dispatch", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 13, "message": "Response: 200", "module": "middleware", "name": "ai_room_cleaner.backend.middleware", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-16 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.771862+00:00", "timestamp": 1750096563.771862}}}
{"text": "--- AI Room Cleaner Shutting Down ---\n", "record": {"elapsed": {"repr": "0:00:02.296059", "seconds": 2.296059}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/app/ai_room_cleaner/backend/main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 74, "message": "--- AI Room Cleaner Shutting Down ---", "module": "main", "name": "ai_room_cleaner.backend.main", "process": {"id": 1, "name": "MainProcess"}, "thread": {"id": 140105900963520, "name": "Thread-16 (run_blocking_portal)"}, "time": {"repr": "2025-06-16 17:56:03.772994+00:00", "timestamp": 1750096563.772994}}}
